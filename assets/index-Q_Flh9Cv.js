(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function X0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ru={exports:{}},Tl={};var o0;function kg(){if(o0)return Tl;o0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:i,type:r,key:f,ref:c!==void 0?c:null,props:d}}return Tl.Fragment=n,Tl.jsx=l,Tl.jsxs=l,Tl}var u0;function zg(){return u0||(u0=1,Ru.exports=kg()),Ru.exports}var h=zg(),ku={exports:{}},fe={};var c0;function Ug(){if(c0)return fe;c0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),A=Symbol.iterator;function T(_){return _===null||typeof _!="object"?null:(_=A&&_[A]||_["@@iterator"],typeof _=="function"?_:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,$={};function G(_,M,J){this.props=_,this.context=M,this.refs=$,this.updater=J||k}G.prototype.isReactComponent={},G.prototype.setState=function(_,M){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,M,"setState")},G.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function Y(){}Y.prototype=G.prototype;function H(_,M,J){this.props=_,this.context=M,this.refs=$,this.updater=J||k}var Z=H.prototype=new Y;Z.constructor=H,E(Z,G.prototype),Z.isPureReactComponent=!0;var he=Array.isArray;function ee(){}var X={H:null,A:null,T:null,S:null},xe=Object.prototype.hasOwnProperty;function we(_,M,J){var W=J.ref;return{$$typeof:i,type:_,key:M,ref:W!==void 0?W:null,props:J}}function bt(_,M){return we(_.type,M,_.props)}function He(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function Ge(_){var M={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(J){return M[J]})}var ue=/\/+/g;function ce(_,M){return typeof _=="object"&&_!==null&&_.key!=null?Ge(""+_.key):M.toString(36)}function P(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(ee,ee):(_.status="pending",_.then(function(M){_.status==="pending"&&(_.status="fulfilled",_.value=M)},function(M){_.status==="pending"&&(_.status="rejected",_.reason=M)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function C(_,M,J,W,de){var pe=typeof _;(pe==="undefined"||pe==="boolean")&&(_=null);var Ne=!1;if(_===null)Ne=!0;else switch(pe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(_.$$typeof){case i:case n:Ne=!0;break;case x:return Ne=_._init,C(Ne(_._payload),M,J,W,de)}}if(Ne)return de=de(_),Ne=W===""?"."+ce(_,0):W,he(de)?(J="",Ne!=null&&(J=Ne.replace(ue,"$&/")+"/"),C(de,M,J,"",function(ua){return ua})):de!=null&&(He(de)&&(de=bt(de,J+(de.key==null||_&&_.key===de.key?"":(""+de.key).replace(ue,"$&/")+"/")+Ne)),M.push(de)),1;Ne=0;var lt=W===""?".":W+":";if(he(_))for(var Ve=0;Ve<_.length;Ve++)W=_[Ve],pe=lt+ce(W,Ve),Ne+=C(W,M,J,pe,de);else if(Ve=T(_),typeof Ve=="function")for(_=Ve.call(_),Ve=0;!(W=_.next()).done;)W=W.value,pe=lt+ce(W,Ve++),Ne+=C(W,M,J,pe,de);else if(pe==="object"){if(typeof _.then=="function")return C(P(_),M,J,W,de);throw M=String(_),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function U(_,M,J){if(_==null)return _;var W=[],de=0;return C(_,W,"","",function(pe){return M.call(J,pe,de++)}),W}function K(_){if(_._status===-1){var M=_._result;M=M(),M.then(function(J){(_._status===0||_._status===-1)&&(_._status=1,_._result=J)},function(J){(_._status===0||_._status===-1)&&(_._status=2,_._result=J)}),_._status===-1&&(_._status=0,_._result=M)}if(_._status===1)return _._result.default;throw _._result}var le=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}},me={map:U,forEach:function(_,M,J){U(_,function(){M.apply(this,arguments)},J)},count:function(_){var M=0;return U(_,function(){M++}),M},toArray:function(_){return U(_,function(M){return M})||[]},only:function(_){if(!He(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return fe.Activity=j,fe.Children=me,fe.Component=G,fe.Fragment=l,fe.Profiler=c,fe.PureComponent=H,fe.StrictMode=r,fe.Suspense=p,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,fe.__COMPILER_RUNTIME={__proto__:null,c:function(_){return X.H.useMemoCache(_)}},fe.cache=function(_){return function(){return _.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(_,M,J){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var W=E({},_.props),de=_.key;if(M!=null)for(pe in M.key!==void 0&&(de=""+M.key),M)!xe.call(M,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&M.ref===void 0||(W[pe]=M[pe]);var pe=arguments.length-2;if(pe===1)W.children=J;else if(1<pe){for(var Ne=Array(pe),lt=0;lt<pe;lt++)Ne[lt]=arguments[lt+2];W.children=Ne}return we(_.type,de,W)},fe.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},fe.createElement=function(_,M,J){var W,de={},pe=null;if(M!=null)for(W in M.key!==void 0&&(pe=""+M.key),M)xe.call(M,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(de[W]=M[W]);var Ne=arguments.length-2;if(Ne===1)de.children=J;else if(1<Ne){for(var lt=Array(Ne),Ve=0;Ve<Ne;Ve++)lt[Ve]=arguments[Ve+2];de.children=lt}if(_&&_.defaultProps)for(W in Ne=_.defaultProps,Ne)de[W]===void 0&&(de[W]=Ne[W]);return we(_,pe,de)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(_){return{$$typeof:g,render:_}},fe.isValidElement=He,fe.lazy=function(_){return{$$typeof:x,_payload:{_status:-1,_result:_},_init:K}},fe.memo=function(_,M){return{$$typeof:y,type:_,compare:M===void 0?null:M}},fe.startTransition=function(_){var M=X.T,J={};X.T=J;try{var W=_(),de=X.S;de!==null&&de(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ee,le)}catch(pe){le(pe)}finally{M!==null&&J.types!==null&&(M.types=J.types),X.T=M}},fe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},fe.use=function(_){return X.H.use(_)},fe.useActionState=function(_,M,J){return X.H.useActionState(_,M,J)},fe.useCallback=function(_,M){return X.H.useCallback(_,M)},fe.useContext=function(_){return X.H.useContext(_)},fe.useDebugValue=function(){},fe.useDeferredValue=function(_,M){return X.H.useDeferredValue(_,M)},fe.useEffect=function(_,M){return X.H.useEffect(_,M)},fe.useEffectEvent=function(_){return X.H.useEffectEvent(_)},fe.useId=function(){return X.H.useId()},fe.useImperativeHandle=function(_,M,J){return X.H.useImperativeHandle(_,M,J)},fe.useInsertionEffect=function(_,M){return X.H.useInsertionEffect(_,M)},fe.useLayoutEffect=function(_,M){return X.H.useLayoutEffect(_,M)},fe.useMemo=function(_,M){return X.H.useMemo(_,M)},fe.useOptimistic=function(_,M){return X.H.useOptimistic(_,M)},fe.useReducer=function(_,M,J){return X.H.useReducer(_,M,J)},fe.useRef=function(_){return X.H.useRef(_)},fe.useState=function(_){return X.H.useState(_)},fe.useSyncExternalStore=function(_,M,J){return X.H.useSyncExternalStore(_,M,J)},fe.useTransition=function(){return X.H.useTransition()},fe.version="19.2.3",fe}var d0;function sc(){return d0||(d0=1,ku.exports=Ug()),ku.exports}var I=sc();const Dg=X0(I);var zu={exports:{}},Al={},Uu={exports:{}},Du={};var h0;function Mg(){return h0||(h0=1,(function(i){function n(C,U){var K=C.length;C.push(U);e:for(;0<K;){var le=K-1>>>1,me=C[le];if(0<c(me,U))C[le]=U,C[K]=me,K=le;else break e}}function l(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var U=C[0],K=C.pop();if(K!==U){C[0]=K;e:for(var le=0,me=C.length,_=me>>>1;le<_;){var M=2*(le+1)-1,J=C[M],W=M+1,de=C[W];if(0>c(J,K))W<me&&0>c(de,J)?(C[le]=de,C[W]=K,le=W):(C[le]=J,C[M]=K,le=M);else if(W<me&&0>c(de,K))C[le]=de,C[W]=K,le=W;else break e}}return U}function c(C,U){var K=C.sortIndex-U.sortIndex;return K!==0?K:C.id-U.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var p=[],y=[],x=1,j=null,A=3,T=!1,k=!1,E=!1,$=!1,G=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Z(C){for(var U=l(y);U!==null;){if(U.callback===null)r(y);else if(U.startTime<=C)r(y),U.sortIndex=U.expirationTime,n(p,U);else break;U=l(y)}}function he(C){if(E=!1,Z(C),!k)if(l(p)!==null)k=!0,ee||(ee=!0,Ge());else{var U=l(y);U!==null&&P(he,U.startTime-C)}}var ee=!1,X=-1,xe=5,we=-1;function bt(){return $?!0:!(i.unstable_now()-we<xe)}function He(){if($=!1,ee){var C=i.unstable_now();we=C;var U=!0;try{e:{k=!1,E&&(E=!1,Y(X),X=-1),T=!0;var K=A;try{t:{for(Z(C),j=l(p);j!==null&&!(j.expirationTime>C&&bt());){var le=j.callback;if(typeof le=="function"){j.callback=null,A=j.priorityLevel;var me=le(j.expirationTime<=C);if(C=i.unstable_now(),typeof me=="function"){j.callback=me,Z(C),U=!0;break t}j===l(p)&&r(p),Z(C)}else r(p);j=l(p)}if(j!==null)U=!0;else{var _=l(y);_!==null&&P(he,_.startTime-C),U=!1}}break e}finally{j=null,A=K,T=!1}U=void 0}}finally{U?Ge():ee=!1}}}var Ge;if(typeof H=="function")Ge=function(){H(He)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ce=ue.port2;ue.port1.onmessage=He,Ge=function(){ce.postMessage(null)}}else Ge=function(){G(He,0)};function P(C,U){X=G(function(){C(i.unstable_now())},U)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_forceFrameRate=function(C){0>C||125<C||(xe=0<C?Math.floor(1e3/C):5)},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(C){switch(A){case 1:case 2:case 3:var U=3;break;default:U=A}var K=A;A=U;try{return C()}finally{A=K}},i.unstable_requestPaint=function(){$=!0},i.unstable_runWithPriority=function(C,U){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var K=A;A=C;try{return U()}finally{A=K}},i.unstable_scheduleCallback=function(C,U,K){var le=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?le+K:le):K=le,C){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=K+me,C={id:x++,callback:U,priorityLevel:C,startTime:K,expirationTime:me,sortIndex:-1},K>le?(C.sortIndex=K,n(y,C),l(p)===null&&C===l(y)&&(E?(Y(X),X=-1):E=!0,P(he,K-le))):(C.sortIndex=me,n(p,C),k||T||(k=!0,ee||(ee=!0,Ge()))),C},i.unstable_shouldYield=bt,i.unstable_wrapCallback=function(C){var U=A;return function(){var K=A;A=U;try{return C.apply(this,arguments)}finally{A=K}}}})(Du)),Du}var f0;function Bg(){return f0||(f0=1,Uu.exports=Mg()),Uu.exports}var Mu={exports:{}},xt={};var m0;function Lg(){if(m0)return xt;m0=1;var i=sc();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,y,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:j==null?null:""+j,children:p,containerInfo:y,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xt.createPortal=function(p,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return d(p,y,null,x)},xt.flushSync=function(p){var y=f.T,x=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=x,r.d.f()}},xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var x=y.as,j=g(x,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,T=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:j,integrity:A,fetchPriority:T}):x==="script"&&r.d.X(p,{crossOrigin:j,integrity:A,fetchPriority:T,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=g(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,j=g(x,y.crossOrigin);r.d.L(p,x,{crossOrigin:j,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var x=g(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},xt.requestFormReset=function(p){r.d.r(p)},xt.unstable_batchedUpdates=function(p,y){return p(y)},xt.useFormState=function(p,y,x){return f.H.useFormState(p,y,x)},xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var p0;function qg(){if(p0)return Mu.exports;p0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch{}}return i(),Mu.exports=Lg(),Mu.exports}var g0;function $g(){if(g0)return Al;g0=1;var i=Bg(),n=sc(),l=qg();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return p(o),e;if(u===s)return p(o),t;u=u.sibling}throw Error(r(188))}if(a.return!==s.return)a=o,s=u;else{for(var m=!1,v=o.child;v;){if(v===a){m=!0,a=o,s=u;break}if(v===s){m=!0,s=o,a=u;break}v=v.sibling}if(!m){for(v=u.child;v;){if(v===a){m=!0,a=u,s=o;break}if(v===s){m=!0,s=u,a=o;break}v=v.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,A=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),we=Symbol.for("react.activity"),bt=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function Ge(e){return e===null||typeof e!="object"?null:(e=He&&e[He]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case G:return"Profiler";case $:return"StrictMode";case he:return"Suspense";case ee:return"SuspenseList";case we:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case H:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case xe:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}var P=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},le=[],me=-1;function _(e){return{current:e}}function M(e){0>me||(e.current=le[me],le[me]=null,me--)}function J(e,t){me++,le[me]=e.current,e.current=t}var W=_(null),de=_(null),pe=_(null),Ne=_(null);function lt(e,t){switch(J(pe,t),J(de,e),J(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rf(t),e=kf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(W),J(W,e)}function Ve(){M(W),M(de),M(pe)}function ua(e){e.memoizedState!==null&&J(Ne,e);var t=W.current,a=kf(t,e.type);t!==a&&(J(de,e),J(W,a))}function Ca(e){de.current===e&&(M(W),M(de)),Ne.current===e&&(M(Ne),wl._currentValue=K)}var sn,Bn;function Ft(e){if(sn===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);sn=t&&t[1]||"",Bn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sn+e+Bn}var ln=!1;function Ra(e,t){if(!e||ln)return"";ln=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(z){var R=z}Reflect.construct(e,[],L)}else{try{L.call()}catch(z){R=z}e.call(L.prototype)}}else{try{throw Error()}catch(z){R=z}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(z){if(z&&R&&typeof z.stack=="string")return[z.stack,R.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],v=u[1];if(m&&v){var b=m.split(`
`),O=v.split(`
`);for(o=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;if(s===b.length||o===O.length)for(s=b.length-1,o=O.length-1;1<=s&&0<=o&&b[s]!==O[o];)o--;for(;1<=s&&0<=o;s--,o--)if(b[s]!==O[o]){if(s!==1||o!==1)do if(s--,o--,0>o||b[s]!==O[o]){var D=`
`+b[s].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=s&&0<=o);break}}}finally{ln=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ft(a):""}function Us(e,t){switch(e.tag){case 26:case 27:case 5:return Ft(e.type);case 16:return Ft("Lazy");case 13:return e.child!==t&&t!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return Ra(e.type,!1);case 11:return Ra(e.type.render,!1);case 1:return Ra(e.type,!0);case 31:return Ft("Activity");default:return""}}function rn(e){try{var t="",a=null;do t+=Us(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var on=Object.prototype.hasOwnProperty,un=i.unstable_scheduleCallback,V=i.unstable_cancelCallback,q=i.unstable_shouldYield,Q=i.unstable_requestPaint,ge=i.unstable_now,F=i.unstable_getCurrentPriorityLevel,Oe=i.unstable_ImmediatePriority,Ce=i.unstable_UserBlockingPriority,Te=i.unstable_NormalPriority,ot=i.unstable_LowPriority,St=i.unstable_IdlePriority,Ln=i.log,Gl=i.unstable_setDisableYieldValue,cn=null,_t=null;function Ht(e){if(typeof Ln=="function"&&Gl(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(cn,e)}catch{}}var dt=Math.clz32?Math.clz32:vm,yr=Math.log,ym=Math.LN2;function vm(e){return e>>>=0,e===0?32:31-(yr(e)/ym|0)|0}var Vl=256,Kl=262144,Yl=4194304;function dn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xl(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~u,s!==0?o=dn(s):(m&=v,m!==0?o=dn(m):a||(a=v&~e,a!==0&&(o=dn(a))))):(v=s&~u,v!==0?o=dn(v):m!==0?o=dn(m):a||(a=s&~e,a!==0&&(o=dn(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Ds(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dc(){var e=Yl;return Yl<<=1,(Yl&62914560)===0&&(Yl=4194304),e}function vr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ms(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _m(e,t,a,s,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,O=e.hiddenUpdates;for(a=m&~a;0<a;){var D=31-dt(a),L=1<<D;v[D]=0,b[D]=-1;var R=O[D];if(R!==null)for(O[D]=null,D=0;D<R.length;D++){var z=R[D];z!==null&&(z.lane&=-536870913)}a&=~L}s!==0&&hc(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function hc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-dt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function fc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-dt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function mc(e,t){var a=t&-t;return a=(a&42)!==0?1:br(a),(a&(e.suspendedLanes|t))!==0?0:a}function br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _r(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pc(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:t0(e.type))}function gc(e,t){var a=U.p;try{return U.p=e,t()}finally{U.p=a}}var ka=Math.random().toString(36).slice(2),ht="__reactFiber$"+ka,jt="__reactProps$"+ka,qn="__reactContainer$"+ka,xr="__reactEvents$"+ka,xm="__reactListeners$"+ka,wm="__reactHandles$"+ka,yc="__reactResources$"+ka,Bs="__reactMarker$"+ka;function wr(e){delete e[ht],delete e[jt],delete e[xr],delete e[xm],delete e[wm]}function $n(e){var t=e[ht];if(t)return t;for(var a=e.parentNode;a;){if(t=a[qn]||a[ht]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=qf(e);e!==null;){if(a=e[ht])return a;e=qf(e)}return t}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[ht]||e[qn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ls(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Gn(e){var t=e[yc];return t||(t=e[yc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ut(e){e[Bs]=!0}var vc=new Set,bc={};function hn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(bc[e]=t,e=0;e<t.length;e++)vc.add(t[e])}var Sm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},xc={};function jm(e){return on.call(xc,e)?!0:on.call(_c,e)?!1:Sm.test(e)?xc[e]=!0:(_c[e]=!0,!1)}function Ql(e,t,a){if(jm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Jl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ca(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Em(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sr(e){if(!e._valueTracker){var t=wc(e)?"checked":"value";e._valueTracker=Em(e,t,""+e[t])}}function Sc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=wc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tm=/[\n"\\]/g;function Vt(e){return e.replace(Tm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jr(e,t,a,s,o,u,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Er(e,m,Gt(t)):a!=null?Er(e,m,Gt(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Gt(v):e.removeAttribute("name")}function jc(e,t,a,s,o,u,m,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Sr(e);return}a=a!=null?""+Gt(a):"",t=t!=null?""+Gt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Sr(e)}function Er(e,t,a){t==="number"&&Zl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Kn(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Gt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ec(e,t,a){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Gt(a):""}function Tc(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(r(92));if(P(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Gt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Sr(e)}function Yn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Am=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ac(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Am.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Nc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Ac(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&Ac(e,u,t[u])}function Tr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Om=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(e){return Om.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function da(){}var Ar=null;function Nr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xn=null,Qn=null;function Oc(e){var t=Hn(e);if(t&&(e=t.stateNode)){var a=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(jr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[jt]||null;if(!o)throw Error(r(90));jr(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Sc(s)}break e;case"textarea":Ec(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Kn(e,!!a.multiple,t,!1)}}}var Or=!1;function Cc(e,t,a){if(Or)return e(t,a);Or=!0;try{var s=e(t);return s}finally{if(Or=!1,(Xn!==null||Qn!==null)&&(Bi(),Xn&&(t=Xn,e=Qn,Qn=Xn=null,Oc(t),e)))for(t=0;t<e.length;t++)Oc(e[t])}}function qs(e,t){var a=e.stateNode;if(a===null)return null;var s=a[jt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(ha)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Cr=!1}var za=null,Rr=null,Pl=null;function Rc(){if(Pl)return Pl;var e,t=Rr,a=t.length,s,o="value"in za?za.value:za.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[u-s];s++);return Pl=o.slice(e,1<s?1-s:void 0)}function Fl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wl(){return!0}function kc(){return!1}function Et(e){function t(a,s,o,u,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Wl:kc,this.isPropagationStopped=kc,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),t}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=Et(fn),Hs=j({},fn,{view:0,detail:0}),Cm=Et(Hs),kr,zr,Gs,ti=j({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gs&&(Gs&&e.type==="mousemove"?(kr=e.screenX-Gs.screenX,zr=e.screenY-Gs.screenY):zr=kr=0,Gs=e),kr)},movementY:function(e){return"movementY"in e?e.movementY:zr}}),zc=Et(ti),Rm=j({},ti,{dataTransfer:0}),km=Et(Rm),zm=j({},Hs,{relatedTarget:0}),Ur=Et(zm),Um=j({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=Et(Um),Mm=j({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bm=Et(Mm),Lm=j({},fn,{data:0}),Uc=Et(Lm),qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hm[e])?!!t[e]:!1}function Dr(){return Gm}var Vm=j({},Hs,{key:function(e){if(e.key){var t=qm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(e){return e.type==="keypress"?Fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Km=Et(Vm),Ym=j({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=Et(Ym),Xm=j({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),Qm=Et(Xm),Jm=j({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zm=Et(Jm),Im=j({},ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pm=Et(Im),Fm=j({},fn,{newState:0,oldState:0}),Wm=Et(Fm),ep=[9,13,27,32],Mr=ha&&"CompositionEvent"in window,Vs=null;ha&&"documentMode"in document&&(Vs=document.documentMode);var tp=ha&&"TextEvent"in window&&!Vs,Mc=ha&&(!Mr||Vs&&8<Vs&&11>=Vs),Bc=" ",Lc=!1;function qc(e,t){switch(e){case"keyup":return ep.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $c(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function ap(e,t){switch(e){case"compositionend":return $c(t);case"keypress":return t.which!==32?null:(Lc=!0,Bc);case"textInput":return e=t.data,e===Bc&&Lc?null:e;default:return null}}function np(e,t){if(Jn)return e==="compositionend"||!Mr&&qc(e,t)?(e=Rc(),Pl=Rr=za=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mc&&t.locale!=="ko"?null:t.data;default:return null}}var sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sp[e.type]:t==="textarea"}function Gc(e,t,a,s){Xn?Qn?Qn.push(s):Qn=[s]:Xn=s,t=Ki(t,"onChange"),0<t.length&&(a=new ei("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Ks=null,Ys=null;function lp(e){Ef(e,0)}function ai(e){var t=Ls(e);if(Sc(t))return e}function Vc(e,t){if(e==="change")return t}var Kc=!1;if(ha){var Br;if(ha){var Lr="oninput"in document;if(!Lr){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),Lr=typeof Yc.oninput=="function"}Br=Lr}else Br=!1;Kc=Br&&(!document.documentMode||9<document.documentMode)}function Xc(){Ks&&(Ks.detachEvent("onpropertychange",Qc),Ys=Ks=null)}function Qc(e){if(e.propertyName==="value"&&ai(Ys)){var t=[];Gc(t,Ys,e,Nr(e)),Cc(lp,t)}}function ip(e,t,a){e==="focusin"?(Xc(),Ks=t,Ys=a,Ks.attachEvent("onpropertychange",Qc)):e==="focusout"&&Xc()}function rp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ai(Ys)}function op(e,t){if(e==="click")return ai(t)}function up(e,t){if(e==="input"||e==="change")return ai(t)}function cp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:cp;function Xs(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!on.call(t,o)||!Rt(e[o],t[o]))return!1}return!0}function Jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zc(e,t){var a=Jc(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jc(a)}}function Ic(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ic(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Zl(e.document)}return t}function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var dp=ha&&"documentMode"in document&&11>=document.documentMode,Zn=null,$r=null,Qs=null,Hr=!1;function Fc(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hr||Zn==null||Zn!==Zl(s)||(s=Zn,"selectionStart"in s&&qr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Qs&&Xs(Qs,s)||(Qs=s,s=Ki($r,"onSelect"),0<s.length&&(t=new ei("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Zn)))}function mn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var In={animationend:mn("Animation","AnimationEnd"),animationiteration:mn("Animation","AnimationIteration"),animationstart:mn("Animation","AnimationStart"),transitionrun:mn("Transition","TransitionRun"),transitionstart:mn("Transition","TransitionStart"),transitioncancel:mn("Transition","TransitionCancel"),transitionend:mn("Transition","TransitionEnd")},Gr={},Wc={};ha&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function pn(e){if(Gr[e])return Gr[e];if(!In[e])return e;var t=In[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Wc)return Gr[e]=t[a];return e}var ed=pn("animationend"),td=pn("animationiteration"),ad=pn("animationstart"),hp=pn("transitionrun"),fp=pn("transitionstart"),mp=pn("transitioncancel"),nd=pn("transitionend"),sd=new Map,Vr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vr.push("scrollEnd");function Wt(e,t){sd.set(e,t),hn(t,[e])}var ni=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}},Kt=[],Pn=0,Kr=0;function si(){for(var e=Pn,t=Kr=Pn=0;t<e;){var a=Kt[t];Kt[t++]=null;var s=Kt[t];Kt[t++]=null;var o=Kt[t];Kt[t++]=null;var u=Kt[t];if(Kt[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}u!==0&&ld(a,o,u)}}function li(e,t,a,s){Kt[Pn++]=e,Kt[Pn++]=t,Kt[Pn++]=a,Kt[Pn++]=s,Kr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Yr(e,t,a,s){return li(e,t,a,s),ii(e)}function gn(e,t){return li(e,null,null,t),ii(e)}function ld(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-dt(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function ii(e){if(50<pl)throw pl=0,tu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Fn={};function pp(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,a,s){return new pp(e,t,a,s)}function Xr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fa(e,t){var a=e.alternate;return a===null?(a=kt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function id(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ri(e,t,a,s,o,u){var m=0;if(s=e,typeof e=="function")Xr(e)&&(m=1);else if(typeof e=="string")m=_g(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case we:return e=kt(31,a,t,o),e.elementType=we,e.lanes=u,e;case E:return yn(a.children,o,u,t);case $:m=8,o|=24;break;case G:return e=kt(12,a,t,o|2),e.elementType=G,e.lanes=u,e;case he:return e=kt(13,a,t,o),e.elementType=he,e.lanes=u,e;case ee:return e=kt(19,a,t,o),e.elementType=ee,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:m=10;break e;case Y:m=9;break e;case Z:m=11;break e;case X:m=14;break e;case xe:m=16,s=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=kt(m,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function yn(e,t,a,s){return e=kt(7,e,s,t),e.lanes=a,e}function Qr(e,t,a){return e=kt(6,e,null,t),e.lanes=a,e}function rd(e){var t=kt(18,null,null,0);return t.stateNode=e,t}function Jr(e,t,a){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var od=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var a=od.get(e);return a!==void 0?a:(t={value:e,source:t,stack:rn(t)},od.set(e,t),t)}return{value:e,source:t,stack:rn(t)}}var Wn=[],es=0,oi=null,Js=0,Xt=[],Qt=0,Ua=null,la=1,ia="";function ma(e,t){Wn[es++]=Js,Wn[es++]=oi,oi=e,Js=t}function ud(e,t,a){Xt[Qt++]=la,Xt[Qt++]=ia,Xt[Qt++]=Ua,Ua=e;var s=la;e=ia;var o=32-dt(s)-1;s&=~(1<<o),a+=1;var u=32-dt(t)+o;if(30<u){var m=o-o%5;u=(s&(1<<m)-1).toString(32),s>>=m,o-=m,la=1<<32-dt(t)+o|a<<o|s,ia=u+e}else la=1<<u|a<<o|s,ia=e}function Zr(e){e.return!==null&&(ma(e,1),ud(e,1,0))}function Ir(e){for(;e===oi;)oi=Wn[--es],Wn[es]=null,Js=Wn[--es],Wn[es]=null;for(;e===Ua;)Ua=Xt[--Qt],Xt[Qt]=null,ia=Xt[--Qt],Xt[Qt]=null,la=Xt[--Qt],Xt[Qt]=null}function cd(e,t){Xt[Qt++]=la,Xt[Qt++]=ia,Xt[Qt++]=Ua,la=t.id,ia=t.overflow,Ua=e}var ft=null,Ke=null,Ae=!1,Da=null,Jt=!1,Pr=Error(r(519));function Ma(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zs(Yt(t,e)),Pr}function dd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[ht]=e,t[jt]=s,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<yl.length;a++)_e(yl[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),jc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Tc(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Of(t.textContent,a)?(s.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),s.onScroll!=null&&_e("scroll",t),s.onScrollEnd!=null&&_e("scrollend",t),s.onClick!=null&&(t.onclick=da),t=!0):t=!1,t||Ma(e,!0)}function hd(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:ft=ft.return}}function ts(e){if(e!==ft)return!1;if(!Ae)return hd(e),Ae=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||gu(e.type,e.memoizedProps)),a=!a),a&&Ke&&Ma(e),hd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ke=Lf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ke=Lf(e)}else t===27?(t=Ke,Ia(e.type)?(e=xu,xu=null,Ke=e):Ke=t):Ke=ft?It(e.stateNode.nextSibling):null;return!0}function vn(){Ke=ft=null,Ae=!1}function Fr(){var e=Da;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Da=null),e}function Zs(e){Da===null?Da=[e]:Da.push(e)}var Wr=_(null),bn=null,pa=null;function Ba(e,t,a){J(Wr,t._currentValue),t._currentValue=a}function ga(e){e._currentValue=Wr.current,M(Wr)}function eo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function to(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var b=0;b<t.length;b++)if(v.context===t[b]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),eo(u.return,a,e),s||(m=null);break e}u=v.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),eo(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function as(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var v=o.type;Rt(o.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(o===Ne.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}o=o.return}e!==null&&to(t,e,a,s),t.flags|=262144}function ui(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _n(e){bn=e,pa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return fd(bn,e)}function ci(e,t){return bn===null&&_n(e),fd(e,t)}function fd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},pa===null){if(e===null)throw Error(r(308));pa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pa=pa.next=t;return a}var gp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},yp=i.unstable_scheduleCallback,vp=i.unstable_NormalPriority,We={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ao(){return{controller:new gp,data:new Map,refCount:0}}function Is(e){e.refCount--,e.refCount===0&&yp(vp,function(){e.controller.abort()})}var Ps=null,no=0,ns=0,ss=null;function bp(e,t){if(Ps===null){var a=Ps=[];no=0,ns=ru(),ss={status:"pending",value:void 0,then:function(s){a.push(s)}}}return no++,t.then(md,md),t}function md(){if(--no===0&&Ps!==null){ss!==null&&(ss.status="fulfilled");var e=Ps;Ps=null,ns=0,ss=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function _p(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var pd=C.S;C.S=function(e,t){Fh=ge(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&bp(e,t),pd!==null&&pd(e,t)};var xn=_(null);function so(){var e=xn.current;return e!==null?e:qe.pooledCache}function di(e,t){t===null?J(xn,xn.current):J(xn,t.pool)}function gd(){var e=so();return e===null?null:{parent:We._currentValue,pool:e}}var ls=Error(r(460)),lo=Error(r(474)),hi=Error(r(542)),fi={then:function(){}};function yd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(da,da),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e;default:if(typeof t.status=="string")t.then(da,da);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_d(e),e}throw Sn=t,ls}}function wn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Sn=a,ls):a}}var Sn=null;function bd(){if(Sn===null)throw Error(r(459));var e=Sn;return Sn=null,e}function _d(e){if(e===ls||e===hi)throw Error(r(483))}var is=null,Fs=0;function mi(e){var t=Fs;return Fs+=1,is===null&&(is=[]),vd(is,e,t)}function Ws(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pi(e,t){throw t.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function xd(e){function t(S,w){if(e){var N=S.deletions;N===null?(S.deletions=[w],S.flags|=16):N.push(w)}}function a(S,w){if(!e)return null;for(;w!==null;)t(S,w),w=w.sibling;return null}function s(S){for(var w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function o(S,w){return S=fa(S,w),S.index=0,S.sibling=null,S}function u(S,w,N){return S.index=N,e?(N=S.alternate,N!==null?(N=N.index,N<w?(S.flags|=67108866,w):N):(S.flags|=67108866,w)):(S.flags|=1048576,w)}function m(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function v(S,w,N,B){return w===null||w.tag!==6?(w=Qr(N,S.mode,B),w.return=S,w):(w=o(w,N),w.return=S,w)}function b(S,w,N,B){var se=N.type;return se===E?D(S,w,N.props.children,B,N.key):w!==null&&(w.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===xe&&wn(se)===w.type)?(w=o(w,N.props),Ws(w,N),w.return=S,w):(w=ri(N.type,N.key,N.props,null,S.mode,B),Ws(w,N),w.return=S,w)}function O(S,w,N,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=Jr(N,S.mode,B),w.return=S,w):(w=o(w,N.children||[]),w.return=S,w)}function D(S,w,N,B,se){return w===null||w.tag!==7?(w=yn(N,S.mode,B,se),w.return=S,w):(w=o(w,N),w.return=S,w)}function L(S,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Qr(""+w,S.mode,N),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case T:return N=ri(w.type,w.key,w.props,null,S.mode,N),Ws(N,w),N.return=S,N;case k:return w=Jr(w,S.mode,N),w.return=S,w;case xe:return w=wn(w),L(S,w,N)}if(P(w)||Ge(w))return w=yn(w,S.mode,N,null),w.return=S,w;if(typeof w.then=="function")return L(S,mi(w),N);if(w.$$typeof===H)return L(S,ci(S,w),N);pi(S,w)}return null}function R(S,w,N,B){var se=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return se!==null?null:v(S,w,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case T:return N.key===se?b(S,w,N,B):null;case k:return N.key===se?O(S,w,N,B):null;case xe:return N=wn(N),R(S,w,N,B)}if(P(N)||Ge(N))return se!==null?null:D(S,w,N,B,null);if(typeof N.then=="function")return R(S,w,mi(N),B);if(N.$$typeof===H)return R(S,w,ci(S,N),B);pi(S,N)}return null}function z(S,w,N,B,se){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return S=S.get(N)||null,v(w,S,""+B,se);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return S=S.get(B.key===null?N:B.key)||null,b(w,S,B,se);case k:return S=S.get(B.key===null?N:B.key)||null,O(w,S,B,se);case xe:return B=wn(B),z(S,w,N,B,se)}if(P(B)||Ge(B))return S=S.get(N)||null,D(w,S,B,se,null);if(typeof B.then=="function")return z(S,w,N,mi(B),se);if(B.$$typeof===H)return z(S,w,N,ci(w,B),se);pi(w,B)}return null}function te(S,w,N,B){for(var se=null,Re=null,ae=w,ve=w=0,je=null;ae!==null&&ve<N.length;ve++){ae.index>ve?(je=ae,ae=null):je=ae.sibling;var ke=R(S,ae,N[ve],B);if(ke===null){ae===null&&(ae=je);break}e&&ae&&ke.alternate===null&&t(S,ae),w=u(ke,w,ve),Re===null?se=ke:Re.sibling=ke,Re=ke,ae=je}if(ve===N.length)return a(S,ae),Ae&&ma(S,ve),se;if(ae===null){for(;ve<N.length;ve++)ae=L(S,N[ve],B),ae!==null&&(w=u(ae,w,ve),Re===null?se=ae:Re.sibling=ae,Re=ae);return Ae&&ma(S,ve),se}for(ae=s(ae);ve<N.length;ve++)je=z(ae,S,ve,N[ve],B),je!==null&&(e&&je.alternate!==null&&ae.delete(je.key===null?ve:je.key),w=u(je,w,ve),Re===null?se=je:Re.sibling=je,Re=je);return e&&ae.forEach(function(tn){return t(S,tn)}),Ae&&ma(S,ve),se}function ie(S,w,N,B){if(N==null)throw Error(r(151));for(var se=null,Re=null,ae=w,ve=w=0,je=null,ke=N.next();ae!==null&&!ke.done;ve++,ke=N.next()){ae.index>ve?(je=ae,ae=null):je=ae.sibling;var tn=R(S,ae,ke.value,B);if(tn===null){ae===null&&(ae=je);break}e&&ae&&tn.alternate===null&&t(S,ae),w=u(tn,w,ve),Re===null?se=tn:Re.sibling=tn,Re=tn,ae=je}if(ke.done)return a(S,ae),Ae&&ma(S,ve),se;if(ae===null){for(;!ke.done;ve++,ke=N.next())ke=L(S,ke.value,B),ke!==null&&(w=u(ke,w,ve),Re===null?se=ke:Re.sibling=ke,Re=ke);return Ae&&ma(S,ve),se}for(ae=s(ae);!ke.done;ve++,ke=N.next())ke=z(ae,S,ve,ke.value,B),ke!==null&&(e&&ke.alternate!==null&&ae.delete(ke.key===null?ve:ke.key),w=u(ke,w,ve),Re===null?se=ke:Re.sibling=ke,Re=ke);return e&&ae.forEach(function(Rg){return t(S,Rg)}),Ae&&ma(S,ve),se}function Le(S,w,N,B){if(typeof N=="object"&&N!==null&&N.type===E&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case T:e:{for(var se=N.key;w!==null;){if(w.key===se){if(se=N.type,se===E){if(w.tag===7){a(S,w.sibling),B=o(w,N.props.children),B.return=S,S=B;break e}}else if(w.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===xe&&wn(se)===w.type){a(S,w.sibling),B=o(w,N.props),Ws(B,N),B.return=S,S=B;break e}a(S,w);break}else t(S,w);w=w.sibling}N.type===E?(B=yn(N.props.children,S.mode,B,N.key),B.return=S,S=B):(B=ri(N.type,N.key,N.props,null,S.mode,B),Ws(B,N),B.return=S,S=B)}return m(S);case k:e:{for(se=N.key;w!==null;){if(w.key===se)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){a(S,w.sibling),B=o(w,N.children||[]),B.return=S,S=B;break e}else{a(S,w);break}else t(S,w);w=w.sibling}B=Jr(N,S.mode,B),B.return=S,S=B}return m(S);case xe:return N=wn(N),Le(S,w,N,B)}if(P(N))return te(S,w,N,B);if(Ge(N)){if(se=Ge(N),typeof se!="function")throw Error(r(150));return N=se.call(N),ie(S,w,N,B)}if(typeof N.then=="function")return Le(S,w,mi(N),B);if(N.$$typeof===H)return Le(S,w,ci(S,N),B);pi(S,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,w!==null&&w.tag===6?(a(S,w.sibling),B=o(w,N),B.return=S,S=B):(a(S,w),B=Qr(N,S.mode,B),B.return=S,S=B),m(S)):a(S,w)}return function(S,w,N,B){try{Fs=0;var se=Le(S,w,N,B);return is=null,se}catch(ae){if(ae===ls||ae===hi)throw ae;var Re=kt(29,ae,null,S.mode);return Re.lanes=B,Re.return=S,Re}}}var jn=xd(!0),wd=xd(!1),La=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $a(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ze&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=ii(e),ld(e,null,a),t}return li(e,s,t,a),ii(e)}function el(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,fc(e,a)}}function oo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var uo=!1;function tl(){if(uo){var e=ss;if(e!==null)throw e}}function al(e,t,a,s){uo=!1;var o=e.updateQueue;La=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var b=v,O=b.next;b.next=null,m===null?u=O:m.next=O,m=b;var D=e.alternate;D!==null&&(D=D.updateQueue,v=D.lastBaseUpdate,v!==m&&(v===null?D.firstBaseUpdate=O:v.next=O,D.lastBaseUpdate=b))}if(u!==null){var L=o.baseState;m=0,D=O=b=null,v=u;do{var R=v.lane&-536870913,z=R!==v.lane;if(z?(Se&R)===R:(s&R)===R){R!==0&&R===ns&&(uo=!0),D!==null&&(D=D.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var te=e,ie=v;R=t;var Le=a;switch(ie.tag){case 1:if(te=ie.payload,typeof te=="function"){L=te.call(Le,L,R);break e}L=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ie.payload,R=typeof te=="function"?te.call(Le,L,R):te,R==null)break e;L=j({},L,R);break e;case 2:La=!0}}R=v.callback,R!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[R]:z.push(R))}else z={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},D===null?(O=D=z,b=L):D=D.next=z,m|=R;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;z=v,v=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);D===null&&(b=L),o.baseState=b,o.firstBaseUpdate=O,o.lastBaseUpdate=D,u===null&&(o.shared.lanes=0),Ya|=m,e.lanes=m,e.memoizedState=L}}function Sd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function jd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Sd(a[e],t)}var rs=_(null),gi=_(0);function Ed(e,t){e=Ea,J(gi,e),J(rs,t),Ea=e|t.baseLanes}function co(){J(gi,Ea),J(rs,rs.current)}function ho(){Ea=gi.current,M(rs),M(gi)}var zt=_(null),Zt=null;function Ha(e){var t=e.alternate;J(Pe,Pe.current&1),J(zt,e),Zt===null&&(t===null||rs.current!==null||t.memoizedState!==null)&&(Zt=e)}function fo(e){J(Pe,Pe.current),J(zt,e),Zt===null&&(Zt=e)}function Td(e){e.tag===22?(J(Pe,Pe.current),J(zt,e),Zt===null&&(Zt=e)):Ga()}function Ga(){J(Pe,Pe.current),J(zt,zt.current)}function Ut(e){M(zt),Zt===e&&(Zt=null),M(Pe)}var Pe=_(0);function yi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bu(a)||_u(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=0,ye=null,Me=null,et=null,vi=!1,os=!1,En=!1,bi=0,nl=0,us=null,xp=0;function Je(){throw Error(r(321))}function mo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Rt(e[a],t[a]))return!1;return!0}function po(e,t,a,s,o,u){return ya=u,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?uh:Co,En=!1,u=a(s,o),En=!1,os&&(u=Nd(t,a,s,o)),Ad(e),u}function Ad(e){C.H=il;var t=Me!==null&&Me.next!==null;if(ya=0,et=Me=ye=null,vi=!1,nl=0,us=null,t)throw Error(r(300));e===null||tt||(e=e.dependencies,e!==null&&ui(e)&&(tt=!0))}function Nd(e,t,a,s){ye=e;var o=0;do{if(os&&(us=null),nl=0,os=!1,25<=o)throw Error(r(301));if(o+=1,et=Me=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}C.H=ch,u=t(a,s)}while(os);return u}function wp(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?sl(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ye.flags|=1024),t}function go(){var e=bi!==0;return bi=0,e}function yo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function vo(e){if(vi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vi=!1}ya=0,et=Me=ye=null,os=!1,nl=bi=0,us=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ye.memoizedState=et=e:et=et.next=e,et}function Fe(){if(Me===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=et===null?ye.memoizedState:et.next;if(t!==null)et=t,Me=e;else{if(e===null)throw ye.alternate===null?Error(r(467)):Error(r(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},et===null?ye.memoizedState=et=e:et=et.next=e}return et}function _i(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var t=nl;return nl+=1,us===null&&(us=[]),e=vd(us,e,t),t=ye,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?uh:Co),e}function xi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===H)return mt(e)}throw Error(r(438,String(e)))}function bo(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=_i(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=bt;return t.index++,a}function va(e,t){return typeof t=="function"?t(e):t}function wi(e){var t=Fe();return _o(t,Me,e)}function _o(e,t,a){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=m=null,b=null,O=t,D=!1;do{var L=O.lane&-536870913;if(L!==O.lane?(Se&L)===L:(ya&L)===L){var R=O.revertLane;if(R===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),L===ns&&(D=!0);else if((ya&R)===R){O=O.next,R===ns&&(D=!0);continue}else L={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(v=b=L,m=u):b=b.next=L,ye.lanes|=R,Ya|=R;L=O.action,En&&a(u,L),u=O.hasEagerState?O.eagerState:a(u,L)}else R={lane:L,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(v=b=R,m=u):b=b.next=R,ye.lanes|=L,Ya|=L;O=O.next}while(O!==null&&O!==t);if(b===null?m=u:b.next=v,!Rt(u,e.memoizedState)&&(tt=!0,D&&(a=ss,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=b,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function xo(e){var t=Fe(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);Rt(u,t.memoizedState)||(tt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function Od(e,t,a){var s=ye,o=Fe(),u=Ae;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!Rt((Me||o).memoizedState,a);if(m&&(o.memoizedState=a,tt=!0),o=o.queue,jo(kd.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||et!==null&&et.memoizedState.tag&1){if(s.flags|=2048,cs(9,{destroy:void 0},Rd.bind(null,s,o,a,t),null),qe===null)throw Error(r(349));u||(ya&127)!==0||Cd(s,t,a)}return a}function Cd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=_i(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Rd(e,t,a,s){t.value=a,t.getSnapshot=s,zd(t)&&Ud(e)}function kd(e,t,a){return a(function(){zd(t)&&Ud(e)})}function zd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Rt(e,a)}catch{return!0}}function Ud(e){var t=gn(e,2);t!==null&&Ct(t,e,2)}function wo(e){var t=wt();if(typeof e=="function"){var a=e;if(e=a(),En){Ht(!0);try{a()}finally{Ht(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t}function Dd(e,t,a,s){return e.baseState=a,_o(e,Me,typeof s=="function"?s:va)}function Sp(e,t,a,s,o){if(Ei(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};C.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,Md(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Md(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=C.T,m={};C.T=m;try{var v=a(o,s),b=C.S;b!==null&&b(m,v),Bd(e,t,v)}catch(O){So(e,t,O)}finally{u!==null&&m.types!==null&&(u.types=m.types),C.T=u}}else try{u=a(o,s),Bd(e,t,u)}catch(O){So(e,t,O)}}function Bd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Ld(e,t,s)},function(s){return So(e,t,s)}):Ld(e,t,a)}function Ld(e,t,a){t.status="fulfilled",t.value=a,qd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Md(e,a)))}function So(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,qd(t),t=t.next;while(t!==s)}e.action=null}function qd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $d(e,t){return t}function Hd(e,t){if(Ae){var a=qe.formState;if(a!==null){e:{var s=ye;if(Ae){if(Ke){t:{for(var o=Ke,u=Jt;o.nodeType!==8;){if(!u){o=null;break t}if(o=It(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ke=It(o.nextSibling),s=o.data==="F!";break e}}Ma(s)}s=!1}s&&(t=a[0])}}return a=wt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:t},a.queue=s,a=ih.bind(null,ye,s),s.dispatch=a,s=wo(!1),u=Oo.bind(null,ye,!1,s.queue),s=wt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Sp.bind(null,ye,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Gd(e){var t=Fe();return Vd(t,Me,e)}function Vd(e,t,a){if(t=_o(e,t,$d)[0],e=wi(va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=sl(t)}catch(m){throw m===ls?hi:m}else s=t;t=Fe();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,cs(9,{destroy:void 0},jp.bind(null,o,a),null)),[s,u,e]}function jp(e,t){e.action=t}function Kd(e){var t=Fe(),a=Me;if(a!==null)return Vd(t,a,e);Fe(),t=t.memoizedState,a=Fe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function cs(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ye.updateQueue,t===null&&(t=_i(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Yd(){return Fe().memoizedState}function Si(e,t,a,s){var o=wt();ye.flags|=e,o.memoizedState=cs(1|t,{destroy:void 0},a,s===void 0?null:s)}function ji(e,t,a,s){var o=Fe();s=s===void 0?null:s;var u=o.memoizedState.inst;Me!==null&&s!==null&&mo(s,Me.memoizedState.deps)?o.memoizedState=cs(t,u,a,s):(ye.flags|=e,o.memoizedState=cs(1|t,u,a,s))}function Xd(e,t){Si(8390656,8,e,t)}function jo(e,t){ji(2048,8,e,t)}function Ep(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=_i(),ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Qd(e){var t=Fe().memoizedState;return Ep({ref:t,nextImpl:e}),function(){if((ze&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Jd(e,t){return ji(4,2,e,t)}function Zd(e,t){return ji(4,4,e,t)}function Id(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pd(e,t,a){a=a!=null?a.concat([e]):null,ji(4,4,Id.bind(null,t,e),a)}function Eo(){}function Fd(e,t){var a=Fe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&mo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Wd(e,t){var a=Fe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&mo(t,s[1]))return s[0];if(s=e(),En){Ht(!0);try{e()}finally{Ht(!1)}}return a.memoizedState=[s,t],s}function To(e,t,a){return a===void 0||(ya&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=ef(),ye.lanes|=e,Ya|=e,a)}function eh(e,t,a,s){return Rt(a,t)?a:rs.current!==null?(e=To(e,a,s),Rt(e,t)||(tt=!0),e):(ya&42)===0||(ya&1073741824)!==0&&(Se&261930)===0?(tt=!0,e.memoizedState=a):(e=ef(),ye.lanes|=e,Ya|=e,t)}function th(e,t,a,s,o){var u=U.p;U.p=u!==0&&8>u?u:8;var m=C.T,v={};C.T=v,Oo(e,!1,t,a);try{var b=o(),O=C.S;if(O!==null&&O(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var D=_p(b,s);ll(e,t,D,Bt(e))}else ll(e,t,s,Bt(e))}catch(L){ll(e,t,{then:function(){},status:"rejected",reason:L},Bt())}finally{U.p=u,m!==null&&v.types!==null&&(m.types=v.types),C.T=m}}function Tp(){}function Ao(e,t,a,s){if(e.tag!==5)throw Error(r(476));var o=ah(e).queue;th(e,o,t,K,a===null?Tp:function(){return nh(e),a(s)})}function ah(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:K},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function nh(e){var t=ah(e);t.next===null&&(t=e.alternate.memoizedState),ll(e,t.next.queue,{},Bt())}function No(){return mt(wl)}function sh(){return Fe().memoizedState}function lh(){return Fe().memoizedState}function Ap(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Bt();e=qa(a);var s=$a(t,e,a);s!==null&&(Ct(s,t,a),el(s,t,a)),t={cache:ao()},e.payload=t;return}t=t.return}}function Np(e,t,a){var s=Bt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ei(e)?rh(t,a):(a=Yr(e,t,a,s),a!==null&&(Ct(a,e,s),oh(a,t,s)))}function ih(e,t,a){var s=Bt();ll(e,t,a,s)}function ll(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ei(e))rh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,v=u(m,a);if(o.hasEagerState=!0,o.eagerState=v,Rt(v,m))return li(e,t,o,0),qe===null&&si(),!1}catch{}if(a=Yr(e,t,o,s),a!==null)return Ct(a,e,s),oh(a,t,s),!0}return!1}function Oo(e,t,a,s){if(s={lane:2,revertLane:ru(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ei(e)){if(t)throw Error(r(479))}else t=Yr(e,a,s,2),t!==null&&Ct(t,e,2)}function Ei(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function rh(e,t){os=vi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function oh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,fc(e,a)}}var il={readContext:mt,use:xi,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};il.useEffectEvent=Je;var uh={readContext:mt,use:xi,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Xd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Si(4194308,4,Id.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Si(4194308,4,e,t)},useInsertionEffect:function(e,t){Si(4,2,e,t)},useMemo:function(e,t){var a=wt();t=t===void 0?null:t;var s=e();if(En){Ht(!0);try{e()}finally{Ht(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=wt();if(a!==void 0){var o=a(t);if(En){Ht(!0);try{a(t)}finally{Ht(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Np.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=wo(e);var t=e.queue,a=ih.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Eo,useDeferredValue:function(e,t){var a=wt();return To(a,e,t)},useTransition:function(){var e=wo(!1);return e=th.bind(null,ye,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ye,o=wt();if(Ae){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),qe===null)throw Error(r(349));(Se&127)!==0||Cd(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,Xd(kd.bind(null,s,u,e),[e]),s.flags|=2048,cs(9,{destroy:void 0},Rd.bind(null,s,u,a,t),null),a},useId:function(){var e=wt(),t=qe.identifierPrefix;if(Ae){var a=ia,s=la;a=(s&~(1<<32-dt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=bi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=xp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:No,useFormState:Hd,useActionState:Hd,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Oo.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:bo,useCacheRefresh:function(){return wt().memoizedState=Ap.bind(null,ye)},useEffectEvent:function(e){var t=wt(),a={impl:e};return t.memoizedState=a,function(){if((ze&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Co={readContext:mt,use:xi,useCallback:Fd,useContext:mt,useEffect:jo,useImperativeHandle:Pd,useInsertionEffect:Jd,useLayoutEffect:Zd,useMemo:Wd,useReducer:wi,useRef:Yd,useState:function(){return wi(va)},useDebugValue:Eo,useDeferredValue:function(e,t){var a=Fe();return eh(a,Me.memoizedState,e,t)},useTransition:function(){var e=wi(va)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:sl(e),t]},useSyncExternalStore:Od,useId:sh,useHostTransitionStatus:No,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,t){var a=Fe();return Dd(a,Me,e,t)},useMemoCache:bo,useCacheRefresh:lh};Co.useEffectEvent=Qd;var ch={readContext:mt,use:xi,useCallback:Fd,useContext:mt,useEffect:jo,useImperativeHandle:Pd,useInsertionEffect:Jd,useLayoutEffect:Zd,useMemo:Wd,useReducer:xo,useRef:Yd,useState:function(){return xo(va)},useDebugValue:Eo,useDeferredValue:function(e,t){var a=Fe();return Me===null?To(a,e,t):eh(a,Me.memoizedState,e,t)},useTransition:function(){var e=xo(va)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:sl(e),t]},useSyncExternalStore:Od,useId:sh,useHostTransitionStatus:No,useFormState:Kd,useActionState:Kd,useOptimistic:function(e,t){var a=Fe();return Me!==null?Dd(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bo,useCacheRefresh:lh};ch.useEffectEvent=Qd;function Ro(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:j({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ko={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Bt(),o=qa(s);o.payload=t,a!=null&&(o.callback=a),t=$a(e,o,s),t!==null&&(Ct(t,e,s),el(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Bt(),o=qa(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=$a(e,o,s),t!==null&&(Ct(t,e,s),el(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Bt(),s=qa(a);s.tag=2,t!=null&&(s.callback=t),t=$a(e,s,a),t!==null&&(Ct(t,e,a),el(t,e,a))}};function dh(e,t,a,s,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!Xs(a,s)||!Xs(o,u):!0}function hh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function Tn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=j({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function fh(e){ni(e)}function mh(e){}function ph(e){ni(e)}function Ti(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function gh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function zo(e,t,a){return a=qa(a),a.tag=3,a.payload={element:null},a.callback=function(){Ti(e,t)},a}function yh(e){return e=qa(e),e.tag=3,e}function vh(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){gh(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){gh(t,a,s),typeof o!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function Op(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&as(t,a,o,!0),a=zt.current,a!==null){switch(a.tag){case 31:case 13:return Zt===null?Li():a.alternate===null&&Ze===0&&(Ze=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===fi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),su(e,s,o)),!1;case 22:return a.flags|=65536,s===fi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),su(e,s,o)),!1}throw Error(r(435,a.tag))}return su(e,s,o),Li(),!1}if(Ae)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Pr&&(e=Error(r(422),{cause:s}),Zs(Yt(e,a)))):(s!==Pr&&(t=Error(r(423),{cause:s}),Zs(Yt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Yt(s,a),o=zo(e.stateNode,s,o),oo(e,o),Ze!==4&&(Ze=2)),!1;var u=Error(r(520),{cause:s});if(u=Yt(u,a),ml===null?ml=[u]:ml.push(u),Ze!==4&&(Ze=2),t===null)return!0;s=Yt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=zo(a.stateNode,s,e),oo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Xa===null||!Xa.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=yh(o),vh(o,e,a,s),oo(a,o),!1}a=a.return}while(a!==null);return!1}var Uo=Error(r(461)),tt=!1;function pt(e,t,a,s){t.child=e===null?wd(t,null,a,s):jn(t,e.child,a,s)}function bh(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var m={};for(var v in s)v!=="ref"&&(m[v]=s[v])}else m=s;return _n(t),s=po(e,t,a,m,u,o),v=go(),e!==null&&!tt?(yo(e,t,o),ba(e,t,o)):(Ae&&v&&Zr(t),t.flags|=1,pt(e,t,s,o),t.child)}function _h(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!Xr(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,xh(e,t,u,s,o)):(e=ri(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Go(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:Xs,a(m,s)&&e.ref===t.ref)return ba(e,t,o)}return t.flags|=1,e=fa(u,s),e.ref=t.ref,e.return=t,t.child=e}function xh(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(Xs(u,s)&&e.ref===t.ref)if(tt=!1,t.pendingProps=s=u,Go(e,o))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,ba(e,t,o)}return Do(e,t,a,s,o)}function wh(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return Sh(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&di(t,u!==null?u.cachePool:null),u!==null?Ed(t,u):co(),Td(t);else return s=t.lanes=536870912,Sh(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(di(t,u.cachePool),Ed(t,u),Ga(),t.memoizedState=null):(e!==null&&di(t,null),co(),Ga());return pt(e,t,o,a),t.child}function rl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Sh(e,t,a,s,o){var u=so();return u=u===null?null:{parent:We._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&di(t,null),co(),Td(t),e!==null&&as(e,t,s,!0),t.childLanes=o,null}function Ai(e,t){return t=Oi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function jh(e,t,a){return jn(t,e.child,null,a),e=Ai(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function Cp(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=Ai(t,s),t.lanes=536870912,rl(null,e);if(fo(t),(e=Ke)?(e=Bf(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ua!==null?{id:la,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},a=rd(e),a.return=t,t.child=a,ft=t,Ke=null)):e=null,e===null)throw Ma(t);return t.lanes=536870912,null}return Ai(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(fo(t),o)if(t.flags&256)t.flags&=-257,t=jh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(tt||as(e,t,a,!1),o=(a&e.childLanes)!==0,tt||o){if(s=qe,s!==null&&(m=mc(s,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,gn(e,m),Ct(s,e,m),Uo;Li(),t=jh(e,t,a)}else e=u.treeContext,Ke=It(m.nextSibling),ft=t,Ae=!0,Da=null,Jt=!1,e!==null&&cd(t,e),t=Ai(t,s),t.flags|=4096;return t}return e=fa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ni(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Do(e,t,a,s,o){return _n(t),a=po(e,t,a,s,void 0,o),s=go(),e!==null&&!tt?(yo(e,t,o),ba(e,t,o)):(Ae&&s&&Zr(t),t.flags|=1,pt(e,t,a,o),t.child)}function Eh(e,t,a,s,o,u){return _n(t),t.updateQueue=null,a=Nd(t,s,a,o),Ad(e),s=go(),e!==null&&!tt?(yo(e,t,u),ba(e,t,u)):(Ae&&s&&Zr(t),t.flags|=1,pt(e,t,a,u),t.child)}function Th(e,t,a,s,o){if(_n(t),t.stateNode===null){var u=Fn,m=a.contextType;typeof m=="object"&&m!==null&&(u=mt(m)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ko,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},io(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?mt(m):Fn,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Ro(t,a,m,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&ko.enqueueReplaceState(u,u.state,null),al(t,s,u,o),tl(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,b=Tn(a,v);u.props=b;var O=u.context,D=a.contextType;m=Fn,typeof D=="object"&&D!==null&&(m=mt(D));var L=a.getDerivedStateFromProps;D=typeof L=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,D||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||O!==m)&&hh(t,u,s,m),La=!1;var R=t.memoizedState;u.state=R,al(t,s,u,o),tl(),O=t.memoizedState,v||R!==O||La?(typeof L=="function"&&(Ro(t,a,L,s),O=t.memoizedState),(b=La||dh(t,a,b,s,R,O,m))?(D||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=O),u.props=s,u.state=O,u.context=m,s=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,ro(e,t),m=t.memoizedProps,D=Tn(a,m),u.props=D,L=t.pendingProps,R=u.context,O=a.contextType,b=Fn,typeof O=="object"&&O!==null&&(b=mt(O)),v=a.getDerivedStateFromProps,(O=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==L||R!==b)&&hh(t,u,s,b),La=!1,R=t.memoizedState,u.state=R,al(t,s,u,o),tl();var z=t.memoizedState;m!==L||R!==z||La||e!==null&&e.dependencies!==null&&ui(e.dependencies)?(typeof v=="function"&&(Ro(t,a,v,s),z=t.memoizedState),(D=La||dh(t,a,D,s,R,z,b)||e!==null&&e.dependencies!==null&&ui(e.dependencies))?(O||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,z,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,z,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=z),u.props=s,u.state=z,u.context=b,s=D):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Ni(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=jn(t,e.child,null,o),t.child=jn(t,null,a,o)):pt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=ba(e,t,o),e}function Ah(e,t,a,s){return vn(),t.flags|=256,pt(e,t,a,s),t.child}var Mo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:gd()}}function Lo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Mt),e}function Nh(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(o?Ha(t):Ga(),(e=Ke)?(e=Bf(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ua!==null?{id:la,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},a=rd(e),a.return=t,t.child=a,ft=t,Ke=null)):e=null,e===null)throw Ma(t);return _u(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,o?(Ga(),o=t.mode,v=Oi({mode:"hidden",children:v},o),s=yn(s,o,a,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=Bo(a),s.childLanes=Lo(e,m,a),t.memoizedState=Mo,rl(null,s)):(Ha(t),qo(t,v))}var b=e.memoizedState;if(b!==null&&(v=b.dehydrated,v!==null)){if(u)t.flags&256?(Ha(t),t.flags&=-257,t=$o(e,t,a)):t.memoizedState!==null?(Ga(),t.child=e.child,t.flags|=128,t=null):(Ga(),v=s.fallback,o=t.mode,s=Oi({mode:"visible",children:s.children},o),v=yn(v,o,a,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,jn(t,e.child,null,a),s=t.child,s.memoizedState=Bo(a),s.childLanes=Lo(e,m,a),t.memoizedState=Mo,t=rl(null,s));else if(Ha(t),_u(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var O=m.dgst;m=O,s=Error(r(419)),s.stack="",s.digest=m,Zs({value:s,source:null,stack:null}),t=$o(e,t,a)}else if(tt||as(e,t,a,!1),m=(a&e.childLanes)!==0,tt||m){if(m=qe,m!==null&&(s=mc(m,a),s!==0&&s!==b.retryLane))throw b.retryLane=s,gn(e,s),Ct(m,e,s),Uo;bu(v)||Li(),t=$o(e,t,a)}else bu(v)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ke=It(v.nextSibling),ft=t,Ae=!0,Da=null,Jt=!1,e!==null&&cd(t,e),t=qo(t,s.children),t.flags|=4096);return t}return o?(Ga(),v=s.fallback,o=t.mode,b=e.child,O=b.sibling,s=fa(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,O!==null?v=fa(O,v):(v=yn(v,o,a,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,rl(null,s),s=t.child,v=e.child.memoizedState,v===null?v=Bo(a):(o=v.cachePool,o!==null?(b=We._currentValue,o=o.parent!==b?{parent:b,pool:b}:o):o=gd(),v={baseLanes:v.baseLanes|a,cachePool:o}),s.memoizedState=v,s.childLanes=Lo(e,m,a),t.memoizedState=Mo,rl(e.child,s)):(Ha(t),a=e.child,e=a.sibling,a=fa(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function qo(e,t){return t=Oi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Oi(e,t){return e=kt(22,e,null,t),e.lanes=0,e}function $o(e,t,a){return jn(t,e.child,null,a),e=qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Oh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),eo(e.return,t,a)}function Ho(e,t,a,s,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function Ch(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var m=Pe.current,v=(m&2)!==0;if(v?(m=m&1|2,t.flags|=128):m&=1,J(Pe,m),pt(e,t,s,a),s=Ae?Js:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oh(e,a,t);else if(e.tag===19)Oh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&yi(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Ho(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yi(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Ho(t,!0,a,null,u,s);break;case"together":Ho(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ba(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ya|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(as(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=fa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=fa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Go(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ui(e)))}function Rp(e,t,a){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),Ba(t,We,e.memoizedState.cache),vn();break;case 27:case 5:ua(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:Ba(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,fo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ha(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Nh(e,t,a):(Ha(t),e=ba(e,t,a),e!==null?e.sibling:null);Ha(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(as(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Ch(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),J(Pe,Pe.current),s)break;return null;case 22:return t.lanes=0,wh(e,t,a,t.pendingProps);case 24:Ba(t,We,e.memoizedState.cache)}return ba(e,t,a)}function Rh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Go(e,a)&&(t.flags&128)===0)return tt=!1,Rp(e,t,a);tt=(e.flags&131072)!==0}else tt=!1,Ae&&(t.flags&1048576)!==0&&ud(t,Js,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=wn(t.elementType),t.type=e,typeof e=="function")Xr(e)?(s=Tn(e,s),t.tag=1,t=Th(null,t,e,s,a)):(t.tag=0,t=Do(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===Z){t.tag=11,t=bh(null,t,e,s,a);break e}else if(o===X){t.tag=14,t=_h(null,t,e,s,a);break e}}throw t=ce(e)||e,Error(r(306,t,""))}}return t;case 0:return Do(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=Tn(s,t.pendingProps),Th(e,t,s,o,a);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,ro(e,t),al(t,s,null,a);var m=t.memoizedState;if(s=m.cache,Ba(t,We,s),s!==u.cache&&to(t,[We],a,!0),tl(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Ah(e,t,s,a);break e}else if(s!==o){o=Yt(Error(r(424)),t),Zs(o),t=Ah(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ke=It(e.firstChild),ft=t,Ae=!0,Da=null,Jt=!0,a=wd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vn(),s===o){t=ba(e,t,a);break e}pt(e,t,s,a)}t=t.child}return t;case 26:return Ni(e,t),e===null?(a=Vf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ae||(a=t.type,e=t.pendingProps,s=Yi(pe.current).createElement(a),s[ht]=t,s[jt]=e,gt(s,a,e),ut(s),t.stateNode=s):t.memoizedState=Vf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ua(t),e===null&&Ae&&(s=t.stateNode=$f(t.type,t.pendingProps,pe.current),ft=t,Jt=!0,o=Ke,Ia(t.type)?(xu=o,Ke=It(s.firstChild)):Ke=o),pt(e,t,t.pendingProps.children,a),Ni(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((o=s=Ke)&&(s=rg(s,t.type,t.pendingProps,Jt),s!==null?(t.stateNode=s,ft=t,Ke=It(s.firstChild),Jt=!1,o=!0):o=!1),o||Ma(t)),ua(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,gu(o,u)?s=null:m!==null&&gu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=po(e,t,wp,null,null,a),wl._currentValue=o),Ni(e,t),pt(e,t,s,a),t.child;case 6:return e===null&&Ae&&((e=a=Ke)&&(a=og(a,t.pendingProps,Jt),a!==null?(t.stateNode=a,ft=t,Ke=null,e=!0):e=!1),e||Ma(t)),null;case 13:return Nh(e,t,a);case 4:return lt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=jn(t,null,s,a):pt(e,t,s,a),t.child;case 11:return bh(e,t,t.type,t.pendingProps,a);case 7:return pt(e,t,t.pendingProps,a),t.child;case 8:return pt(e,t,t.pendingProps.children,a),t.child;case 12:return pt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Ba(t,t.type,s.value),pt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,_n(t),o=mt(o),s=s(o),t.flags|=1,pt(e,t,s,a),t.child;case 14:return _h(e,t,t.type,t.pendingProps,a);case 15:return xh(e,t,t.type,t.pendingProps,a);case 19:return Ch(e,t,a);case 31:return Cp(e,t,a);case 22:return wh(e,t,a,t.pendingProps);case 24:return _n(t),s=mt(We),e===null?(o=so(),o===null&&(o=qe,u=ao(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},io(t),Ba(t,We,o)):((e.lanes&a)!==0&&(ro(e,t),al(t,null,null,a),tl()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ba(t,We,s)):(s=u.cache,Ba(t,We,s),s!==o.cache&&to(t,[We],a,!0))),pt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function _a(e){e.flags|=4}function Vo(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(sf())e.flags|=8192;else throw Sn=fi,lo}else e.flags&=-16777217}function kh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jf(t))if(sf())e.flags|=8192;else throw Sn=fi,lo}function Ci(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?dc():536870912,e.lanes|=t,ms|=t)}function ol(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function kp(e,t,a){var s=t.pendingProps;switch(Ir(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ga(We),Ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ts(t)?_a(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fr())),Ye(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(_a(t),u!==null?(Ye(t),kh(t,u)):(Ye(t),Vo(t,o,null,s,a))):u?u!==e.memoizedState?(_a(t),Ye(t),kh(t,u)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&_a(t),Ye(t),Vo(t,o,e,s,a)),null;case 27:if(Ca(t),a=pe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&_a(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ye(t),null}e=W.current,ts(t)?dd(t):(e=$f(o,s,a),t.stateNode=e,_a(t))}return Ye(t),null;case 5:if(Ca(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&_a(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ye(t),null}if(u=W.current,ts(t))dd(t);else{var m=Yi(pe.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}u[ht]=t,u[jt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(gt(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&_a(t)}}return Ye(t),Vo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&_a(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=pe.current,ts(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=ft,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[ht]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Of(e.nodeValue,a)),e||Ma(t,!0)}else e=Yi(e).createTextNode(s),e[ht]=t,t.stateNode=e}return Ye(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=ts(t),a!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ht]=t}else vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else a=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ye(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ts(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ht]=t}else vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else o=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ci(t,t.updateQueue),Ye(t),null);case 4:return Ve(),e===null&&du(t.stateNode.containerInfo),Ye(t),null;case 10:return ga(t.type),Ye(t),null;case 19:if(M(Pe),s=t.memoizedState,s===null)return Ye(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)ol(s,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=yi(e),u!==null){for(t.flags|=128,ol(s,!1),e=u.updateQueue,t.updateQueue=e,Ci(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)id(a,e),a=a.sibling;return J(Pe,Pe.current&1|2),Ae&&ma(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ge()>Di&&(t.flags|=128,o=!0,ol(s,!1),t.lanes=4194304)}else{if(!o)if(e=yi(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ci(t,e),ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Ae)return Ye(t),null}else 2*ge()-s.renderingStartTime>Di&&a!==536870912&&(t.flags|=128,o=!0,ol(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ge(),e.sibling=null,a=Pe.current,J(Pe,o?a&1|2:a&1),Ae&&ma(t,s.treeForkCount),e):(Ye(t),null);case 22:case 23:return Ut(t),ho(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&Ci(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&M(xn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ga(We),Ye(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function zp(e,t){switch(Ir(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(We),Ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ca(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(r(340));vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Pe),null;case 4:return Ve(),null;case 10:return ga(t.type),null;case 22:case 23:return Ut(t),ho(),e!==null&&M(xn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ga(We),null;case 25:return null;default:return null}}function zh(e,t){switch(Ir(t),t.tag){case 3:ga(We),Ve();break;case 26:case 27:case 5:Ca(t);break;case 4:Ve();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:M(Pe);break;case 10:ga(t.type);break;case 22:case 23:Ut(t),ho(),e!==null&&M(xn);break;case 24:ga(We)}}function ul(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,m=a.inst;s=u(),m.destroy=s}a=a.next}while(a!==o)}}catch(v){De(t,t.return,v)}}function Va(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var m=s.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,o=t;var b=a,O=v;try{O()}catch(D){De(o,b,D)}}}s=s.next}while(s!==u)}}catch(D){De(t,t.return,D)}}function Uh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{jd(t,a)}catch(s){De(e,e.return,s)}}}function Dh(e,t,a){a.props=Tn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){De(e,t,s)}}function cl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){De(e,t,o)}}function ra(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){De(e,t,o)}else a.current=null}function Mh(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){De(e,e.return,o)}}function Ko(e,t,a){try{var s=e.stateNode;tg(s,e.type,a,t),s[jt]=t}catch(o){De(e,e.return,o)}}function Bh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ia(e.type)||e.tag===4}function Yo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=da));else if(s!==4&&(s===27&&Ia(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Xo(e,t,a),e=e.sibling;e!==null;)Xo(e,t,a),e=e.sibling}function Ri(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ia(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ri(e,t,a),e=e.sibling;e!==null;)Ri(e,t,a),e=e.sibling}function Lh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);gt(t,s,a),t[ht]=e,t[jt]=a}catch(u){De(e,e.return,u)}}var xa=!1,at=!1,Qo=!1,qh=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Up(e,t){if(e=e.containerInfo,mu=Fi,e=Pc(e),qr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,v=-1,b=-1,O=0,D=0,L=e,R=null;t:for(;;){for(var z;L!==a||o!==0&&L.nodeType!==3||(v=m+o),L!==u||s!==0&&L.nodeType!==3||(b=m+s),L.nodeType===3&&(m+=L.nodeValue.length),(z=L.firstChild)!==null;)R=L,L=z;for(;;){if(L===e)break t;if(R===a&&++O===o&&(v=m),R===u&&++D===s&&(b=m),(z=L.nextSibling)!==null)break;L=R,R=L.parentNode}L=z}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(pu={focusedElem:e,selectionRange:a},Fi=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){switch(t=ct,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var te=Tn(a.type,o);e=s.getSnapshotBeforeUpdate(te,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(ie){De(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)vu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}}function $h(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Sa(e,a),s&4&&ul(5,a);break;case 1:if(Sa(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){De(a,a.return,m)}else{var o=Tn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){De(a,a.return,m)}}s&64&&Uh(a),s&512&&cl(a,a.return);break;case 3:if(Sa(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{jd(e,t)}catch(m){De(a,a.return,m)}}break;case 27:t===null&&s&4&&Lh(a);case 26:case 5:Sa(e,a),t===null&&s&4&&Mh(a),s&512&&cl(a,a.return);break;case 12:Sa(e,a);break;case 31:Sa(e,a),s&4&&Vh(e,a);break;case 13:Sa(e,a),s&4&&Kh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Vp.bind(null,a),ug(e,a))));break;case 22:if(s=a.memoizedState!==null||xa,!s){t=t!==null&&t.memoizedState!==null||at,o=xa;var u=at;xa=s,(at=t)&&!u?ja(e,a,(a.subtreeFlags&8772)!==0):Sa(e,a),xa=o,at=u}break;case 30:break;default:Sa(e,a)}}function Hh(e){var t=e.alternate;t!==null&&(e.alternate=null,Hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&wr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Tt=!1;function wa(e,t,a){for(a=a.child;a!==null;)Gh(e,t,a),a=a.sibling}function Gh(e,t,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(cn,a)}catch{}switch(a.tag){case 26:at||ra(a,t),wa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||ra(a,t);var s=Xe,o=Tt;Ia(a.type)&&(Xe=a.stateNode,Tt=!1),wa(e,t,a),bl(a.stateNode),Xe=s,Tt=o;break;case 5:at||ra(a,t);case 6:if(s=Xe,o=Tt,Xe=null,wa(e,t,a),Xe=s,Tt=o,Xe!==null)if(Tt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(u){De(a,t,u)}else try{Xe.removeChild(a.stateNode)}catch(u){De(a,t,u)}break;case 18:Xe!==null&&(Tt?(e=Xe,Df(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ws(e)):Df(Xe,a.stateNode));break;case 4:s=Xe,o=Tt,Xe=a.stateNode.containerInfo,Tt=!0,wa(e,t,a),Xe=s,Tt=o;break;case 0:case 11:case 14:case 15:Va(2,a,t),at||Va(4,a,t),wa(e,t,a);break;case 1:at||(ra(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Dh(a,t,s)),wa(e,t,a);break;case 21:wa(e,t,a);break;case 22:at=(s=at)||a.memoizedState!==null,wa(e,t,a),at=s;break;default:wa(e,t,a)}}function Vh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ws(e)}catch(a){De(t,t.return,a)}}}function Kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ws(e)}catch(a){De(t,t.return,a)}}function Dp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new qh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new qh),t;default:throw Error(r(435,e.tag))}}function ki(e,t){var a=Dp(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=Kp.bind(null,e,s);s.then(o,o)}})}function At(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(Ia(v.type)){Xe=v.stateNode,Tt=!1;break e}break;case 5:Xe=v.stateNode,Tt=!1;break e;case 3:case 4:Xe=v.stateNode.containerInfo,Tt=!0;break e}v=v.return}if(Xe===null)throw Error(r(160));Gh(u,m,o),Xe=null,Tt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Yh(t,e),t=t.sibling}var ea=null;function Yh(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),Nt(e),s&4&&(Va(3,e,e.return),ul(3,e),Va(5,e,e.return));break;case 1:At(t,e),Nt(e),s&512&&(at||a===null||ra(a,a.return)),s&64&&xa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=ea;if(At(t,e),Nt(e),s&512&&(at||a===null||ra(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Bs]||u[ht]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),gt(u,s,a),u[ht]=e,ut(u),s=u;break e;case"link":var m=Xf("link","href",o).get(s+(a.href||""));if(m){for(var v=0;v<m.length;v++)if(u=m[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(v,1);break t}}u=o.createElement(s),gt(u,s,a),o.head.appendChild(u);break;case"meta":if(m=Xf("meta","content",o).get(s+(a.content||""))){for(v=0;v<m.length;v++)if(u=m[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(v,1);break t}}u=o.createElement(s),gt(u,s,a),o.head.appendChild(u);break;default:throw Error(r(468,s))}u[ht]=e,ut(u),s=u}e.stateNode=s}else Qf(o,e.type,e.stateNode);else e.stateNode=Yf(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?Qf(o,e.type,e.stateNode):Yf(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ko(e,e.memoizedProps,a.memoizedProps)}break;case 27:At(t,e),Nt(e),s&512&&(at||a===null||ra(a,a.return)),a!==null&&s&4&&Ko(e,e.memoizedProps,a.memoizedProps);break;case 5:if(At(t,e),Nt(e),s&512&&(at||a===null||ra(a,a.return)),e.flags&32){o=e.stateNode;try{Yn(o,"")}catch(te){De(e,e.return,te)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Ko(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Qo=!0);break;case 6:if(At(t,e),Nt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(te){De(e,e.return,te)}}break;case 3:if(Ji=null,o=ea,ea=Xi(t.containerInfo),At(t,e),ea=o,Nt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ws(t.containerInfo)}catch(te){De(e,e.return,te)}Qo&&(Qo=!1,Xh(e));break;case 4:s=ea,ea=Xi(e.stateNode.containerInfo),At(t,e),Nt(e),ea=s;break;case 12:At(t,e),Nt(e);break;case 31:At(t,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ki(e,s)));break;case 13:At(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ui=ge()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ki(e,s)));break;case 22:o=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,O=xa,D=at;if(xa=O||o,at=D||b,At(t,e),at=D,xa=O,Nt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||b||xa||at||An(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(u=b.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=b.stateNode;var L=b.memoizedProps.style,R=L!=null&&L.hasOwnProperty("display")?L.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(te){De(b,b.return,te)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(te){De(b,b.return,te)}}}else if(t.tag===18){if(a===null){b=t;try{var z=b.stateNode;o?Mf(z,!0):Mf(b.stateNode,!1)}catch(te){De(b,b.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,ki(e,a))));break;case 19:At(t,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ki(e,s)));break;case 30:break;case 21:break;default:At(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Bh(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,u=Yo(e);Ri(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(Yn(m,""),a.flags&=-33);var v=Yo(e);Ri(e,v,m);break;case 3:case 4:var b=a.stateNode.containerInfo,O=Yo(e);Xo(e,O,b);break;default:throw Error(r(161))}}catch(D){De(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$h(e,t.alternate,t),t=t.sibling}function An(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Va(4,t,t.return),An(t);break;case 1:ra(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Dh(t,t.return,a),An(t);break;case 27:bl(t.stateNode);case 26:case 5:ra(t,t.return),An(t);break;case 22:t.memoizedState===null&&An(t);break;case 30:An(t);break;default:An(t)}e=e.sibling}}function ja(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:ja(o,u,a),ul(4,u);break;case 1:if(ja(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(O){De(s,s.return,O)}if(s=u,o=s.updateQueue,o!==null){var v=s.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)Sd(b[o],v)}catch(O){De(s,s.return,O)}}a&&m&64&&Uh(u),cl(u,u.return);break;case 27:Lh(u);case 26:case 5:ja(o,u,a),a&&s===null&&m&4&&Mh(u),cl(u,u.return);break;case 12:ja(o,u,a);break;case 31:ja(o,u,a),a&&m&4&&Vh(o,u);break;case 13:ja(o,u,a),a&&m&4&&Kh(o,u);break;case 22:u.memoizedState===null&&ja(o,u,a),cl(u,u.return);break;case 30:break;default:ja(o,u,a)}t=t.sibling}}function Jo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Is(a))}function Zo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e))}function ta(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(e,t,a,s),t=t.sibling}function Qh(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ta(e,t,a,s),o&2048&&ul(9,t);break;case 1:ta(e,t,a,s);break;case 3:ta(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e)));break;case 12:if(o&2048){ta(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,v=u.onPostCommit;typeof v=="function"&&v(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){De(t,t.return,b)}}else ta(e,t,a,s);break;case 31:ta(e,t,a,s);break;case 13:ta(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?ta(e,t,a,s):dl(e,t):u._visibility&2?ta(e,t,a,s):(u._visibility|=2,ds(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Jo(m,t);break;case 24:ta(e,t,a,s),o&2048&&Zo(t.alternate,t);break;default:ta(e,t,a,s)}}function ds(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,v=a,b=s,O=m.flags;switch(m.tag){case 0:case 11:case 15:ds(u,m,v,b,o),ul(8,m);break;case 23:break;case 22:var D=m.stateNode;m.memoizedState!==null?D._visibility&2?ds(u,m,v,b,o):dl(u,m):(D._visibility|=2,ds(u,m,v,b,o)),o&&O&2048&&Jo(m.alternate,m);break;case 24:ds(u,m,v,b,o),o&&O&2048&&Zo(m.alternate,m);break;default:ds(u,m,v,b,o)}t=t.sibling}}function dl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:dl(a,s),o&2048&&Jo(s.alternate,s);break;case 24:dl(a,s),o&2048&&Zo(s.alternate,s);break;default:dl(a,s)}t=t.sibling}}var hl=8192;function hs(e,t,a){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)Jh(e,t,a),e=e.sibling}function Jh(e,t,a){switch(e.tag){case 26:hs(e,t,a),e.flags&hl&&e.memoizedState!==null&&xg(a,ea,e.memoizedState,e.memoizedProps);break;case 5:hs(e,t,a);break;case 3:case 4:var s=ea;ea=Xi(e.stateNode.containerInfo),hs(e,t,a),ea=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=hl,hl=16777216,hs(e,t,a),hl=s):hs(e,t,a));break;default:hs(e,t,a)}}function Zh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ct=s,Ph(s,e)}Zh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ih(e),e=e.sibling}function Ih(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Va(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zi(e)):fl(e);break;default:fl(e)}}function zi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ct=s,Ph(s,e)}Zh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Va(8,t,t.return),zi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,zi(t));break;default:zi(t)}e=e.sibling}}function Ph(e,t){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:Va(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Is(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,ct=s;else e:for(a=e;ct!==null;){s=ct;var o=s.sibling,u=s.return;if(Hh(s),s===a){ct=null;break e}if(o!==null){o.return=u,ct=o;break e}ct=u}}}var Mp={getCacheForType:function(e){var t=mt(We),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return mt(We).controller.signal}},Bp=typeof WeakMap=="function"?WeakMap:Map,ze=0,qe=null,be=null,Se=0,Ue=0,Dt=null,Ka=!1,fs=!1,Io=!1,Ea=0,Ze=0,Ya=0,Nn=0,Po=0,Mt=0,ms=0,ml=null,Ot=null,Fo=!1,Ui=0,Fh=0,Di=1/0,Mi=null,Xa=null,it=0,Qa=null,ps=null,Ta=0,Wo=0,eu=null,Wh=null,pl=0,tu=null;function Bt(){return(ze&2)!==0&&Se!==0?Se&-Se:C.T!==null?ru():pc()}function ef(){if(Mt===0)if((Se&536870912)===0||Ae){var e=Kl;Kl<<=1,(Kl&3932160)===0&&(Kl=262144),Mt=e}else Mt=536870912;return e=zt.current,e!==null&&(e.flags|=32),Mt}function Ct(e,t,a){(e===qe&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(gs(e,0),Ja(e,Se,Mt,!1)),Ms(e,a),((ze&2)===0||e!==qe)&&(e===qe&&((ze&2)===0&&(Nn|=a),Ze===4&&Ja(e,Se,Mt,!1)),oa(e))}function tf(e,t,a){if((ze&6)!==0)throw Error(r(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ds(e,t),o=s?$p(e,t):nu(e,t,!0),u=s;do{if(o===0){fs&&!s&&Ja(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Lp(a)){o=nu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var v=e;o=ml;var b=v.current.memoizedState.isDehydrated;if(b&&(gs(v,m).flags|=256),m=nu(v,m,!1),m!==2){if(Io&&!b){v.errorRecoveryDisabledLanes|=u,Nn|=u,o=4;break e}u=Ot,Ot=o,u!==null&&(Ot===null?Ot=u:Ot.push.apply(Ot,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){gs(e,0),Ja(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ja(s,t,Mt,!Ka);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Ui+300-ge(),10<o)){if(Ja(s,t,Mt,!Ka),Xl(s,0,!0)!==0)break e;Ta=t,s.timeoutHandle=zf(af.bind(null,s,a,Ot,Mi,Fo,t,Mt,Nn,ms,Ka,u,"Throttled",-0,0),o);break e}af(s,a,Ot,Mi,Fo,t,Mt,Nn,ms,Ka,u,null,-0,0)}}break}while(!0);oa(e)}function af(e,t,a,s,o,u,m,v,b,O,D,L,R,z){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:da},Jh(t,u,L);var te=(u&62914560)===u?Ui-ge():(u&4194048)===u?Fh-ge():0;if(te=wg(L,te),te!==null){Ta=u,e.cancelPendingCommit=te(df.bind(null,e,t,u,a,s,o,m,v,b,D,L,null,R,z)),Ja(e,u,m,!O);return}}df(e,t,u,a,s,o,m,v,b)}function Lp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!Rt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ja(e,t,a,s){t&=~Po,t&=~Nn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-dt(o),m=1<<u;s[u]=-1,o&=~m}a!==0&&hc(e,a,t)}function Bi(){return(ze&6)===0?(gl(0),!1):!0}function au(){if(be!==null){if(Ue===0)var e=be.return;else e=be,pa=bn=null,vo(e),is=null,Fs=0,e=be;for(;e!==null;)zh(e.alternate,e),e=e.return;be=null}}function gs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,sg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ta=0,au(),qe=e,be=a=fa(e.current,null),Se=t,Ue=0,Dt=null,Ka=!1,fs=Ds(e,t),Io=!1,ms=Mt=Po=Nn=Ya=Ze=0,Ot=ml=null,Fo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-dt(s),u=1<<o;t|=e[o],s&=~u}return Ea=t,si(),a}function nf(e,t){ye=null,C.H=il,t===ls||t===hi?(t=bd(),Ue=3):t===lo?(t=bd(),Ue=4):Ue=t===Uo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,be===null&&(Ze=1,Ti(e,Yt(t,e.current)))}function sf(){var e=zt.current;return e===null?!0:(Se&4194048)===Se?Zt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Zt:!1}function lf(){var e=C.H;return C.H=il,e===null?il:e}function rf(){var e=C.A;return C.A=Mp,e}function Li(){Ze=4,Ka||(Se&4194048)!==Se&&zt.current!==null||(fs=!0),(Ya&134217727)===0&&(Nn&134217727)===0||qe===null||Ja(qe,Se,Mt,!1)}function nu(e,t,a){var s=ze;ze|=2;var o=lf(),u=rf();(qe!==e||Se!==t)&&(Mi=null,gs(e,t)),t=!1;var m=Ze;e:do try{if(Ue!==0&&be!==null){var v=be,b=Dt;switch(Ue){case 8:au(),m=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var O=Ue;if(Ue=0,Dt=null,ys(e,v,b,O),a&&fs){m=0;break e}break;default:O=Ue,Ue=0,Dt=null,ys(e,v,b,O)}}qp(),m=Ze;break}catch(D){nf(e,D)}while(!0);return t&&e.shellSuspendCounter++,pa=bn=null,ze=s,C.H=o,C.A=u,be===null&&(qe=null,Se=0,si()),m}function qp(){for(;be!==null;)of(be)}function $p(e,t){var a=ze;ze|=2;var s=lf(),o=rf();qe!==e||Se!==t?(Mi=null,Di=ge()+500,gs(e,t)):fs=Ds(e,t);e:do try{if(Ue!==0&&be!==null){t=be;var u=Dt;t:switch(Ue){case 1:Ue=0,Dt=null,ys(e,t,u,1);break;case 2:case 9:if(yd(u)){Ue=0,Dt=null,uf(t);break}t=function(){Ue!==2&&Ue!==9||qe!==e||(Ue=7),oa(e)},u.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:yd(u)?(Ue=0,Dt=null,uf(t)):(Ue=0,Dt=null,ys(e,t,u,7));break;case 5:var m=null;switch(be.tag){case 26:m=be.memoizedState;case 5:case 27:var v=be;if(m?Jf(m):v.stateNode.complete){Ue=0,Dt=null;var b=v.sibling;if(b!==null)be=b;else{var O=v.return;O!==null?(be=O,qi(O)):be=null}break t}}Ue=0,Dt=null,ys(e,t,u,5);break;case 6:Ue=0,Dt=null,ys(e,t,u,6);break;case 8:au(),Ze=6;break e;default:throw Error(r(462))}}Hp();break}catch(D){nf(e,D)}while(!0);return pa=bn=null,C.H=s,C.A=o,ze=a,be!==null?0:(qe=null,Se=0,si(),Ze)}function Hp(){for(;be!==null&&!q();)of(be)}function of(e){var t=Rh(e.alternate,e,Ea);e.memoizedProps=e.pendingProps,t===null?qi(e):be=t}function uf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Eh(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Eh(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:vo(t);default:zh(a,t),t=be=id(t,Ea),t=Rh(a,t,Ea)}e.memoizedProps=e.pendingProps,t===null?qi(e):be=t}function ys(e,t,a,s){pa=bn=null,vo(t),is=null,Fs=0;var o=t.return;try{if(Op(e,o,t,a,Se)){Ze=1,Ti(e,Yt(a,e.current)),be=null;return}}catch(u){if(o!==null)throw be=o,u;Ze=1,Ti(e,Yt(a,e.current)),be=null;return}t.flags&32768?(Ae||s===1?e=!0:fs||(Se&536870912)!==0?e=!1:(Ka=e=!0,(s===2||s===9||s===3||s===6)&&(s=zt.current,s!==null&&s.tag===13&&(s.flags|=16384))),cf(t,e)):qi(t)}function qi(e){var t=e;do{if((t.flags&32768)!==0){cf(t,Ka);return}e=t.return;var a=kp(t.alternate,t,Ea);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ze===0&&(Ze=5)}function cf(e,t){do{var a=zp(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Ze=6,be=null}function df(e,t,a,s,o,u,m,v,b){e.cancelPendingCommit=null;do $i();while(it!==0);if((ze&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=Kr,_m(e,a,u,m,v,b),e===qe&&(be=qe=null,Se=0),ps=t,Qa=e,Ta=a,Wo=u,eu=o,Wh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yp(Te,function(){return gf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=C.T,C.T=null,o=U.p,U.p=2,m=ze,ze|=4;try{Up(e,t,a)}finally{ze=m,U.p=o,C.T=s}}it=1,hf(),ff(),mf()}}function hf(){if(it===1){it=0;var e=Qa,t=ps,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var s=U.p;U.p=2;var o=ze;ze|=4;try{Yh(t,e);var u=pu,m=Pc(e.containerInfo),v=u.focusedElem,b=u.selectionRange;if(m!==v&&v&&v.ownerDocument&&Ic(v.ownerDocument.documentElement,v)){if(b!==null&&qr(v)){var O=b.start,D=b.end;if(D===void 0&&(D=O),"selectionStart"in v)v.selectionStart=O,v.selectionEnd=Math.min(D,v.value.length);else{var L=v.ownerDocument||document,R=L&&L.defaultView||window;if(R.getSelection){var z=R.getSelection(),te=v.textContent.length,ie=Math.min(b.start,te),Le=b.end===void 0?ie:Math.min(b.end,te);!z.extend&&ie>Le&&(m=Le,Le=ie,ie=m);var S=Zc(v,ie),w=Zc(v,Le);if(S&&w&&(z.rangeCount!==1||z.anchorNode!==S.node||z.anchorOffset!==S.offset||z.focusNode!==w.node||z.focusOffset!==w.offset)){var N=L.createRange();N.setStart(S.node,S.offset),z.removeAllRanges(),ie>Le?(z.addRange(N),z.extend(w.node,w.offset)):(N.setEnd(w.node,w.offset),z.addRange(N))}}}}for(L=[],z=v;z=z.parentNode;)z.nodeType===1&&L.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<L.length;v++){var B=L[v];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Fi=!!mu,pu=mu=null}finally{ze=o,U.p=s,C.T=a}}e.current=t,it=2}}function ff(){if(it===2){it=0;var e=Qa,t=ps,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var s=U.p;U.p=2;var o=ze;ze|=4;try{$h(e,t.alternate,t)}finally{ze=o,U.p=s,C.T=a}}it=3}}function mf(){if(it===4||it===3){it=0,Q();var e=Qa,t=ps,a=Ta,s=Wh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,ps=Qa=null,pf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Xa=null),_r(a),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(cn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=C.T,o=U.p,U.p=2,C.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var v=s[m];u(v.value,{componentStack:v.stack})}}finally{C.T=t,U.p=o}}(Ta&3)!==0&&$i(),oa(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===tu?pl++:(pl=0,tu=e):pl=0,gl(0)}}function pf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Is(t)))}function $i(){return hf(),ff(),mf(),gf()}function gf(){if(it!==5)return!1;var e=Qa,t=Wo;Wo=0;var a=_r(Ta),s=C.T,o=U.p;try{U.p=32>a?32:a,C.T=null,a=eu,eu=null;var u=Qa,m=Ta;if(it=0,ps=Qa=null,Ta=0,(ze&6)!==0)throw Error(r(331));var v=ze;if(ze|=4,Ih(u.current),Qh(u,u.current,m,a),ze=v,gl(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(cn,u)}catch{}return!0}finally{U.p=o,C.T=s,pf(e,t)}}function yf(e,t,a){t=Yt(a,t),t=zo(e.stateNode,t,2),e=$a(e,t,2),e!==null&&(Ms(e,2),oa(e))}function De(e,t,a){if(e.tag===3)yf(e,e,a);else for(;t!==null;){if(t.tag===3){yf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xa===null||!Xa.has(s))){e=Yt(a,e),a=yh(2),s=$a(t,a,2),s!==null&&(vh(a,s,t,e),Ms(s,2),oa(s));break}}t=t.return}}function su(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Bp;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Io=!0,o.add(a),e=Gp.bind(null,e,t,a),t.then(e,e))}function Gp(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(Se&a)===a&&(Ze===4||Ze===3&&(Se&62914560)===Se&&300>ge()-Ui?(ze&2)===0&&gs(e,0):Po|=a,ms===Se&&(ms=0)),oa(e)}function vf(e,t){t===0&&(t=dc()),e=gn(e,t),e!==null&&(Ms(e,t),oa(e))}function Vp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),vf(e,a)}function Kp(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),vf(e,a)}function Yp(e,t){return un(e,t)}var Hi=null,vs=null,lu=!1,Gi=!1,iu=!1,Za=0;function oa(e){e!==vs&&e.next===null&&(vs===null?Hi=vs=e:vs=vs.next=e),Gi=!0,lu||(lu=!0,Qp())}function gl(e,t){if(!iu&&Gi){iu=!0;do for(var a=!1,s=Hi;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var m=s.suspendedLanes,v=s.pingedLanes;u=(1<<31-dt(42|e)+1)-1,u&=o&~(m&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,wf(s,u))}else u=Se,u=Xl(s,s===qe?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||Ds(s,u)||(a=!0,wf(s,u));s=s.next}while(a);iu=!1}}function Xp(){bf()}function bf(){Gi=lu=!1;var e=0;Za!==0&&ng()&&(e=Za);for(var t=ge(),a=null,s=Hi;s!==null;){var o=s.next,u=_f(s,t);u===0?(s.next=null,a===null?Hi=o:a.next=o,o===null&&(vs=a)):(a=s,(e!==0||(u&3)!==0)&&(Gi=!0)),s=o}it!==0&&it!==5||gl(e),Za!==0&&(Za=0)}function _f(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-dt(u),v=1<<m,b=o[m];b===-1?((v&a)===0||(v&s)!==0)&&(o[m]=bm(v,t)):b<=t&&(e.expiredLanes|=v),u&=~v}if(t=qe,a=Se,a=Xl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&V(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ds(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&V(s),_r(a)){case 2:case 8:a=Ce;break;case 32:a=Te;break;case 268435456:a=St;break;default:a=Te}return s=xf.bind(null,e),a=un(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&V(s),e.callbackPriority=2,e.callbackNode=null,2}function xf(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if($i()&&e.callbackNode!==a)return null;var s=Se;return s=Xl(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(tf(e,s,t),_f(e,ge()),e.callbackNode!=null&&e.callbackNode===a?xf.bind(null,e):null)}function wf(e,t){if($i())return null;tf(e,t,!0)}function Qp(){lg(function(){(ze&6)!==0?un(Oe,Xp):bf()})}function ru(){if(Za===0){var e=ns;e===0&&(e=Vl,Vl<<=1,(Vl&261888)===0&&(Vl=256)),Za=e}return Za}function Sf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Il(""+e)}function jf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Jp(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=Sf((o[jt]||null).action),m=s.submitter;m&&(t=(t=m[jt]||null)?Sf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var v=new ei("action","action",null,s,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Za!==0){var b=m?jf(o,m):new FormData(o);Ao(a,{pending:!0,data:b,method:o.method,action:u},null,b)}}else typeof u=="function"&&(v.preventDefault(),b=m?jf(o,m):new FormData(o),Ao(a,{pending:!0,data:b,method:o.method,action:u},u,b))},currentTarget:o}]})}}for(var ou=0;ou<Vr.length;ou++){var uu=Vr[ou],Zp=uu.toLowerCase(),Ip=uu[0].toUpperCase()+uu.slice(1);Wt(Zp,"on"+Ip)}Wt(ed,"onAnimationEnd"),Wt(td,"onAnimationIteration"),Wt(ad,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(hp,"onTransitionRun"),Wt(fp,"onTransitionStart"),Wt(mp,"onTransitionCancel"),Wt(nd,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function Ef(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var v=s[m],b=v.instance,O=v.currentTarget;if(v=v.listener,b!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=O;try{u(o)}catch(D){ni(D)}o.currentTarget=null,u=b}else for(m=0;m<s.length;m++){if(v=s[m],b=v.instance,O=v.currentTarget,v=v.listener,b!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=O;try{u(o)}catch(D){ni(D)}o.currentTarget=null,u=b}}}}function _e(e,t){var a=t[xr];a===void 0&&(a=t[xr]=new Set);var s=e+"__bubble";a.has(s)||(Tf(t,e,2,!1),a.add(s))}function cu(e,t,a){var s=0;t&&(s|=4),Tf(a,e,s,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function du(e){if(!e[Vi]){e[Vi]=!0,vc.forEach(function(a){a!=="selectionchange"&&(Pp.has(a)||cu(a,!1,e),cu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vi]||(t[Vi]=!0,cu("selectionchange",!1,t))}}function Tf(e,t,a,s){switch(t0(t)){case 2:var o=Eg;break;case 8:o=Tg;break;default:o=Tu}a=o.bind(null,t,a,e),o=void 0,!Cr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function hu(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var v=s.stateNode.containerInfo;if(v===o)break;if(m===4)for(m=s.return;m!==null;){var b=m.tag;if((b===3||b===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;v!==null;){if(m=$n(v),m===null)return;if(b=m.tag,b===5||b===6||b===26||b===27){s=u=m;continue e}v=v.parentNode}}s=s.return}Cc(function(){var O=u,D=Nr(a),L=[];e:{var R=sd.get(e);if(R!==void 0){var z=ei,te=e;switch(e){case"keypress":if(Fl(a)===0)break e;case"keydown":case"keyup":z=Km;break;case"focusin":te="focus",z=Ur;break;case"focusout":te="blur",z=Ur;break;case"beforeblur":case"afterblur":z=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Qm;break;case ed:case td:case ad:z=Dm;break;case nd:z=Zm;break;case"scroll":case"scrollend":z=Cm;break;case"wheel":z=Pm;break;case"copy":case"cut":case"paste":z=Bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Dc;break;case"toggle":case"beforetoggle":z=Wm}var ie=(t&4)!==0,Le=!ie&&(e==="scroll"||e==="scrollend"),S=ie?R!==null?R+"Capture":null:R;ie=[];for(var w=O,N;w!==null;){var B=w;if(N=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||N===null||S===null||(B=qs(w,S),B!=null&&ie.push(vl(w,B,N))),Le)break;w=w.return}0<ie.length&&(R=new z(R,te,null,a,D),L.push({event:R,listeners:ie}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",R&&a!==Ar&&(te=a.relatedTarget||a.fromElement)&&($n(te)||te[qn]))break e;if((z||R)&&(R=D.window===D?D:(R=D.ownerDocument)?R.defaultView||R.parentWindow:window,z?(te=a.relatedTarget||a.toElement,z=O,te=te?$n(te):null,te!==null&&(Le=d(te),ie=te.tag,te!==Le||ie!==5&&ie!==27&&ie!==6)&&(te=null)):(z=null,te=O),z!==te)){if(ie=zc,B="onMouseLeave",S="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Dc,B="onPointerLeave",S="onPointerEnter",w="pointer"),Le=z==null?R:Ls(z),N=te==null?R:Ls(te),R=new ie(B,w+"leave",z,a,D),R.target=Le,R.relatedTarget=N,B=null,$n(D)===O&&(ie=new ie(S,w+"enter",te,a,D),ie.target=N,ie.relatedTarget=Le,B=ie),Le=B,z&&te)t:{for(ie=Fp,S=z,w=te,N=0,B=S;B;B=ie(B))N++;B=0;for(var se=w;se;se=ie(se))B++;for(;0<N-B;)S=ie(S),N--;for(;0<B-N;)w=ie(w),B--;for(;N--;){if(S===w||w!==null&&S===w.alternate){ie=S;break t}S=ie(S),w=ie(w)}ie=null}else ie=null;z!==null&&Af(L,R,z,ie,!1),te!==null&&Le!==null&&Af(L,Le,te,ie,!0)}}e:{if(R=O?Ls(O):window,z=R.nodeName&&R.nodeName.toLowerCase(),z==="select"||z==="input"&&R.type==="file")var Re=Vc;else if(Hc(R))if(Kc)Re=up;else{Re=rp;var ae=ip}else z=R.nodeName,!z||z.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?O&&Tr(O.elementType)&&(Re=Vc):Re=op;if(Re&&(Re=Re(e,O))){Gc(L,Re,a,D);break e}ae&&ae(e,R,O),e==="focusout"&&O&&R.type==="number"&&O.memoizedProps.value!=null&&Er(R,"number",R.value)}switch(ae=O?Ls(O):window,e){case"focusin":(Hc(ae)||ae.contentEditable==="true")&&(Zn=ae,$r=O,Qs=null);break;case"focusout":Qs=$r=Zn=null;break;case"mousedown":Hr=!0;break;case"contextmenu":case"mouseup":case"dragend":Hr=!1,Fc(L,a,D);break;case"selectionchange":if(dp)break;case"keydown":case"keyup":Fc(L,a,D)}var ve;if(Mr)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Jn?qc(e,a)&&(je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Mc&&a.locale!=="ko"&&(Jn||je!=="onCompositionStart"?je==="onCompositionEnd"&&Jn&&(ve=Rc()):(za=D,Rr="value"in za?za.value:za.textContent,Jn=!0)),ae=Ki(O,je),0<ae.length&&(je=new Uc(je,e,null,a,D),L.push({event:je,listeners:ae}),ve?je.data=ve:(ve=$c(a),ve!==null&&(je.data=ve)))),(ve=tp?ap(e,a):np(e,a))&&(je=Ki(O,"onBeforeInput"),0<je.length&&(ae=new Uc("onBeforeInput","beforeinput",null,a,D),L.push({event:ae,listeners:je}),ae.data=ve)),Jp(L,e,O,a,D)}Ef(L,t)})}function vl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ki(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=qs(e,a),o!=null&&s.unshift(vl(e,o,u)),o=qs(e,t),o!=null&&s.push(vl(e,o,u))),e.tag===3)return s;e=e.return}return[]}function Fp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Af(e,t,a,s,o){for(var u=t._reactName,m=[];a!==null&&a!==s;){var v=a,b=v.alternate,O=v.stateNode;if(v=v.tag,b!==null&&b===s)break;v!==5&&v!==26&&v!==27||O===null||(b=O,o?(O=qs(a,u),O!=null&&m.unshift(vl(a,O,b))):o||(O=qs(a,u),O!=null&&m.push(vl(a,O,b)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var Wp=/\r\n?/g,eg=/\u0000|\uFFFD/g;function Nf(e){return(typeof e=="string"?e:""+e).replace(Wp,`
`).replace(eg,"")}function Of(e,t){return t=Nf(t),Nf(e)===t}function Be(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Yn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Yn(e,""+s);break;case"className":Jl(e,"class",s);break;case"tabIndex":Jl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Jl(e,a,s);break;case"style":Nc(e,s,u);break;case"data":if(t!=="object"){Jl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Il(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Be(e,t,"name",o.name,o,null),Be(e,t,"formEncType",o.formEncType,o,null),Be(e,t,"formMethod",o.formMethod,o,null),Be(e,t,"formTarget",o.formTarget,o,null)):(Be(e,t,"encType",o.encType,o,null),Be(e,t,"method",o.method,o,null),Be(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Il(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=da);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Il(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Ql(e,"popover",s);break;case"xlinkActuate":ca(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ca(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ca(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ca(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ca(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ca(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ca(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ca(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ca(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ql(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nm.get(a)||a,Ql(e,a,s))}}function fu(e,t,a,s,o,u){switch(a){case"style":Nc(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Yn(e,s):(typeof s=="number"||typeof s=="bigint")&&Yn(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[jt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ql(e,a,s)}}}function gt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Be(e,t,u,m,a,null)}}o&&Be(e,t,"srcSet",a.srcSet,a,null),s&&Be(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var v=u=m=o=null,b=null,O=null;for(s in a)if(a.hasOwnProperty(s)){var D=a[s];if(D!=null)switch(s){case"name":o=D;break;case"type":m=D;break;case"checked":b=D;break;case"defaultChecked":O=D;break;case"value":u=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Be(e,t,s,D,a,null)}}jc(e,u,v,b,O,m,o,!1);return;case"select":_e("invalid",e),s=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":m=v;break;case"multiple":s=v;default:Be(e,t,o,v,a,null)}t=u,a=m,e.multiple=!!s,t!=null?Kn(e,!!s,t,!1):a!=null&&Kn(e,!!s,a,!0);return;case"textarea":_e("invalid",e),u=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(v=a[m],v!=null))switch(m){case"value":s=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Be(e,t,m,v,a,null)}Tc(e,s,o,u);return;case"option":for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null)&&(b==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Be(e,t,b,s,a,null));return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<yl.length;s++)_e(yl[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(s=a[O],s!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Be(e,t,O,s,a,null)}return;default:if(Tr(t)){for(D in a)a.hasOwnProperty(D)&&(s=a[D],s!==void 0&&fu(e,t,D,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&Be(e,t,v,s,a,null))}function tg(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,v=null,b=null,O=null,D=null;for(z in a){var L=a[z];if(a.hasOwnProperty(z)&&L!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=L;default:s.hasOwnProperty(z)||Be(e,t,z,null,s,L)}}for(var R in s){var z=s[R];if(L=a[R],s.hasOwnProperty(R)&&(z!=null||L!=null))switch(R){case"type":u=z;break;case"name":o=z;break;case"checked":O=z;break;case"defaultChecked":D=z;break;case"value":m=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:z!==L&&Be(e,t,R,z,s,L)}}jr(e,m,v,b,O,D,u,o);return;case"select":z=m=v=R=null;for(u in a)if(b=a[u],a.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":z=b;default:s.hasOwnProperty(u)||Be(e,t,u,null,s,b)}for(o in s)if(u=s[o],b=a[o],s.hasOwnProperty(o)&&(u!=null||b!=null))switch(o){case"value":R=u;break;case"defaultValue":v=u;break;case"multiple":m=u;default:u!==b&&Be(e,t,o,u,s,b)}t=v,a=m,s=z,R!=null?Kn(e,!!a,R,!1):!!s!=!!a&&(t!=null?Kn(e,!!a,t,!0):Kn(e,!!a,a?[]:"",!1));return;case"textarea":z=R=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Be(e,t,v,null,s,o)}for(m in s)if(o=s[m],u=a[m],s.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":R=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&Be(e,t,m,o,s,u)}Ec(e,R,z);return;case"option":for(var te in a)R=a[te],a.hasOwnProperty(te)&&R!=null&&!s.hasOwnProperty(te)&&(te==="selected"?e.selected=!1:Be(e,t,te,null,s,R));for(b in s)R=s[b],z=a[b],s.hasOwnProperty(b)&&R!==z&&(R!=null||z!=null)&&(b==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":Be(e,t,b,R,s,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)R=a[ie],a.hasOwnProperty(ie)&&R!=null&&!s.hasOwnProperty(ie)&&Be(e,t,ie,null,s,R);for(O in s)if(R=s[O],z=a[O],s.hasOwnProperty(O)&&R!==z&&(R!=null||z!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Be(e,t,O,R,s,z)}return;default:if(Tr(t)){for(var Le in a)R=a[Le],a.hasOwnProperty(Le)&&R!==void 0&&!s.hasOwnProperty(Le)&&fu(e,t,Le,void 0,s,R);for(D in s)R=s[D],z=a[D],!s.hasOwnProperty(D)||R===z||R===void 0&&z===void 0||fu(e,t,D,R,s,z);return}}for(var S in a)R=a[S],a.hasOwnProperty(S)&&R!=null&&!s.hasOwnProperty(S)&&Be(e,t,S,null,s,R);for(L in s)R=s[L],z=a[L],!s.hasOwnProperty(L)||R===z||R==null&&z==null||Be(e,t,L,R,s,z)}function Cf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ag(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,m=o.initiatorType,v=o.duration;if(u&&v&&Cf(m)){for(m=0,v=o.responseEnd,s+=1;s<a.length;s++){var b=a[s],O=b.startTime;if(O>v)break;var D=b.transferSize,L=b.initiatorType;D&&Cf(L)&&(b=b.responseEnd,m+=D*(b<v?1:(v-O)/(b-O)))}if(--s,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mu=null,pu=null;function Yi(e){return e.nodeType===9?e:e.ownerDocument}function Rf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yu=null;function ng(){var e=window.event;return e&&e.type==="popstate"?e===yu?!1:(yu=e,!0):(yu=null,!1)}var zf=typeof setTimeout=="function"?setTimeout:void 0,sg=typeof clearTimeout=="function"?clearTimeout:void 0,Uf=typeof Promise=="function"?Promise:void 0,lg=typeof queueMicrotask=="function"?queueMicrotask:typeof Uf<"u"?function(e){return Uf.resolve(null).then(e).catch(ig)}:zf;function ig(e){setTimeout(function(){throw e})}function Ia(e){return e==="head"}function Df(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),ws(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")bl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,bl(a);for(var u=a.firstChild;u;){var m=u.nextSibling,v=u.nodeName;u[Bs]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&bl(e.ownerDocument.body);a=o}while(a);ws(t)}function Mf(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function vu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vu(a),wr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function rg(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Bs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=It(e.nextSibling),e===null)break}return null}function og(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=It(e.nextSibling),e===null))return null;return e}function Bf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=It(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$?"||e.data==="$~"}function _u(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ug(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var xu=null;function Lf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return It(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function qf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function $f(e,t,a){switch(t=Yi(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function bl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);wr(e)}var Pt=new Map,Hf=new Set;function Xi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Aa=U.d;U.d={f:cg,r:dg,D:hg,C:fg,L:mg,m:pg,X:yg,S:gg,M:vg};function cg(){var e=Aa.f(),t=Bi();return e||t}function dg(e){var t=Hn(e);t!==null&&t.tag===5&&t.type==="form"?nh(t):Aa.r(e)}var bs=typeof document>"u"?null:document;function Gf(e,t,a){var s=bs;if(s&&typeof t=="string"&&t){var o=Vt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Hf.has(o)||(Hf.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),gt(t,"link",e),ut(t),s.head.appendChild(t)))}}function hg(e){Aa.D(e),Gf("dns-prefetch",e,null)}function fg(e,t){Aa.C(e,t),Gf("preconnect",e,t)}function mg(e,t,a){Aa.L(e,t,a);var s=bs;if(s&&e&&t){var o='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Vt(a.imageSizes)+'"]')):o+='[href="'+Vt(e)+'"]';var u=o;switch(t){case"style":u=_s(e);break;case"script":u=xs(e)}Pt.has(u)||(e=j({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Pt.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(_l(u))||t==="script"&&s.querySelector(xl(u))||(t=s.createElement("link"),gt(t,"link",e),ut(t),s.head.appendChild(t)))}}function pg(e,t){Aa.m(e,t);var a=bs;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Vt(s)+'"][href="'+Vt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=xs(e)}if(!Pt.has(u)&&(e=j({rel:"modulepreload",href:e},t),Pt.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(u)))return}s=a.createElement("link"),gt(s,"link",e),ut(s),a.head.appendChild(s)}}}function gg(e,t,a){Aa.S(e,t,a);var s=bs;if(s&&e){var o=Gn(s).hoistableStyles,u=_s(e);t=t||"default";var m=o.get(u);if(!m){var v={loading:0,preload:null};if(m=s.querySelector(_l(u)))v.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Pt.get(u))&&wu(e,a);var b=m=s.createElement("link");ut(b),gt(b,"link",e),b._p=new Promise(function(O,D){b.onload=O,b.onerror=D}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Qi(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:v},o.set(u,m)}}}function yg(e,t){Aa.X(e,t);var a=bs;if(a&&e){var s=Gn(a).hoistableScripts,o=xs(e),u=s.get(o);u||(u=a.querySelector(xl(o)),u||(e=j({src:e,async:!0},t),(t=Pt.get(o))&&Su(e,t),u=a.createElement("script"),ut(u),gt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function vg(e,t){Aa.M(e,t);var a=bs;if(a&&e){var s=Gn(a).hoistableScripts,o=xs(e),u=s.get(o);u||(u=a.querySelector(xl(o)),u||(e=j({src:e,async:!0,type:"module"},t),(t=Pt.get(o))&&Su(e,t),u=a.createElement("script"),ut(u),gt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function Vf(e,t,a,s){var o=(o=pe.current)?Xi(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=_s(a.href),a=Gn(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=_s(a.href);var u=Gn(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(_l(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Pt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pt.set(e,a),u||bg(o,e,a,m.state))),t&&s===null)throw Error(r(528,""));return m}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xs(a),a=Gn(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function _s(e){return'href="'+Vt(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function Kf(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function bg(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),gt(t,"link",a),ut(t),e.head.appendChild(t))}function xs(e){return'[src="'+Vt(e)+'"]'}function xl(e){return"script[async]"+e}function Yf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Vt(a.href)+'"]');if(s)return t.instance=s,ut(s),s;var o=j({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ut(s),gt(s,"style",o),Qi(s,a.precedence,e),t.instance=s;case"stylesheet":o=_s(a.href);var u=e.querySelector(_l(o));if(u)return t.state.loading|=4,t.instance=u,ut(u),u;s=Kf(a),(o=Pt.get(o))&&wu(s,o),u=(e.ownerDocument||e).createElement("link"),ut(u);var m=u;return m._p=new Promise(function(v,b){m.onload=v,m.onerror=b}),gt(u,"link",s),t.state.loading|=4,Qi(u,a.precedence,e),t.instance=u;case"script":return u=xs(a.src),(o=e.querySelector(xl(u)))?(t.instance=o,ut(o),o):(s=a,(o=Pt.get(u))&&(s=j({},a),Su(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),ut(o),gt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Qi(s,a.precedence,e));return t.instance}function Qi(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,m=0;m<s.length;m++){var v=s[m];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ji=null;function Xf(e,t,a){if(Ji===null){var s=new Map,o=Ji=new Map;o.set(a,s)}else o=Ji,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Bs]||u[ht]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var v=s.get(m);v?v.push(u):s.set(m,[u])}}return s}function Qf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function _g(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xg(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=_s(s.href),u=t.querySelector(_l(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,ut(u);return}u=t.ownerDocument||t,s=Kf(s),(o=Pt.get(o))&&wu(s,o),u=u.createElement("link"),ut(u);var m=u;m._p=new Promise(function(v,b){m.onload=v,m.onerror=b}),gt(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Zi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var ju=0;function wg(e,t){return e.stylesheets&&e.count===0&&Pi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Pi(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&ju===0&&(ju=62500*ag());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Pi(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>ju?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Zi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ii=null;function Pi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ii=new Map,t.forEach(Sg,e),Ii=null,Zi.call(e))}function Sg(e,t){if(!(t.state.loading&4)){var a=Ii.get(e);if(a)var s=a.get(null);else{a=new Map,Ii.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||s,u===s&&a.set(null,o),a.set(m,o),this.count++,s=Zi.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var wl={$$typeof:H,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function jg(e,t,a,s,o,u,m,v,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Zf(e,t,a,s,o,u,m,v,b,O,D,L){return e=new jg(e,t,a,m,b,O,D,L,v),t=1,u===!0&&(t|=24),u=kt(3,null,null,t),e.current=u,u.stateNode=e,t=ao(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},io(u),e}function If(e){return e?(e=Fn,e):Fn}function Pf(e,t,a,s,o,u){o=If(o),s.context===null?s.context=o:s.pendingContext=o,s=qa(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=$a(e,s,t),a!==null&&(Ct(a,e,t),el(a,e,t))}function Ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Eu(e,t){Ff(e,t),(e=e.alternate)&&Ff(e,t)}function Wf(e){if(e.tag===13||e.tag===31){var t=gn(e,67108864);t!==null&&Ct(t,e,67108864),Eu(e,67108864)}}function e0(e){if(e.tag===13||e.tag===31){var t=Bt();t=br(t);var a=gn(e,t);a!==null&&Ct(a,e,t),Eu(e,t)}}var Fi=!0;function Eg(e,t,a,s){var o=C.T;C.T=null;var u=U.p;try{U.p=2,Tu(e,t,a,s)}finally{U.p=u,C.T=o}}function Tg(e,t,a,s){var o=C.T;C.T=null;var u=U.p;try{U.p=8,Tu(e,t,a,s)}finally{U.p=u,C.T=o}}function Tu(e,t,a,s){if(Fi){var o=Au(s);if(o===null)hu(e,t,s,Wi,a),a0(e,s);else if(Ng(o,e,t,a,s))s.stopPropagation();else if(a0(e,s),t&4&&-1<Ag.indexOf(e)){for(;o!==null;){var u=Hn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=dn(u.pendingLanes);if(m!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var b=1<<31-dt(m);v.entanglements[1]|=b,m&=~b}oa(u),(ze&6)===0&&(Di=ge()+500,gl(0))}}break;case 31:case 13:v=gn(u,2),v!==null&&Ct(v,u,2),Bi(),Eu(u,2)}if(u=Au(s),u===null&&hu(e,t,s,Wi,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else hu(e,t,s,null,a)}}function Au(e){return e=Nr(e),Nu(e)}var Wi=null;function Nu(e){if(Wi=null,e=$n(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wi=e,null}function t0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F()){case Oe:return 2;case Ce:return 8;case Te:case ot:return 32;case St:return 268435456;default:return 32}default:return 32}}var Ou=!1,Pa=null,Fa=null,Wa=null,Sl=new Map,jl=new Map,en=[],Ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a0(e,t){switch(e){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(t.pointerId)}}function El(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Hn(t),t!==null&&Wf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ng(e,t,a,s,o){switch(t){case"focusin":return Pa=El(Pa,e,t,a,s,o),!0;case"dragenter":return Fa=El(Fa,e,t,a,s,o),!0;case"mouseover":return Wa=El(Wa,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return Sl.set(u,El(Sl.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,jl.set(u,El(jl.get(u)||null,e,t,a,s,o)),!0}return!1}function n0(e){var t=$n(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,gc(e.priority,function(){e0(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,gc(e.priority,function(){e0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function er(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Au(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Ar=s,a.target.dispatchEvent(s),Ar=null}else return t=Hn(a),t!==null&&Wf(t),e.blockedOn=a,!1;t.shift()}return!0}function s0(e,t,a){er(e)&&a.delete(t)}function Og(){Ou=!1,Pa!==null&&er(Pa)&&(Pa=null),Fa!==null&&er(Fa)&&(Fa=null),Wa!==null&&er(Wa)&&(Wa=null),Sl.forEach(s0),jl.forEach(s0)}function tr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ou||(Ou=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Og)))}var ar=null;function l0(e){ar!==e&&(ar=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ar===e&&(ar=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Nu(s||a)===null)continue;break}var u=Hn(a);u!==null&&(e.splice(t,3),t-=3,Ao(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function ws(e){function t(b){return tr(b,e)}Pa!==null&&tr(Pa,e),Fa!==null&&tr(Fa,e),Wa!==null&&tr(Wa,e),Sl.forEach(t),jl.forEach(t);for(var a=0;a<en.length;a++){var s=en[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<en.length&&(a=en[0],a.blockedOn===null);)n0(a),a.blockedOn===null&&en.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],m=o[jt]||null;if(typeof u=="function")m||l0(a);else if(m){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[jt]||null)v=m.formAction;else if(Nu(o)!==null)continue}else v=m.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),l0(a)}}}function i0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Cu(e){this._internalRoot=e}nr.prototype.render=Cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,s=Bt();Pf(a,s,e,t,null,null)},nr.prototype.unmount=Cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pf(e.current,2,null,e,null,null),Bi(),t[qn]=null}};function nr(e){this._internalRoot=e}nr.prototype.unstable_scheduleHydration=function(e){if(e){var t=pc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<en.length&&t!==0&&t<en[a].priority;a++);en.splice(a,0,e),a===0&&n0(e)}};var r0=n.version;if(r0!=="19.2.3")throw Error(r(527,r0,"19.2.3"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Cg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sr.isDisabled&&sr.supportsFiber)try{cn=sr.inject(Cg),_t=sr}catch{}}return Al.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,s="",o=fh,u=mh,m=ph;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Zf(e,1,!1,null,null,a,s,null,o,u,m,i0),e[qn]=t.current,du(e),new Cu(t)},Al.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var s=!1,o="",u=fh,m=mh,v=ph,b=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),t=Zf(e,1,!0,t,a??null,s,o,b,u,m,v,i0),t.context=If(null),a=t.current,s=Bt(),s=br(s),o=qa(s),o.callback=null,$a(a,o,s),a=s,t.current.lanes=a,Ms(t,a),oa(t),e[qn]=t.current,du(e),new nr(t)},Al.version="19.2.3",Al}var y0;function Hg(){if(y0)return zu.exports;y0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch{}}return i(),zu.exports=$g(),zu.exports}var Gg=Hg();const Vg=X0(Gg);const Kg=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yg=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,r)=>r?r.toUpperCase():l.toLowerCase()),v0=i=>{const n=Yg(i);return n.charAt(0).toUpperCase()+n.slice(1)},Q0=(...i)=>i.filter((n,l,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===l).join(" ").trim(),Xg=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var Qg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jg=I.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:c="",children:d,iconNode:f,...g},p)=>I.createElement("svg",{ref:p,...Qg,width:n,height:n,stroke:i,strokeWidth:r?Number(l)*24/Number(n):l,className:Q0("lucide",c),...!d&&!Xg(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,x])=>I.createElement(y,x)),...Array.isArray(d)?d:[d]]));const Ee=(i,n)=>{const l=I.forwardRef(({className:r,...c},d)=>I.createElement(Jg,{ref:d,iconNode:n,className:Q0(`lucide-${Kg(v0(i))}`,`lucide-${i}`,r),...c}));return l.displayName=v0(i),l};const Zg=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Ig=Ee("arrow-down",Zg);const Pg=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],J0=Ee("arrow-left",Pg);const Fg=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Wg=Ee("arrow-up",Fg);const ey=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Z0=Ee("calculator",ey);const ty=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ay=Ee("chart-pie",ty);const ny=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xu=Ee("check",ny);const sy=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ly=Ee("circle-check-big",sy);const iy=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],ry=Ee("coins",iy);const oy=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],uy=Ee("eraser",oy);const cy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],dy=Ee("grid-3x3",cy);const hy=[["path",{d:"M12 17c5 0 8-2.69 8-6H4c0 3.31 3 6 8 6m-4 4h8m-4-3v3M5.14 11a3.5 3.5 0 1 1 6.71 0",key:"1uxfcu"}],["path",{d:"M12.14 11a3.5 3.5 0 1 1 6.71 0",key:"4k3m1s"}],["path",{d:"M15.5 6.5a3.5 3.5 0 1 0-7 0",key:"zmuahr"}]],fy=Ee("ice-cream-bowl",hy);const my=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],py=Ee("info",my);const gy=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],yy=Ee("layers",gy);const vy=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],by=Ee("layout-grid",vy);const _y=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],I0=Ee("list",_y);const xy=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kl=Ee("loader-circle",xy);const wy=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],P0=Ee("lock",wy);const Sy=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],b0=Ee("log-out",Sy);const jy=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],F0=Ee("map-pin",jy);const Ey=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ur=Ee("package",Ey);const Ty=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zl=Ee("pen-line",Ty);const Ay=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ny=Ee("phone",Ay);const Oy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fr=Ee("plus",Oy);const Cy=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ry=Ee("rotate-ccw",Cy);const ky=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zy=Ee("save",ky);const Uy=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lc=Ee("search",Uy);const Dy=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],My=Ee("settings",Dy);const By=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Ly=Ee("shopping-bag",By);const qy=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$y=Ee("star",qy);const Hy=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Gy=Ee("toggle-left",Hy);const Vy=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Ky=Ee("toggle-right",Vy);const Yy=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mn=Ee("trash-2",Yy);const Xy=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qy=Ee("triangle-alert",Xy);const Jy=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],W0=Ee("upload",Jy);const Zy=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_0=Ee("users",Zy);const Iy=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dn=Ee("x",Iy);function mr(i,n){var l={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(i);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(i,r[c])&&(l[r[c]]=i[r[c]]);return l}function Py(i,n,l,r){function c(d){return d instanceof l?d:new l(function(f){f(d)})}return new(l||(l=Promise))(function(d,f){function g(x){try{y(r.next(x))}catch(j){f(j)}}function p(x){try{y(r.throw(x))}catch(j){f(j)}}function y(x){x.done?d(x.value):c(x.value).then(g,p)}y((r=r.apply(i,n||[])).next())})}const Fy=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class ic extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class Wy extends ic{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class x0 extends ic{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class w0 extends ic{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Qu;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Qu||(Qu={}));class ev{constructor(n,{headers:l={},customFetch:r,region:c=Qu.Any}={}){this.url=n,this.headers=l,this.region=c,this.fetch=Fy(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Py(this,arguments,void 0,function*(l,r={}){var c;let d,f;try{const{headers:g,method:p,body:y,signal:x,timeout:j}=r;let A={},{region:T}=r;T||(T=this.region);const k=new URL(`${this.url}/${l}`);T&&T!=="any"&&(A["x-region"]=T,k.searchParams.set("forceFunctionRegion",T));let E;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",E=y):typeof y=="string"?(A["Content-Type"]="text/plain",E=y):typeof FormData<"u"&&y instanceof FormData?E=y:(A["Content-Type"]="application/json",E=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?E=JSON.stringify(y):E=y;let $=x;j&&(f=new AbortController,d=setTimeout(()=>f.abort(),j),x?($=f.signal,x.addEventListener("abort",()=>f.abort())):$=f.signal);const G=yield this.fetch(k.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),g),body:E,signal:$}).catch(he=>{throw new Wy(he)}),Y=G.headers.get("x-relay-error");if(Y&&Y==="true")throw new x0(G);if(!G.ok)throw new w0(G);let H=((c=G.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Z;return H==="application/json"?Z=yield G.json():H==="application/octet-stream"||H==="application/pdf"?Z=yield G.blob():H==="text/event-stream"?Z=G:H==="multipart/form-data"?Z=yield G.formData():Z=yield G.text(),{data:Z,error:null,response:G}}catch(g){return{data:null,error:g,response:g instanceof w0||g instanceof x0?g.context:void 0}}finally{d&&clearTimeout(d)}})}}var tv=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},av=class{constructor(i){var n,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,g=null,p=null,y=d.status,x=d.statusText;if(d.ok){var j,A;if(l.method!=="HEAD"){var T;const G=await d.text();G===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((T=l.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?g=G:g=JSON.parse(G))}const E=(j=l.headers.get("Prefer"))===null||j===void 0?void 0:j.match(/count=(exact|planned|estimated)/),$=(A=d.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");E&&$&&$.length>1&&(p=parseInt($[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,y=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var k;const E=await d.text();try{f=JSON.parse(E),Array.isArray(f)&&d.status===404&&(g=[],f=null,y=200,x="OK")}catch{d.status===404&&E===""?(y=204,x="No Content"):f={message:E}}if(f&&l.isMaybeSingle&&(!(f==null||(k=f.details)===null||k===void 0)&&k.includes("0 rows"))&&(f=null,y=200,x="OK"),f&&l.shouldThrowOnError)throw new tv(f)}return{error:f,data:g,count:p,status:y,statusText:x}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let g="";const p=d?.cause;if(p){var y,x,j,A;const k=(y=p?.message)!==null&&y!==void 0?y:"",E=(x=p?.code)!==null&&x!==void 0?x:"";g=`${(j=d?.name)!==null&&j!==void 0?j:"FetchError"}: ${d?.message}`,g+=`

Caused by: ${(A=p?.name)!==null&&A!==void 0?A:"Error"}: ${k}`,E&&(g+=` (${E})`),p?.stack&&(g+=`
${p.stack}`)}else{var T;g=(T=d?.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,n)}returns(){return this}overrideTypes(){return this}},nv=class extends av{select(i){let n=!1;const l=(i??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:l=n}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,n,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,d=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:d="text"}={}){var f;const g=[i?"analyze":null,n?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const S0=new RegExp("[,()]");var Os=class extends nv{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&S0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}notIn(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&S0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${l})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${d}.${n}`),this}match(i){return Object.entries(i).forEach(([n,l])=>{this.url.searchParams.append(n,`eq.${l}`)}),this}not(i,n,l){return this.url.searchParams.append(i,`not.${n}.${l}`),this}or(i,{foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,n,l){return this.url.searchParams.append(i,`${n}.${l}`),this}},sv=class{constructor(i,{headers:n={},schema:l,fetch:r}){this.url=i,this.headers=new Headers(n),this.schema=l,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,n){const{head:l=!1,count:r}=n??{},c=l?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join(""),{url:g,headers:p}=this.cloneRequestState();return g.searchParams.set("select",f),r&&p.append("Prefer",`count=${r}`),new Os({method:c,url:g,headers:p,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:l=!0}={}){var r;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),l||f.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(g.length>0){const p=[...new Set(g)].map(y=>`"${y}"`);d.searchParams.set("columns",p.join(","))}}return new Os({method:c,url:d,headers:f,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var d;const f="POST",{url:g,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),n!==void 0&&g.searchParams.set("on_conflict",n),r&&p.append("Prefer",`count=${r}`),c||p.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((x,j)=>x.concat(Object.keys(j)),[]);if(y.length>0){const x=[...new Set(y)].map(j=>`"${j}"`);g.searchParams.set("columns",x.join(","))}}return new Os({method:f,url:g,headers:p,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:n}={}){var l;const r="PATCH",{url:c,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new Os({method:r,url:c,headers:d,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var n;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return i&&c.append("Prefer",`count=${i}`),new Os({method:l,url:r,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},lv=class em{constructor(n,{headers:l={},schema:r,fetch:c}={}){this.url=n,this.headers=new Headers(l),this.schemaName=r,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sv(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new em(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,l={},{head:r=!1,get:c=!1,count:d}={}){var f;let g;const p=new URL(`${this.url}/rpc/${n}`);let y;const x=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(x)),j=r&&Object.values(l).some(x);j?(g="POST",y=l):r||c?(g=r?"HEAD":"GET",Object.entries(l).filter(([T,k])=>k!==void 0).map(([T,k])=>[T,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([T,k])=>{p.searchParams.append(T,k)})):(g="POST",y=l);const A=new Headers(this.headers);return j?A.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&A.set("Prefer",`count=${d}`),new Os({method:g,url:p,headers:A,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class iv{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const rv="2.90.1",ov=`realtime-js/${rv}`,tm="1.0.0",uv="2.0.0",j0=tm,Ju=1e4,cv=1e3,dv=100;var an;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(an||(an={}));var rt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(rt||(rt={}));var sa;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(sa||(sa={}));var Zu;(function(i){i.websocket="websocket"})(Zu||(Zu={}));var kn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(kn||(kn={}));class hv{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const c=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var l,r;const c=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,l,r){var c,d;const f=n.topic,g=(c=n.ref)!==null&&c!==void 0?c:"",p=(d=n.join_ref)!==null&&d!==void 0?d:"",y=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},j=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(j.length>255)throw new Error(`metadata length ${j.length} exceeds maximum of 255`);const A=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+g.length+f.length+y.length+j.length,T=new ArrayBuffer(this.HEADER_LENGTH+A);let k=new DataView(T),E=0;k.setUint8(E++,this.KINDS.userBroadcastPush),k.setUint8(E++,p.length),k.setUint8(E++,g.length),k.setUint8(E++,f.length),k.setUint8(E++,y.length),k.setUint8(E++,j.length),k.setUint8(E++,l),Array.from(p,G=>k.setUint8(E++,G.charCodeAt(0))),Array.from(g,G=>k.setUint8(E++,G.charCodeAt(0))),Array.from(f,G=>k.setUint8(E++,G.charCodeAt(0))),Array.from(y,G=>k.setUint8(E++,G.charCodeAt(0))),Array.from(j,G=>k.setUint8(E++,G.charCodeAt(0)));var $=new Uint8Array(T.byteLength+r.byteLength);return $.set(new Uint8Array(T),0),$.set(new Uint8Array(r),T.byteLength),$.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,d,f,g,p]=r;return l({join_ref:c,ref:d,topic:f,event:g,payload:p})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,l,c)}_decodeUserBroadcast(n,l,r){const c=l.getUint8(1),d=l.getUint8(2),f=l.getUint8(3),g=l.getUint8(4);let p=this.HEADER_LENGTH+4;const y=r.decode(n.slice(p,p+c));p=p+c;const x=r.decode(n.slice(p,p+d));p=p+d;const j=r.decode(n.slice(p,p+f));p=p+f;const A=n.slice(p,n.byteLength),T=g===this.JSON_ENCODING?JSON.parse(r.decode(A)):A,k={type:this.BROADCAST_EVENT,event:x,payload:T};return f>0&&(k.meta=JSON.parse(j)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class am{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})($e||($e={}));const E0=(i,n,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=fv(f,i,n,c),d),{}):{}},fv=(i,n,l,r)=>{const c=n.find(g=>g.name===i),d=c?.type,f=l[i];return d&&!r.includes(d)?nm(d,f):Iu(f)},nm=(i,n)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return yv(n,l)}switch(i){case $e.bool:return mv(n);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return pv(n);case $e.json:case $e.jsonb:return gv(n);case $e.timestamp:return vv(n);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Iu(n);default:return Iu(n)}},Iu=i=>i,mv=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},pv=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},gv=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},yv=(i,n)=>{if(typeof i!="string")return i;const l=i.length-1,r=i[l];if(i[0]==="{"&&r==="}"){let d;const f=i.slice(1,l);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>nm(n,g))}return i},vv=i=>typeof i=="string"?i.replace(" ","T"):i,sm=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Bu{constructor(n,l,r={},c=Ju){this.channel=n,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var T0;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(T0||(T0={}));class Cl{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cl.syncState(this.state,c,d,f),this.pendingDiffs.forEach(p=>{this.state=Cl.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Cl.syncDiff(this.state,c,d,f),g())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,c){const d=this.cloneDeep(n),f=this.transformState(l),g={},p={};return this.map(d,(y,x)=>{f[y]||(p[y]=x)}),this.map(f,(y,x)=>{const j=d[y];if(j){const A=x.map($=>$.presence_ref),T=j.map($=>$.presence_ref),k=x.filter($=>T.indexOf($.presence_ref)<0),E=j.filter($=>A.indexOf($.presence_ref)<0);k.length>0&&(g[y]=k),E.length>0&&(p[y]=E)}else g[y]=x}),this.syncDiff(d,{joins:g,leaves:p},r,c)}static syncDiff(n,l,r,c){const{joins:d,leaves:f}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(d,(g,p)=>{var y;const x=(y=n[g])!==null&&y!==void 0?y:[];if(n[g]=this.cloneDeep(p),x.length>0){const j=n[g].map(T=>T.presence_ref),A=x.filter(T=>j.indexOf(T.presence_ref)<0);n[g].unshift(...A)}r(g,x,p)}),this.map(f,(g,p)=>{let y=n[g];if(!y)return;const x=p.map(j=>j.presence_ref);y=y.filter(j=>x.indexOf(j.presence_ref)<0),n[g]=y,c(g,y,p),y.length===0&&delete n[g]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const c=n[r];return"metas"in c?l[r]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[r]=c,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var A0;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(A0||(A0={}));var Rl;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Rl||(Rl={}));var Na;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Na||(Na={}));class ks{constructor(n,l={config:{}},r){var c,d;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Bu(this,sa.join,this.params,this.timeout),this.rejoinTimer=new am(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sa.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Cl(this),this.broadcastEndpointURL=sm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:f,presence:g,private:p}}=this.params,y=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(T=>T.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[Rl.PRESENCE]&&this.bindings[Rl.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,j={},A={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:x}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(j.access_token=this.socket.accessTokenValue),this._onError(T=>n?.(Na.CHANNEL_ERROR,T)),this._onClose(()=>n?.(Na.CLOSED)),this.updateJoinPayload(Object.assign({config:A},j)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:T})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){n?.(Na.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,$=(k=E?.length)!==null&&k!==void 0?k:0,G=[];for(let Y=0;Y<$;Y++){const H=E[Y],{filter:{event:Z,schema:he,table:ee,filter:X}}=H,xe=T&&T[Y];if(xe&&xe.event===Z&&ks.isFilterValueEqual(xe.schema,he)&&ks.isFilterValueEqual(xe.table,ee)&&ks.isFilterValueEqual(xe.filter,X))G.push(Object.assign(Object.assign({},H),{id:xe.id}));else{this.unsubscribe(),this.state=rt.errored,n?.(Na.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,n&&n(Na.SUBSCRIBED);return}}).receive("error",T=>{this.state=rt.errored,n?.(Na.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{n?.(Na.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,l={}){return await this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,l,r){return this.state===rt.joined&&n===Rl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,l,r)}async httpSend(n,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const y=await g.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(n,l={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){const{event:d,payload:f}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,p;const y=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=rt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Bu(this,sa.leave,{},n),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(n,l,r){const c=new AbortController,d=setTimeout(()=>c.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(d),f}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Bu(this,n,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>dv){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var c,d;const f=n.toLocaleLowerCase(),{close:g,error:p,leave:y,join:x}=sa;if(r&&[g,p,y,x].indexOf(f)>=0&&r!==this._joinRef())return;let A=this._onMessage(f,l,r);if(l&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(T=>{var k,E,$;return((k=T.filter)===null||k===void 0?void 0:k.event)==="*"||(($=(E=T.filter)===null||E===void 0?void 0:E.event)===null||$===void 0?void 0:$.toLocaleLowerCase())===f}).map(T=>T.callback(A,r)):(d=this.bindings[f])===null||d===void 0||d.filter(T=>{var k,E,$,G,Y,H,Z,he;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const ee=T.id,X=(k=T.filter)===null||k===void 0?void 0:k.event;return ee&&((E=l.ids)===null||E===void 0?void 0:E.includes(ee))&&(X==="*"||X?.toLocaleLowerCase()===(($=l.data)===null||$===void 0?void 0:$.type.toLocaleLowerCase()))&&(!(!((G=T.filter)===null||G===void 0)&&G.table)||T.filter.table===((Y=l.data)===null||Y===void 0?void 0:Y.table))}else{const ee=(Z=(H=T?.filter)===null||H===void 0?void 0:H.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return ee==="*"||ee===((he=l?.event)===null||he===void 0?void 0:he.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof A=="object"&&"ids"in A){const k=A.data,{schema:E,table:$,commit_timestamp:G,type:Y,errors:H}=k;A=Object.assign(Object.assign({},{schema:E,table:$,commit_timestamp:G,eventType:Y,new:{},old:{},errors:H}),this._getPayloadRecords(k))}T.callback(A,r)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const c=n.toLocaleLowerCase(),d={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&ks.isEqual(c.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}static isFilterValueEqual(n,l){return(n??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(sa.close,{},n)}_onError(n){this._on(sa.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=E0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=E0(n.columns,n.old_record)),l}}const Lu=()=>{},lr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bv=[1e3,2e3,5e3,1e4],_v=1e4,xv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wv{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ju,this.transport=null,this.heartbeatIntervalMs=lr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lu,this.ref=0,this.reconnectTimer=null,this.vsn=j0,this.logger=Lu,this.conn=null,this.sendBuffer=[],this.serializer=new hv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${Zu.websocket}`,this.httpEndpoint=sm(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const l=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const n=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case an.connecting:return kn.Connecting;case an.open:return kn.Open;case an.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===r);if(c)return c;{const d=new ks(`realtime:${n}`,l,this);return this.channels.push(d),d}}push(n){const{topic:l,event:r,payload:c,ref:d}=n,f=()=>{this.encode(n,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${l} ${r} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(cv,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},lr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",y)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:d,ref:f}=l,g=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${r} ${c} ${g}`.trim(),d),this.channels.filter(y=>y._isMember(r)).forEach(y=>y._trigger(c,d,f)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===an.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===an.open||this.conn.readyState===an.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(sa.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${n}${r}${c}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([xv],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(n=null){let l,r=!1;if(n)l=n,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const d={access_token:l,version:ov};l&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(sa.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new am(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var l,r,c,d,f,g,p,y,x,j,A,T;switch(this.transport=(l=n?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:Ju,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:lr.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n?.heartbeatCallback)!==null&&g!==void 0?g:Lu,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:j0,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(k=>bv[k-1]||_v),this.vsn){case tm:this.encode=(x=n?.encode)!==null&&x!==void 0?x:((k,E)=>E(JSON.stringify(k))),this.decode=(j=n?.decode)!==null&&j!==void 0?j:((k,E)=>E(JSON.parse(k)));break;case uv:this.encode=(A=n?.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(T=n?.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Ul=class extends Error{constructor(i,n){super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Sv(i,n,l){const r=new URL(n,i);if(l)for(const[c,d]of Object.entries(l))d!==void 0&&r.searchParams.set(c,d);return r.toString()}async function jv(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Ev(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:d,headers:f}){const g=Sv(i.baseUrl,r,c),p=await jv(i.auth),y=await n(g,{method:l,headers:{...d?{"Content-Type":"application/json"}:{},...p,...f},body:d?JSON.stringify(d):void 0}),x=await y.text(),j=(y.headers.get("content-type")||"").includes("application/json"),A=j&&x?JSON.parse(x):x;if(!y.ok){const T=j?A:void 0,k=T?.error;throw new Ul(k?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:k?.type,icebergCode:k?.code,details:T})}return{status:y.status,headers:y.headers,data:A}}}}function ir(i){return i.join("")}var Tv=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:ir(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,n){const l={namespace:i.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ir(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ir(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ir(i.namespace)}`}),!0}catch(n){if(n instanceof Ul&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(l){if(l instanceof Ul&&l.status===409)return;throw l}}};function Ss(i){return i.join("")}var Av=class{constructor(i,n="",l){this.client=i,this.prefix=n,this.accessDelegation=l}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ss(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ss(i.namespace)}/tables`,body:n,headers:l})).data.metadata}async updateTable(i,n){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ss(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ss(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ss(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ss(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(l){if(l instanceof Ul&&l.status===404)return!1;throw l}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(l){if(l instanceof Ul&&l.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw l}}},Nv=class{constructor(i){let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const l=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Ev({baseUrl:l,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Tv(this.client,n),this.tableOps=new Av(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},pr=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Qe(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Ov=class extends pr{constructor(i,n,l){super(i),this.name="StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pu=class extends pr{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}};const rc=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Cv=()=>Response,Fu=i=>{if(Array.isArray(i))return i.map(l=>Fu(l));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=Fu(r)}),n},Rv=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},kv=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Dl(i){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dl(i)}function zv(i,n){if(Dl(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Uv(i){var n=zv(i,"string");return Dl(n)=="symbol"?n:n+""}function Dv(i,n,l){return(n=Uv(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function N0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),l.push.apply(l,r)}return l}function oe(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?N0(Object(l),!0).forEach(function(r){Dv(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):N0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const qu=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},Mv=async(i,n,l)=>{i instanceof await Cv()&&!l?.noResolveJson?i.json().then(r=>{const c=i.status||500,d=r?.statusCode||c+"";n(new Ov(qu(r),c,d))}).catch(r=>{n(new Pu(qu(r),r))}):n(new Pu(qu(i),i))},Bv=(i,n,l,r)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"||!r?c:(Rv(r)?(c.headers=oe({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(r)):c.body=r,n?.duplex&&(c.duplex=n.duplex),oe(oe({},c),l))};async function $l(i,n,l,r,c,d){return new Promise((f,g)=>{i(l,Bv(n,r,c,d)).then(p=>{if(!p.ok)throw p;return r?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>Mv(p,g,r))})}async function Ml(i,n,l,r){return $l(i,"GET",n,l,r)}async function na(i,n,l,r,c){return $l(i,"POST",n,r,c,l)}async function Wu(i,n,l,r,c){return $l(i,"PUT",n,r,c,l)}async function Lv(i,n,l,r){return $l(i,"HEAD",n,oe(oe({},l),{},{noResolveJson:!0}),r)}async function oc(i,n,l,r,c){return $l(i,"DELETE",n,r,c,l)}var qv=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}};let lm;lm=Symbol.toStringTag;var $v=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[lm]="BlobDownloadBuilder",this.promise=null}asStream(){return new qv(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}};const Hv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},O0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Gv=class{constructor(i,n={},l,r){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.bucketId=l,this.fetch=rc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,n,l,r){var c=this;try{let d;const f=oe(oe({},O0),r);let g=oe(oe({},c.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",c.encodeMetadata(p)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),p&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(p))):(d=l,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,p&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),r?.headers&&(g=oe(oe({},g),r.headers));const y=c._removeEmptyFolders(n),x=c._getFinalPath(y),j=await(i=="PUT"?Wu:na)(c.fetch,`${c.url}/object/${x}`,d,oe({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:j.Id,fullPath:j.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if(Qe(d))return{data:null,error:d};throw d}}async upload(i,n,l){return this.uploadOrUpdate("POST",i,n,l)}async uploadToSignedUrl(i,n,l,r){var c=this;const d=c._removeEmptyFolders(i),f=c._getFinalPath(d),g=new URL(c.url+`/object/upload/sign/${f}`);g.searchParams.set("token",n);try{let p;const y=oe({upsert:O0.upsert},r),x=oe(oe({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",y.cacheControl)):(p=l,x["cache-control"]=`max-age=${y.cacheControl}`,x["content-type"]=y.contentType),{data:{path:d,fullPath:(await Wu(c.fetch,g.toString(),p,{headers:x})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if(Qe(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(i,n){var l=this;try{let r=l._getFinalPath(i);const c=oe({},l.headers);n?.upsert&&(c["x-upsert"]="true");const d=await na(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),f=new URL(l.url+d.url),g=f.searchParams.get("token");if(!g)throw new pr("No token returned by API");return{data:{signedUrl:f.toString(),path:i,token:g},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async update(i,n,l){return this.uploadOrUpdate("PUT",i,n,l)}async move(i,n,l){var r=this;try{return{data:await na(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers}),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}async copy(i,n,l){var r=this;try{return{data:{path:(await na(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}async createSignedUrl(i,n,l){var r=this;try{let c=r._getFinalPath(i),d=await na(r.fetch,`${r.url}/object/sign/${c}`,oe({expiresIn:n},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${r.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}async createSignedUrls(i,n,l){var r=this;try{const c=await na(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:i},{headers:r.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(f=>oe(oe({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}download(i,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),c=r?`?${r}`:"",d=this._getFinalPath(i),f=()=>Ml(this.fetch,`${this.url}/${l}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new $v(f,this.shouldThrowOnError)}async info(i){var n=this;const l=n._getFinalPath(i);try{return{data:Fu(await Ml(n.fetch,`${n.url}/object/info/${l}`,{headers:n.headers})),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async exists(i){var n=this;const l=n._getFinalPath(i);try{return await Lv(n.fetch,`${n.url}/object/${l}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof Pu){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(i,n){const l=this._getFinalPath(i),r=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&r.push(c);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&r.push(f);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${l}${g}`)}}}async remove(i){var n=this;try{return{data:await oc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async list(i,n,l){var r=this;try{const c=oe(oe(oe({},Hv),n),{},{prefix:i||""});return{data:await na(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}async listV2(i,n){var l=this;try{const r=oe({},i);return{data:await na(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},n),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const im="2.90.1",rm={"X-Client-Info":`storage-js/${im}`};var Vv=class{constructor(i,n={},l,r){this.shouldThrowOnError=!1;const c=new URL(i);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=oe(oe({},rm),n),this.fetch=rc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var n=this;try{const l=n.listBucketOptionsToQueryString(i);return{data:await Ml(n.fetch,`${n.url}/bucket${l}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async getBucket(i){var n=this;try{return{data:await Ml(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async createBucket(i,n={public:!1}){var l=this;try{return{data:await na(l.fetch,`${l.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async updateBucket(i,n){var l=this;try{return{data:await Wu(l.fetch,`${l.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async emptyBucket(i){var n=this;try{return{data:await na(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async deleteBucket(i){var n=this;try{return{data:await oc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Kv=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=oe(oe({},rm),n),this.fetch=rc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await na(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async listBuckets(i){var n=this;try{const l=new URLSearchParams;i?.limit!==void 0&&l.set("limit",i.limit.toString()),i?.offset!==void 0&&l.set("offset",i.offset.toString()),i?.sortColumn&&l.set("sortColumn",i.sortColumn),i?.sortOrder&&l.set("sortOrder",i.sortOrder),i?.search&&l.set("search",i.search);const r=l.toString(),c=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return{data:await Ml(n.fetch,c,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async deleteBucket(i){var n=this;try{return{data:await oc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}from(i){var n=this;if(!kv(i))throw new pr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new Nv({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(c,g),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}};const uc={"X-Client-Info":`storage-js/${im}`,"Content-Type":"application/json"};var om=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function qt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var $u=class extends om{constructor(i,n,l){super(i),this.name="StorageVectorsApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yv=class extends om{constructor(i,n){super(i),this.name="StorageVectorsUnknownError",this.originalError=n}};const cc=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Xv=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},C0=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Qv=async(i,n,l)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!l?.noResolveJson){const r=i.status||500,c=i;if(typeof c.json=="function")c.json().then(d=>{const f=d?.statusCode||d?.code||r+"";n(new $u(C0(d),r,f))}).catch(()=>{const d=r+"";n(new $u(c.statusText||`HTTP ${r} error`,r,d))});else{const d=r+"";n(new $u(c.statusText||`HTTP ${r} error`,r,d))}}else n(new Yv(C0(i),i))},Jv=(i,n,l,r)=>{const c={method:i,headers:n?.headers||{}};return r?(Xv(r)?(c.headers=oe({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(r)):c.body=r,oe(oe({},c),l)):c};async function Zv(i,n,l,r,c,d){return new Promise((f,g)=>{i(l,Jv(n,r,c,d)).then(p=>{if(!p.ok)throw p;if(r?.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>Qv(p,g,r))})}async function $t(i,n,l,r,c){return Zv(i,"POST",n,r,c,l)}var Iv=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=oe(oe({},uc),n),this.fetch=cc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var n=this;try{return{data:await $t(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}async getIndex(i,n){var l=this;try{return{data:await $t(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}async listIndexes(i){var n=this;try{return{data:await $t(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}async deleteIndex(i,n){var l=this;try{return{data:await $t(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers})||{},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}},Pv=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=oe(oe({},uc),n),this.fetch=cc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var n=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await $t(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}async getVectors(i){var n=this;try{return{data:await $t(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}async listVectors(i){var n=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await $t(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}async queryVectors(i){var n=this;try{return{data:await $t(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}async deleteVectors(i){var n=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await $t(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}},Fv=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=oe(oe({},uc),n),this.fetch=cc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await $t(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}async getBucket(i){var n=this;try{return{data:await $t(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}async listBuckets(i={}){var n=this;try{return{data:await $t(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}async deleteBucket(i){var n=this;try{return{data:await $t(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}},Wv=class extends Fv{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new eb(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,l=this;return n().call(l,i)}async getBucket(i){var n=()=>super.getBucket,l=this;return n().call(l,i)}async listBuckets(i={}){var n=()=>super.listBuckets,l=this;return n().call(l,i)}async deleteBucket(i){var n=()=>super.deleteBucket,l=this;return n().call(l,i)}},eb=class extends Iv{constructor(i,n,l,r){super(i,n,r),this.vectorBucketName=l}async createIndex(i){var n=()=>super.createIndex,l=this;return n().call(l,oe(oe({},i),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,l=this;return n().call(l,oe(oe({},i),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,l=this;return n().call(l,l.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,l=this;return n().call(l,l.vectorBucketName,i)}index(i){return new tb(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},tb=class extends Pv{constructor(i,n,l,r,c){super(i,n,c),this.vectorBucketName=l,this.indexName=r}async putVectors(i){var n=()=>super.putVectors,l=this;return n().call(l,oe(oe({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(i){var n=()=>super.getVectors,l=this;return n().call(l,oe(oe({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,l=this;return n().call(l,oe(oe({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,l=this;return n().call(l,oe(oe({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,l=this;return n().call(l,oe(oe({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},ab=class extends Vv{constructor(i,n={},l,r){super(i,n,l,r)}from(i){return new Gv(this.url,this.headers,i,this.fetch)}get vectors(){return new Wv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kv(this.url+"/iceberg",this.headers,this.fetch)}};const um="2.90.1",Cs=30*1e3,ec=3,Hu=ec*Cs,nb="http://localhost:9999",sb="supabase.auth.token",lb={"X-Client-Info":`gotrue-js/${um}`},tc="X-Supabase-Api-Version",cm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ib=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rb=600*1e3;class Bl extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function ne(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class ob extends Bl{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function ub(i){return ne(i)&&i.name==="AuthApiError"}class zn extends Bl{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class Oa extends Bl{constructor(n,l,r,c){super(n,r,c),this.name=l,this.status=r}}class Lt extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cb(i){return ne(i)&&i.name==="AuthSessionMissingError"}class js extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rr extends Oa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class or extends Oa{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function db(i){return ne(i)&&i.name==="AuthImplicitGrantRedirectError"}class R0 extends Oa{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hb extends Oa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ac extends Oa{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function Gu(i){return ne(i)&&i.name==="AuthRetryableFetchError"}class k0 extends Oa{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class nc extends Oa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),z0=` 	
\r=`.split(""),fb=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<z0.length;n+=1)i[z0[n].charCodeAt(0)]=-2;for(let n=0;n<cr.length;n+=1)i[cr[n].charCodeAt(0)]=n;return i})();function U0(i,n,l){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(cr[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(cr[r]),n.queuedBits-=6}}function dm(i,n,l){const r=fb[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function D0(i){const n=[],l=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{gb(f,r,l)};for(let f=0;f<i.length;f+=1)dm(i.charCodeAt(f),c,d);return n.join("")}function mb(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function pb(i,n){for(let l=0;l<i.length;l+=1){let r=i.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(i.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}mb(r,n)}}function gb(i,n,l){if(n.utf8seq===0){if(i<=127){l(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function zs(i){const n=[],l={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<i.length;c+=1)dm(i.charCodeAt(c),l,r);return new Uint8Array(n)}function yb(i){const n=[];return pb(i,l=>n.push(l)),new Uint8Array(n)}function Un(i){const n=[],l={queue:0,queuedBits:0},r=c=>{n.push(c)};return i.forEach(c=>U0(c,l,r)),U0(null,l,r),n.join("")}function vb(i){return Math.round(Date.now()/1e3)+i}function bb(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",On={tested:!1,writable:!1},hm=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(On.tested)return On.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),On.tested=!0,On.writable=!0}catch{On.tested=!0,On.writable=!1}return On.writable};function _b(i){const n={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return l.searchParams.forEach((r,c)=>{n[c]=r}),n}const fm=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),xb=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Rs=async(i,n,l)=>{await i.setItem(n,JSON.stringify(l))},Cn=async(i,n)=>{const l=await i.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch{return l}},yt=async(i,n)=>{await i.removeItem(n)};class gr{constructor(){this.promise=new gr.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}gr.promiseConstructor=Promise;function Vu(i){const n=i.split(".");if(n.length!==3)throw new nc("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!ib.test(n[r]))throw new nc("JWT not in base64url format");return{header:JSON.parse(D0(n[0])),payload:JSON.parse(D0(n[1])),signature:zs(n[2]),raw:{header:n[0],payload:n[1]}}}async function wb(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function Sb(i,n){return new Promise((r,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await i(d);if(!n(d,null,f)){r(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function jb(i){return("0"+i.toString(16)).substr(-2)}function Eb(){const n=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let d=0;d<56;d++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,jb).join("")}async function Tb(i){const l=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Ab(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return i;const l=await Tb(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Es(i,n,l=!1){const r=Eb();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await Rs(i,`${n}-code-verifier`,c);const d=await Ab(r);return[d,r===d?"plain":"s256"]}const Nb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ob(i){const n=i.headers.get(tc);if(!n||!n.match(Nb))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Cb(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function Rb(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ts(i){if(!kb.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ku(){const i={};return new Proxy(i,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zb(i,n){return new Proxy(i,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!n.value&&typeof r=="string"&&(n.value=!0),Reflect.get(l,r,c)}})}function M0(i){return JSON.parse(JSON.stringify(i))}const Rn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Ub=[502,503,504];async function B0(i){var n;if(!xb(i))throw new ac(Rn(i),0);if(Ub.includes(i.status))throw new ac(Rn(i),i.status);let l;try{l=await i.json()}catch(d){throw new zn(Rn(d),d)}let r;const c=Ob(i);if(c&&c.getTime()>=cm["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new k0(Rn(l),i.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Lt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new k0(Rn(l),i.status,l.weak_password.reasons);throw new ob(Rn(l),i.status||500,r)}const Db=(i,n,l,r)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function re(i,n,l,r){var c;const d=Object.assign({},r?.headers);d[tc]||(d[tc]=cm["2024-01-01"].name),r?.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const f=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await Mb(i,n,l+g,{headers:d,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function Mb(i,n,l,r,c,d){const f=Db(n,r,c,d);let g;try{g=await i(l,Object.assign({},f))}catch(p){throw new ac(Rn(p),0)}if(g.ok||await B0(g),r?.noResolveJson)return g;try{return await g.json()}catch(p){await B0(p)}}function aa(i){var n;let l=null;qb(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=vb(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:l,user:r},error:null}}function L0(i){const n=aa(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function nn(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function Bb(i){return{data:i,error:null}}function Lb(i){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:c,verification_type:d}=i,f=mr(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:l,hashed_token:r,redirect_to:c,verification_type:d},p=Object.assign({},f);return{data:{properties:g,user:p},error:null}}function q0(i){return i}function qb(i){return i.access_token&&i.refresh_token&&i.expires_in}const Yu=["global","local","others"];class $b{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=fm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,l=Yu[0]){if(Yu.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yu.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,l={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:nn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:l}=n,r=mr(n,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Lb,redirectTo:l?.redirectTo})}catch(l){if(ne(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(n){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:nn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async listUsers(n){var l,r,c,d,f,g,p;try{const y={nextPage:null,lastPage:0,total:0},x=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:q0});if(x.error)throw x.error;const j=await x.json(),A=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(p=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(k=>{const E=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(k.split(";")[1].split("=")[1]);y[`${$}Page`]=E}),y.total=parseInt(A)),{data:Object.assign(Object.assign({},j),y),error:null}}catch(y){if(ne(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){Ts(n);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:nn})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async updateUserById(n,l){Ts(n);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:nn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,l=!1){Ts(n);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:nn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Ts(n.userId);try{const{data:l,error:r}=await re(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _deleteFactor(n){Ts(n.userId),Ts(n.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _listOAuthClients(n){var l,r,c,d,f,g,p;try{const y={nextPage:null,lastPage:0,total:0},x=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:q0});if(x.error)throw x.error;const j=await x.json(),A=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(p=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(k=>{const E=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(k.split(";")[1].split("=")[1]);y[`${$}Page`]=E}),y.total=parseInt(A)),{data:Object.assign(Object.assign({},j),y),error:null}}catch(y){if(ne(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _getOAuthClient(n){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _updateOAuthClient(n,l){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ne(l))return{data:null,error:l};throw l}}}function $0(i={}){return{getItem:n=>i[n]||null,setItem:(n,l)=>{i[n]=l},removeItem:n=>{delete i[n]}}}const As={debug:!!(globalThis&&hm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Hb extends mm{}async function Gb(i,n,l){As.debug;const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),As.debug},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){As.debug;try{return await l()}finally{As.debug}}else{if(n===0)throw As.debug,new Hb(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(As.debug)try{const d=await globalThis.navigator.locks.query()}catch{}return await l()}}))}function Vb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pm(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function Kb(i){return parseInt(i,16)}function Yb(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function Xb(i){var n;const{chainId:l,domain:r,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:g,requestId:p,resources:y,scheme:x,uri:j,version:A}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!j)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const T=pm(i.address),k=x?`${x}://${r}`:r,E=i.statement?`${i.statement}
`:"",$=`${k} wants you to sign in with your Ethereum account:
${T}

${E}`;let G=`URI: ${j}
Version: ${A}
Chain ID: ${l}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(G+=`
Expiration Time: ${c.toISOString()}`),g&&(G+=`
Not Before: ${g.toISOString()}`),p&&(G+=`
Request ID: ${p}`),y){let Y=`
Resources:`;for(const H of y){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);Y+=`
- ${H}`}G+=Y}return`${$}
${G}`}class st extends Error{constructor({message:n,code:l,cause:r,name:c}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=c??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=l}}class dr extends st{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function Qb({error:i,options:n}){var l,r,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new st({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(gm(f)){if(d.rp.id!==f)return new st({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function Jb({error:i,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new st({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(gm(r)){if(l.rpId!==r)return new st({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class Zb{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Ib=new Zb;function Pb(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:l,excludeCredentials:r}=i,c=mr(i,["challenge","user","excludeCredentials"]),d=zs(n).buffer,f=Object.assign(Object.assign({},l),{id:zs(l.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:d,user:f});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const y=r[p];g.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:zs(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function Fb(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:l}=i,r=mr(i,["challenge","allowCredentials"]),c=zs(n).buffer,d=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){d.allowCredentials=new Array(l.length);for(let f=0;f<l.length;f++){const g=l[f];d.allowCredentials[f]=Object.assign(Object.assign({},g),{id:zs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function Wb(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:Un(new Uint8Array(i.response.attestationObject)),clientDataJSON:Un(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function e_(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,r=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Un(new Uint8Array(c.authenticatorData)),clientDataJSON:Un(new Uint8Array(c.clientDataJSON)),signature:Un(new Uint8Array(c.signature)),userHandle:c.userHandle?Un(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function gm(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function H0(){var i,n;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function t_(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new dr("Browser returned unexpected credential type",n)}:{data:null,error:new dr("Empty credential response",n)}}catch(n){return{data:null,error:Qb({error:n,options:i})}}}async function a_(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new dr("Browser returned unexpected credential type",n)}:{data:null,error:new dr("Empty credential response",n)}}catch(n){return{data:null,error:Jb({error:n,options:i})}}}const n_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},s_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hr(...i){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of i)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))r[d]=f;else if(l(f))r[d]=f;else if(n(f)){const g=r[d];n(g)?r[d]=hr(g,f):r[d]=hr(f)}else r[d]=f}return r}function l_(i,n){return hr(n_,i,n||{})}function i_(i,n){return hr(s_,i,n||{})}class r_{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:l,friendlyName:r,signal:c},d){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:l});if(!f)return{data:null,error:g};const p=c??Ib.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${r}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=l_(f.webauthn.credential_options.publicKey,d?.create),{data:x,error:j}=await t_({publicKey:y,signal:p});return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:j}}case"request":{const y=i_(f.webauthn.credential_options.publicKey,d?.request),{data:x,error:j}=await a_(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:p}));return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:j}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new zn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!l)return{data:null,error:new Bl("rpId is required for WebAuthn authentication")};try{if(!H0())return{data:null,error:new zn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:d});if(!f)return{data:null,error:g};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:l,rpOrigins:r,credential_response:p.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new zn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!l)return{data:null,error:new Bl("rpId is required for WebAuthn registration")};try{if(!H0())return{data:null,error:new zn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(x=>{var j;return(j=x.data)===null||j===void 0?void 0:j.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===n&&A.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:g};const{data:p,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:d});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:l,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new zn("Unexpected error in register",f)}}}}Vb();const o_={url:nb,storageKey:sb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function G0(i,n,l){return await l()}const Ns={};class Ll{get jwks(){var n,l;return(l=(n=Ns[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=Ns[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},o_),n);if(this.storageKey=d.storageKey,this.instanceID=(l=Ll.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Ll.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&vt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;this.logDebugMessages}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new $b({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=fm(d.fetch),this.lock=d.lock||G0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&vt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Gb:this.lock=G0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new r_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:hm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=$0(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch{}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${um}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let l={},r="none";if(vt()&&(l=_b(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),vt()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:d}=await this._getSessionFromURL(l,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),db(d)){const p=(n=d.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return ne(l)?this._returnResult({error:l}):this._returnResult({error:new zn("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var l,r,c;try{const d=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:aa}),{data:f,error:g}=d;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var l,r,c;try{let d;if("email"in n){const{email:x,password:j,options:A}=n;let T=null,k=null;this.flowType==="pkce"&&([T,k]=await Es(this.storage,this.storageKey)),d=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:{email:x,password:j,data:(l=A?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:T,code_challenge_method:k},xform:aa})}else if("phone"in n){const{phone:x,password:j,options:A}=n;d=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:j,data:(r=A?.data)!==null&&r!==void 0?r:{},channel:(c=A?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:aa})}else throw new rr("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let l;if("email"in n){const{email:d,password:f,options:g}=n;l=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:L0})}else if("phone"in n){const{phone:d,password:f,options:g}=n;l=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:L0})}else throw new rr("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const d=new js;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(ne(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(n){var l,r,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:l}=n;switch(l){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(n){var l,r,c,d,f,g,p,y,x,j,A;let T,k;if("message"in n)T=n.message,k=n.signature;else{const{chain:E,wallet:$,statement:G,options:Y}=n;let H;if(vt())if(typeof $=="object")H=$;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")H=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!Y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=$}const Z=new URL((l=Y?.url)!==null&&l!==void 0?l:window.location.href),he=await H.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!he||he.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=pm(he[0]);let X=(r=Y?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!X){const we=await H.request({method:"eth_chainId"});X=Kb(we)}const xe={domain:Z.host,address:ee,statement:G,uri:Z.href,version:"1",chainId:X,nonce:(c=Y?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=Y?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=Y?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=Y?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=Y?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(x=Y?.signInWithEthereum)===null||x===void 0?void 0:x.resources};T=Xb(xe),k=await H.request({method:"personal_sign",params:[Yb(T),ee]})}try{const{data:E,error:$}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:k},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(A=n.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:aa});if($)throw $;if(!E||!E.session||!E.user){const G=new js;return this._returnResult({data:{user:null,session:null},error:G})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:$})}catch(E){if(ne(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(n){var l,r,c,d,f,g,p,y,x,j,A,T;let k,E;if("message"in n)k=n.message,E=n.signature;else{const{chain:$,wallet:G,statement:Y,options:H}=n;let Z;if(vt())if(typeof G=="object")Z=G;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))Z=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=G}const he=new URL((l=H?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in Z&&Z.signIn){const ee=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:he.host,uri:he.href}),Y?{statement:Y}:null));let X;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")X=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)X=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)k=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),E=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${he.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${he.href}`,`Issued At: ${(c=(r=H?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=H?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((g=H?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((p=H?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((y=H?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((j=(x=H?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||j===void 0)&&j.length?["Resources",...H.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const ee=await Z.signMessage(new TextEncoder().encode(k),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=ee}}try{const{data:$,error:G}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Un(E)},!((A=n.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:aa});if(G)throw G;if(!$||!$.session||!$.user){const Y=new js;return this._returnResult({data:{user:null,session:null},error:Y})}return $.session&&(await this._saveSession($.session),await this._notifyAllSubscribers("SIGNED_IN",$.session)),this._returnResult({data:Object.assign({},$),error:G})}catch($){if(ne($))return this._returnResult({data:{user:null,session:null},error:$});throw $}}async _exchangeCodeForSession(n){const l=await Cn(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new hb;const{data:d,error:f}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:aa});if(await yt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const g=new js;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:l,provider:r,token:c,access_token:d,nonce:f}=n,g=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:aa}),{data:p,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const x=new js;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(l){if(ne(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(n){var l,r,c,d,f;try{if("email"in n){const{email:g,options:p}=n;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Es(this.storage,this.storageKey));const{error:j}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:j})}if("phone"in n){const{phone:g,options:p}=n,{data:y,error:x}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:x})}throw new rr("You must provide either an email or phone number.")}catch(g){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var l,r;try{let c,d;"options"in n&&(c=(l=n.options)===null||l===void 0?void 0:l.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:g}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:aa});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,y=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var l,r,c,d,f;try{let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Es(this.storage,this.storageKey));const y=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:p}),headers:this.headers,xform:Bb});return!((d=y.data)===null||d===void 0)&&d.url&&vt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new Lt;const{error:c}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:d}=n,{error:f}=await re(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:c,options:d}=n,{data:f,error:g}=await re(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new rr("You must provide either an email or phone number and a type")}catch(l){if(ne(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(n,l){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await n(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=await Cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Hu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await Cn(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Ku()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=zb(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(n){try{return n?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:nn}):await this._useSession(async l=>{var r,c,d;const{data:f,error:g}=l;if(g)throw g;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:nn})})}catch(l){if(ne(l))return cb(l)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(n,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,l))}async _updateUser(n,l={}){try{return await this._useSession(async r=>{const{data:c,error:d}=r;if(d)throw d;if(!c.session)throw new Lt;const f=c.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=await Es(this.storage,this.storageKey));const{data:y,error:x}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:f.access_token,xform:nn});if(x)throw x;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Lt;const l=Date.now()/1e3;let r=l,c=!0,d=null;const{payload:f}=Vu(n.access_token);if(f.exp&&(r=f.exp,c=r<=l),c){const{data:g,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:p}=await this._getUser(n.access_token);if(p)throw p;d={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(l){if(ne(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async l=>{var r;if(!n){const{data:f,error:g}=l;if(g)throw g;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new Lt;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(ne(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(n,l){try{if(!vt())throw new or("No browser detected.");if(n.error||n.error_description||n.error_code)throw new or(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new R0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new or("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new R0("No code detected.");const{data:Y,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:g,expires_at:p,token_type:y}=n;if(!d||!g||!f||!y)throw new or("No session defined in URL");const x=Math.round(Date.now()/1e3),j=parseInt(g);let A=x+j;p&&(A=parseInt(p)),(A-x)*1e3<=Cs;const k=A-j;x-k>=120||x-k<0;const{data:E,error:$}=await this._getUser(d);if($)throw $;const G={provider_token:r,provider_refresh_token:c,access_token:d,expires_in:j,expires_at:A,refresh_token:f,token_type:y,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:G,redirectType:n.type},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const l=await Cn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d)return this._returnResult({error:d});const f=(r=c.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(ub(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const l=bb(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async l=>{var r,c;try{const{data:{session:d},error:f}=l;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d)}})}async resetPasswordForEmail(n,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await Es(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var l;try{const{data:r,error:c}=await this._useSession(async d=>{var f,g,p,y,x;const{data:j,error:A}=d;if(A)throw A;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",T,{headers:this.headers,jwt:(x=(y=j.session)===null||y===void 0?void 0:y.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return vt()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(ne(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:d}}=l;if(c)throw c;const{options:f,provider:g,token:p,access_token:y,nonce:x}=n,j=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:p,access_token:y,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:aa}),{data:A,error:T}=j;return T?this._returnResult({data:{user:null,session:null},error:T}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new js}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:T}))}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async l=>{var r,c;const{data:d,error:f}=l;if(f)throw f;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(n){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await Sb(async c=>(c>0&&await wb(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:aa})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Gu(d)&&Date.now()+f-r<Cs})}catch(r){if(this._debug(l,"error",r),ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),vt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await Cn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Rs(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f?.user)!==null&&n!==void 0?n:Ku()}else if(c&&!c.user&&!c.user){const f=await Cn(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await yt(this.storage,this.storageKey+"-user"),await Rs(this.storage,this.storageKey,c)):c.user=Ku()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const d=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Hu;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${Hu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(Gu(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(c.access_token);!g&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var l,r;if(!n)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new gr;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Lt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),ne(d)){const f={data:null,error:d};return Gu(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,l,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,l)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await Rs(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const d=M0(c);await Rs(this.storage,this.storageKey,d)}else{const c=M0(l);await Rs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&vt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch{}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Cs}ms, refresh threshold is ${ec} ticks`),c<=ec&&await this._callRefreshToken(r.refresh_token)})}catch{}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof mm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch{}}async _onVisibilityChanged(n){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,f]=await Es(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(g.toString())}if(r?.queryParams){const d=new URLSearchParams(r.queryParams);c.push(d.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;return d?this._returnResult({data:null,error:d}):await re(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(n){try{return await this._useSession(async l=>{var r,c;const{data:d,error:f}=l;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:y}=await re(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Wb(n.webauthn.credential_response):e_(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:p}=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:p}))})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d)return this._returnResult({data:null,error:d});const f=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Pb(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Fb(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(n){const{data:l,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})}async _listFactors(){var n;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=l?.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,l;const{data:{session:r},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Vu(r.access_token);let f=null;d.aal&&(f=d.aal);let g=f;((l=(n=r.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Lt});const f=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&vt()&&!l?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new Lt});const f=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&vt()&&!l?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Lt})})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(n,l={keys:[]}){let r=l.keys.find(g=>g.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===n),r&&this.jwks_cached_at+rb>c)return r;const{data:d,error:f}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,r=d.keys.find(g=>g.kid===n),!r)?null:r}async getClaims(n,l={}){try{let r=n;if(!r){const{data:T,error:k}=await this.getSession();if(k||!T.session)return this._returnResult({data:null,error:k});r=T.session.access_token}const{header:c,payload:d,signature:f,raw:{header:g,payload:p}}=Vu(r);l?.allowExpired||Cb(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!y){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:d,header:c,signature:f},error:null}}const x=Rb(c.alg),j=await crypto.subtle.importKey("jwk",y,x,!0,["verify"]);if(!await crypto.subtle.verify(x,j,f,yb(`${g}.${p}`)))throw new nc("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}}Ll.nextInstanceID={};const u_=Ll,c_="2.90.1";let Ol="";typeof Deno<"u"?Ol="deno":typeof document<"u"?Ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ol="react-native":Ol="node";const d_={"X-Client-Info":`supabase-js-${Ol}/${c_}`},h_={headers:d_},f_={schema:"public"},m_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p_={};function ql(i){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ql(i)}function g_(i,n){if(ql(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function y_(i){var n=g_(i,"string");return ql(n)=="symbol"?n:n+""}function v_(i,n,l){return(n=y_(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function V0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),l.push.apply(l,r)}return l}function Ie(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?V0(Object(l),!0).forEach(function(r){v_(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):V0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const b_=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),__=()=>Headers,x_=(i,n,l)=>{const r=b_(l),c=__();return async(d,f)=>{var g;const p=(g=await n())!==null&&g!==void 0?g:i;let y=new c(f?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),r(d,Ie(Ie({},f),{},{headers:y}))}};function w_(i){return i.endsWith("/")?i:i+"/"}function S_(i,n){var l,r;const{db:c,auth:d,realtime:f,global:g}=i,{db:p,auth:y,realtime:x,global:j}=n,A={db:Ie(Ie({},p),c),auth:Ie(Ie({},y),d),realtime:Ie(Ie({},x),f),storage:{},global:Ie(Ie(Ie({},j),g),{},{headers:Ie(Ie({},(l=j?.headers)!==null&&l!==void 0?l:{}),(r=g?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return i.accessToken?A.accessToken=i.accessToken:delete A.accessToken,A}function j_(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(w_(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var E_=class extends u_{constructor(i){super(i)}},T_=class{constructor(i,n,l){var r,c;this.supabaseUrl=i,this.supabaseKey=n;const d=j_(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:f_,realtime:p_,auth:Ie(Ie({},m_),{},{storageKey:f}),global:h_},p=S_(l??{},g);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=x_(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>{}),this.rest=new lv(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new ab(this.storageUrl.href,this.headers,this.fetch,l?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new ev(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,l)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,l;if(i.accessToken)return await i.accessToken();const{data:r}=await i.auth.getSession();return(n=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:d,flowType:f,lock:g,debug:p,throwOnError:y},x,j){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new E_({url:this.authUrl.href,headers:Ie(Ie({},A),x),storageKey:d,autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:c,flowType:f,lock:g,debug:p,throwOnError:y,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new wv(this.realtimeUrl.href,Ie(Ie({},i),{},{params:Ie(Ie({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n?.access_token)})}_handleTokenChanged(i,n,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const A_=(i,n,l)=>new T_(i,n,l);function N_(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const n=i.version;if(n==null)return!1;const l=n.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}N_();const O_="https://mlghdhrizyuqtkixedtx.supabase.co",C_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1sZ2hkaHJpenl1cXRraXhlZHR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyNDAwNDEsImV4cCI6MjA4MzgxNjA0MX0.4CPmOgE5cEnqX8XGRV52dVyTOpc_J3Zb4F2xmB1b-O0",nt=A_(O_,C_);function Hl(){const[i,n]=I.useState([]),[l,r]=I.useState([]),[c,d]=I.useState([]),[f,g]=I.useState([]),[p,y]=I.useState([]),[x,j]=I.useState(!0),[A,T]=I.useState(null),[k,E]=I.useState([]),[$,G]=I.useState([]),[Y,H]=I.useState([]),Z=async()=>{j(!0);try{const{data:ue}=await nt.from("items").select("*").order("name"),{data:ce}=await nt.from("lists").select("*").order("name"),{data:P}=await nt.from("products").select("*"),{data:C}=await nt.from("categories").select("*").order("sort_order"),{data:U}=await nt.from("supplies").select("*").order("name");U&&E(U);const{data:K}=await nt.from("recipes").select("*").order("name");K&&G(K);const{data:le}=await nt.from("sales_channels").select("*").order("id");le&&H(le);const{data:{session:me}}=await nt.auth.getSession();if(me){const{data:_}=await nt.from("customers").select("*").order("last_order_date",{ascending:!1});_&&y(_)}ue&&n(ue),ce&&r(ce),P&&d(P),C&&g(C)}catch{}finally{j(!1)}};I.useEffect(()=>{nt.auth.getSession().then(({data:{session:ce}})=>{T(ce?.user??null),Z()});const{data:{subscription:ue}}=nt.auth.onAuthStateChange((ce,P)=>{T(P?.user??null),P&&Z()});return()=>ue.unsubscribe()},[]);const he=async(ue,ce)=>{const{error:P}=await nt.auth.signInWithPassword({email:ue,password:ce});if(P)throw P},ee=async()=>{await nt.auth.signOut()},X=async ue=>new Promise(ce=>{const P=new FileReader;P.readAsDataURL(ue),P.onload=C=>{const U=new Image;U.src=C.target.result,U.onload=()=>{const K=document.createElement("canvas"),le=500,me=le/U.width;K.width=le,K.height=U.height*me,K.getContext("2d").drawImage(U,0,0,K.width,K.height),K.toBlob(M=>ce(M),"image/jpeg",.7)}}});return{items:i,lists:l,products:c,categories:f,customers:p,supplies:k,recipes:$,channels:Y,user:A,loading:x,saveData:async(ue,ce)=>{if(ce.id){const{error:P}=await nt.from(ue).update(ce).eq("id",ce.id);if(P)return alert("Erro ao atualizar item."),!1}else{const P={...ce};delete P.id;const{error:C}=await nt.from(ue).insert(P);if(C)return alert("Erro ao criar novo item."),!1}return await Z(),!0},deleteData:async(ue,ce)=>{const{error:P}=await nt.from(ue).delete().eq("id",ce);P||await Z()},uploadImage:async ue=>{try{const ce=await X(ue),P=`${Date.now()}.jpg`,{error:C}=await nt.storage.from("menu-images").upload(P,ce);if(C)throw C;const{data:U}=nt.storage.from("menu-images").getPublicUrl(P);return U.publicUrl}catch(ce){return alert("Erro upload: "+ce.message),null}},saveCustomer:async ue=>{const ce=ue.phone.replace(/\D/g,""),P={name:ue.name,phone:ce,address_cep:ue.address_cep,address_number:ue.address_number,address_full:ue.address_full,last_order_date:new Date},{data:C,error:U}=await nt.from("customers").upsert(P,{onConflict:"phone"}).select()},findCustomerByPhone:async ue=>{const ce=ue.replace(/\D/g,""),{data:P,error:C}=await nt.rpc("get_customer_by_phone",{phone_input:ce});return C?null:P&&P.length>0?P[0]:null},login:he,logout:ee,refreshData:Z}}const R_="/cardapio-online-acai/assets/ifood-D23NOtek.png",k_="/cardapio-online-acai/assets/keeta-B3zEta7Z.png",z_="/cardapio-online-acai/assets/99-BtGdTYvm.png",K0={lat:-23.49102257465869,lon:-46.49390912179673,address:"Vila Cisper, So Paulo"},U_=3,D_=["guarulhos"],M_="03828";function B_({onGoToAdmin:i}){const{items:n,lists:l,products:r,categories:c,saveCustomer:d,findCustomerByPhone:f,loading:g}=Hl(),[p,y]=I.useState([]),[x,j]=I.useState(!1),[A,T]=I.useState(!1),[k,E]=I.useState(!1),[$,G]=I.useState(null),[Y,H]=I.useState([]),[Z,he]=I.useState(""),[ee,X]=I.useState(""),[xe,we]=I.useState(!1),[bt,He]=I.useState(""),[Ge,ue]=I.useState(""),[ce,P]=I.useState(null),[C,U]=I.useState(!1),[K,le]=I.useState(0),[me,_]=I.useState(!1),[M,J]=I.useState(""),[W,de]=I.useState(""),[pe,Ne]=I.useState(!0),lt=q=>{let Q=q.target.value.replace(/\D/g,"");Q=(Number(Q)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),de(Q)},Ve=q=>{let Q=q.target.value.replace(/\D/g,"");Q.length>11&&(Q=Q.slice(0,11)),Q=Q.replace(/^(\d{2})(\d)/g,"($1) $2"),Q=Q.replace(/(\d)(\d{4})$/,"$1-$2"),X(Q)},ua=q=>{q.available&&y([...p,{id:Date.now(),name:q.name,price:q.price,details:""}])},Ca=q=>{q.available&&y([...p,{id:Date.now(),name:q.name,price:q.price,details:"Adicional Avulso"}])},sn=q=>{const Q=p.filter(ge=>ge.id!==q);y(Q),Q.length||(T(!1),E(!1))},Bn=q=>{q.available&&(G(q),H([]),j(!0))},Ft=(q,Q)=>{const ge=Y.find(F=>F.listId===q&&F.item.id===Q.id);H(ge?Y.filter(F=>F!==ge):[...Y,{listId:q,item:Q}])},ln=()=>{let q=$.price,Q=[];$.list_ids&&$.list_ids.forEach(ge=>{const F=l.find(Te=>Te.id===ge);if(!F)return;const Oe=Y.filter(Te=>Te.listId===ge).map(Te=>Te.item);let Ce=0;Oe.forEach(Te=>{let ot=Te.price,St=Te.name;Te.free?Ce<F.max_free?(ot=0,Ce++):St+=` (+R$${Te.price.toFixed(2)})`:St+=` (+R$${Te.price.toFixed(2)})`,q+=ot,Q.push(St)})}),y([...p,{id:Date.now(),name:$.name,price:q,details:Q.join(", ")}]),j(!1)},Ra=async()=>{const q=ee.replace(/\D/g,"");if(q.length>=10){we(!0);const Q=await f(q);if(we(!1),Q&&(Q.name&&he(Q.name),Q.address_number&&ue(Q.address_number),Q.address_cep)){const ge=Q.address_cep.replace(/^(\d{5})(\d)/,"$1-$2");He(ge),rn({target:{value:Q.address_cep}})}}},Us=(q,Q,ge,F)=>{const Ce=(ge-q)*Math.PI/180,Te=(F-Q)*Math.PI/180,ot=Math.sin(Ce/2)*Math.sin(Ce/2)+Math.cos(q*Math.PI/180)*Math.cos(ge*Math.PI/180)*Math.sin(Te/2)*Math.sin(Te/2);return 6371*2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot))*1.35},rn=async q=>{const Q=q.target.value.replace(/\D/g,"");let ge=Q;if(Q.length>5&&(ge=Q.replace(/^(\d{5})(\d)/,"$1-$2")),He(ge),_(!1),P(null),le(0),Q.length===8){U(!0);try{const F=await fetch(`https://cep.awesomeapi.com.br/json/${Q}`);if(F.status!==200)throw new Error("CEP Invlido");const Oe=await F.json();if(D_.includes(Oe.city.toLowerCase())||Q.startsWith(M_)){P({logradouro:Oe.address,bairro:Oe.district,localidade:Oe.city}),_(!0),U(!1);return}const Ce=parseFloat(Oe.lat),Te=parseFloat(Oe.lng),ot=Us(K0.lat,K0.lon,Ce,Te);P({logradouro:Oe.address,bairro:Oe.district,localidade:Oe.city}),ot>U_?_(!0):ot<=1?le(3.99):ot<=2?le(4.99):le(5.99)}catch{}finally{U(!1)}}},on=q=>{q.preventDefault(),alert(`TERMOS DE USO E PRIVACIDADE:

1. Coletamos Nome, Telefone e Endereo para entrega.
2. Seus dados facilitam pedidos futuros.
3. Podemos enviar promoes via WhatsApp.
4. Seus dados no so vendidos.
5. Voc pode pedir excluso a qualquer momento.`)},un=async()=>{if(!Z||!ee||!Ge||!ce||!M||me)return alert("Preencha todos os campos!");pe&&await d({name:Z,phone:ee,address_cep:bt.replace(/\D/g,""),address_number:Ge,address_full:`${ce.logradouro}, ${ce.bairro}`});let q=`*NOVO PEDIDO - AA DO LUCCA*
`;q+=`Cliente: ${Z}
`,q+=`Tel: ${ee}
`,q+=`End: ${ce.logradouro}, ${Ge} - ${ce.bairro}

`;let Q=0;p.forEach((F,Oe)=>{q+=`${Oe+1}. *${F.name}*
${F.details?`Obs: ${F.details}
`:""}R$ ${F.price.toFixed(2)}

`,Q+=F.price});const ge=Q+K;q+=`----------------
Subtotal: R$ ${Q.toFixed(2)}
Entrega: R$ ${K.toFixed(2)}
*TOTAL: R$ ${ge.toFixed(2)}*
Pagamento: ${M}
${W?`Troco para: ${W}`:""}`,window.open(`https://wa.me/5511988170539?text=${encodeURIComponent(q)}`,"_blank"),E(!1),T(!1),y([]),he(""),X(""),He(""),ue(""),J(""),de("")};if(g)return h.jsx("div",{className:"flex items-center justify-center h-screen",children:h.jsx(kl,{className:"animate-spin text-purple-600",size:40})});const V=p.reduce((q,Q)=>q+Q.price,0);return h.jsxs("div",{className:"bg-gray-50 text-gray-800 min-h-screen pb-32 font-sans",children:[h.jsxs("header",{className:"bg-gradient-to-br from-violet-900 to-violet-600 text-white py-14 px-4 text-center rounded-b-[3.5rem] shadow-xl",children:[h.jsx("h1",{className:"text-4xl font-extrabold uppercase mb-1 tracking-tighter",children:"Aa do Lucca"}),h.jsx("p",{className:"text-purple-100 opacity-90 font-medium",children:"O melhor aa da Vila Cisper"})]}),h.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-8 space-y-12",children:[c.map(q=>{const Q=r.filter(F=>F.category===q.name);if(!Q.length)return null;const ge=q.name.toLowerCase().includes("favoritos");return h.jsxs("section",{children:[h.jsxs("div",{className:"flex items-center mb-6 text-purple-900",children:[ge?h.jsx($y,{className:"w-5 h-5 mr-2 fill-yellow-400 text-yellow-400"}):h.jsx(dy,{className:"w-5 h-5 mr-2 text-purple-600"}),h.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:q.name})]}),h.jsx("div",{className:ge?"grid md:grid-cols-2 gap-4":"space-y-3 md:space-y-0 md:grid md:grid-cols-2 md:gap-4",children:Q.map(F=>h.jsxs("div",{onClick:()=>F.available?F.list_ids?.length?Bn(F):ua(F):null,className:`bg-white p-4 rounded-[2rem] shadow-sm border border-gray-100 cursor-pointer transition-all active:scale-95 flex gap-4 ${F.available?"":"opacity-60 grayscale"}`,children:[h.jsxs("div",{className:"relative w-20 h-20 shrink-0",children:[h.jsx("img",{src:F.image||"https://placehold.co/400?text=Sem+Foto",className:"w-full h-full rounded-2xl object-cover bg-gray-100"}),!F.available&&h.jsx("span",{className:"absolute inset-0 flex items-center justify-center bg-black/10 rounded-2xl text-[10px] font-bold text-white",children:"ESGOTADO"})]}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[h.jsx("h3",{className:"font-bold text-gray-800 leading-tight",children:F.name}),F.description&&h.jsx("p",{className:"text-[10px] text-gray-400 leading-tight mt-1 line-clamp-2",children:F.description}),h.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[h.jsxs("p",{className:"text-purple-700 font-bold",children:["R$ ",F.price.toFixed(2)]}),h.jsx("button",{disabled:!F.available,className:`px-3 py-1.5 rounded-xl text-[10px] font-bold ${F.available?"bg-purple-600 text-white shadow-md":"bg-gray-100 text-gray-400"}`,children:F.list_ids?.length?"Montar":"Adicionar"})]})]})]},F.id))})]},q.id)}),h.jsxs("section",{className:"pb-10",children:[h.jsx("h2",{className:"text-center text-gray-400 text-xs italic mb-4",children:"Adicionais Avulsos"}),h.jsx("div",{className:"bg-white rounded-[2rem] card-shadow overflow-hidden border border-gray-100 divide-y divide-gray-50",children:n.map(q=>h.jsxs("div",{className:`p-4 flex justify-between items-center ${q.available?"":"opacity-50 grayscale"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 text-left",children:[h.jsx("img",{src:q.image||"https://placehold.co/100?text=Item",className:"w-12 h-12 rounded-xl object-cover border border-gray-100"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-bold text-sm text-gray-700",children:q.name}),h.jsx("p",{className:"text-[10px] text-gray-400",children:q.available?`R$ ${q.price.toFixed(2)}`:"Indisponvel"})]})]}),h.jsx("button",{disabled:!q.available,onClick:()=>Ca(q),className:"w-9 h-9 rounded-xl bg-green-50 text-green-600 flex items-center justify-center disabled:bg-gray-100 disabled:text-gray-400",children:h.jsx(fr,{size:16})})]},q.id))})]})]}),h.jsxs("div",{className:"text-gray-700 text-[10px] flex items-center justify-center gap-1 w-full",children:[h.jsx(fy,{className:"text-purple-600",size:20})," Aa do Lucca   - Todos os Direitos Reservados - 2026"]}),h.jsx("footer",{className:"text-center py-6 mb-20",children:h.jsxs("button",{onClick:i,className:"text-gray-300 text-[10px] flex items-center justify-center gap-1 w-full",children:[h.jsx(P0,{size:10})," rea do Gerente"]})}),p.length>0&&!A&&!k&&!x&&h.jsxs("div",{onClick:()=>T(!0),className:"fixed bottom-6 left-4 right-4 bg-purple-900 text-white p-4 rounded-3xl shadow-2xl flex items-center justify-between z-50 cursor-pointer animate-in slide-in-from-bottom-4 duration-300",children:[h.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-1 mr-2",children:[h.jsx("div",{className:"bg-white/20 p-2.5 rounded-full shrink-0",children:h.jsx(Ly,{size:20,className:"text-white"})}),h.jsxs("div",{className:"flex flex-col overflow-hidden justify-center",children:[h.jsx("p",{className:"text-[10px] text-purple-200 truncate font-medium max-w-[150px] sm:max-w-xs leading-tight",children:p.map(q=>q.name).join(", ")}),h.jsxs("p",{className:"font-bold text-lg leading-none mt-0.5",children:["R$ ",V.toFixed(2)]})]})]}),h.jsxs("div",{className:"bg-white text-purple-900 px-3 py-2 rounded-xl text-xs font-bold shrink-0 shadow-lg shadow-purple-900/50 flex items-center gap-1",children:["Ver Carrinho",h.jsx("span",{className:"bg-purple-600 text-white px-1.5 py-0.5 rounded-md text-[10px] ml-1",children:p.length})]})]}),x&&$&&h.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",onClick:()=>j(!1),children:h.jsxs("div",{className:"bg-white w-full sm:max-w-md max-h-[90vh] overflow-y-auto rounded-t-[2.5rem] sm:rounded-[2rem] p-6 relative",onClick:q=>q.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-gray-100 pb-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-black uppercase text-gray-900",children:$.name}),h.jsxs("p",{className:"text-purple-600 font-bold",children:["Base: R$ ",$.price.toFixed(2)]})]}),h.jsx("button",{onClick:()=>j(!1),className:"bg-gray-100 p-2 rounded-full text-gray-500",children:h.jsx(Dn,{size:20})})]}),h.jsx("div",{className:"space-y-8 mb-24",children:$.list_ids?.map(q=>{const Q=l.find(Ce=>Ce.id===q);if(!Q)return null;const ge=n.filter(Ce=>Q.item_ids?.includes(Ce.id)&&Ce.available),F=Y.filter(Ce=>Ce.listId===q),Oe=F.filter(Ce=>Ce.item.free).length;return h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsx("h4",{className:"font-bold uppercase text-sm text-gray-700",children:Q.name}),Q.max_free>0&&h.jsxs("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-1 rounded-md font-bold",children:["At ",Q.max_free," Grtis"]})]}),h.jsx("div",{className:"space-y-2",children:ge.map(Ce=>{const Te=F.some(Ln=>Ln.item.id===Ce.id);let ot=`+ R$ ${Ce.price.toFixed(2)}`,St="text-purple-600 font-bold";return Ce.free&&(Te?(ot="Selecionado",St="text-green-700 font-bold"):Oe<Q.max_free&&(ot="Grtis",St="text-green-600")),h.jsxs("label",{className:`flex items-center p-3 rounded-2xl border cursor-pointer transition-all ${Te?"border-purple-600 bg-purple-50 ring-1 ring-purple-600":"border-gray-100 hover:bg-gray-50"}`,children:[h.jsx("input",{type:"checkbox",checked:Te,onChange:()=>Ft(Q.id,Ce),className:"hidden"}),h.jsx("img",{src:Ce.image||"https://placehold.co/100?text=Item",className:"w-10 h-10 rounded-lg mr-3 object-cover bg-gray-200"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-bold text-sm text-gray-800",children:Ce.name}),h.jsx("p",{className:`text-[10px] uppercase tracking-widest ${St}`,children:ot})]}),Te&&h.jsx("div",{className:"bg-purple-600 text-white rounded-full p-1",children:h.jsx(Xu,{size:12})})]},Ce.id)})})]},Q.id)})}),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-100 z-20 sm:rounded-b-[2rem]",children:h.jsx("button",{onClick:ln,className:"w-full bg-purple-600 text-white py-4 rounded-2xl font-bold text-lg shadow-xl active:scale-95 transition-transform",children:"Confirmar"})})]})}),A&&h.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",onClick:()=>T(!1),children:h.jsxs("div",{className:"bg-white w-full sm:max-w-md max-h-[90vh] overflow-y-auto rounded-t-[2.5rem] sm:rounded-[2rem] p-6 relative",onClick:q=>q.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Seu Pedido"}),h.jsx("button",{onClick:()=>T(!1),className:"bg-gray-100 p-2 rounded-full",children:h.jsx(Dn,{size:20})})]}),h.jsx("div",{className:"space-y-4 mb-8",children:p.length===0?h.jsx("p",{className:"text-center text-gray-400 py-10",children:"Carrinho vazio."}):p.map(q=>h.jsxs("div",{className:"flex justify-between bg-gray-50 p-4 rounded-2xl border border-gray-100",children:[h.jsxs("div",{className:"flex-1 pr-2",children:[h.jsx("p",{className:"font-bold text-gray-900",children:q.name}),h.jsx("p",{className:"text-[10px] text-gray-500 mt-1 leading-tight",children:q.details}),h.jsxs("p",{className:"font-bold text-purple-700 mt-2",children:["R$ ",q.price.toFixed(2)]})]}),h.jsx("button",{onClick:()=>sn(q.id),className:"text-red-400 self-start p-2",children:h.jsx(Mn,{size:18})})]},q.id))}),p.length>0&&h.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("span",{className:"text-gray-500 font-bold",children:"Total"}),h.jsxs("span",{className:"text-2xl font-black text-purple-900",children:["R$ ",V.toFixed(2)]})]}),h.jsx("button",{onClick:()=>{T(!1),E(!0)},className:"w-full bg-green-600 text-white py-4 rounded-2xl font-bold shadow-xl shadow-green-100 text-lg active:scale-95 transition-transform",children:"Finalizar Pedido"})]})]})}),k&&h.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",onClick:()=>E(!1),children:h.jsxs("div",{className:"bg-white w-full sm:max-w-md max-h-[90vh] overflow-y-auto rounded-t-[2.5rem] sm:rounded-[2rem] p-6 relative",onClick:q=>q.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Entrega"}),h.jsx("button",{onClick:()=>E(!1),className:"bg-gray-100 p-2 rounded-full",children:h.jsx(Dn,{size:20})})]}),h.jsxs("div",{className:"space-y-4 mb-8",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{className:"w-full p-4 bg-gray-50 rounded-2xl outline-none focus:ring-2 ring-purple-100",placeholder:"(11) 99999-9999",type:"tel",maxLength:"15",value:ee,onChange:Ve,onBlur:Ra}),xe&&h.jsx("div",{className:"absolute right-4 top-4 animate-spin",children:h.jsx(kl,{className:"text-purple-600"})}),h.jsx("p",{className:"text-[10px] text-gray-400 ml-1 mt-1",children:"Se j comprou, preenchemos o resto para voc."})]}),h.jsx("div",{children:h.jsx("input",{className:"w-full p-4 bg-gray-50 rounded-2xl outline-none focus:ring-2 ring-purple-100",placeholder:"Seu Nome",value:Z,onChange:q=>he(q.target.value)})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"relative w-2/3",children:[h.jsx("input",{className:"w-full p-4 bg-gray-50 rounded-2xl outline-none focus:ring-2 ring-purple-100",placeholder:"00000-000",maxLength:"9",value:bt,onChange:rn}),C&&h.jsx("div",{className:"absolute right-4 top-4 animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"})]}),h.jsx("input",{className:"w-1/3 p-4 bg-gray-50 rounded-2xl outline-none focus:ring-2 ring-purple-100",placeholder:"N",value:Ge,onChange:q=>ue(q.target.value)})]}),me?h.jsxs("div",{className:"p-6 bg-red-50 rounded-[2rem] border border-red-100 text-center space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-black text-red-500 text-lg",children:"Fora da rea "}),h.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Pea pelos nossos parceiros:"})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsx("a",{href:"https://www.ifood.com.br/delivery/sao-paulo-sp/acai-do-lucca-parque-cisper/1fd17658-98b4-4f9b-a154-20cf834d7ed3",className:"bg-white p-3 rounded-2xl shadow-sm border border-red-100 flex items-center justify-center",children:h.jsx("img",{src:R_,className:"w-full h-8 object-contain"})}),h.jsx("a",{href:"https://url-eu.mykeeta.com/uCMXP3uz",className:"bg-white p-3 rounded-2xl shadow-sm border border-orange-100 flex items-center justify-center",children:h.jsx("img",{src:k_,className:"w-full h-8 object-contain"})}),h.jsx("a",{href:"https://oia.99app.com/dlp9/TEjllm",className:"bg-white p-3 rounded-2xl shadow-sm border border-yellow-100 flex items-center justify-center",children:h.jsx("img",{src:z_,className:"w-full h-8 object-contain"})})]})]}):ce&&h.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[h.jsxs("div",{className:"p-4 bg-purple-50 rounded-2xl border border-purple-100 flex items-start gap-3",children:[h.jsx(F0,{className:"text-purple-600 shrink-0 mt-1",size:18}),h.jsxs("div",{children:[h.jsxs("p",{className:"font-bold text-sm text-purple-900",children:[ce.logradouro,", ",ce.bairro]}),h.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Frete: ",h.jsxs("strong",{children:["R$ ",K.toFixed(2)]})]})]})]}),h.jsx("h3",{className:"font-bold text-gray-400 text-xs uppercase ml-1",children:"Pagamento"}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:["PIX","Dinheiro","Carto"].map(q=>h.jsx("button",{onClick:()=>J(q),className:`p-3 rounded-xl font-bold text-sm border transition-all ${M===q?"bg-purple-600 text-white border-purple-600 shadow-lg shadow-purple-200":"bg-white text-gray-500 border-gray-200 hover:bg-gray-50"}`,children:q},q))}),M==="Dinheiro"&&h.jsx("input",{className:"w-full p-4 bg-gray-50 rounded-2xl outline-none font-bold text-lg text-purple-900 placeholder-gray-300",placeholder:"Troco para R$...",value:W,onChange:lt,type:"text"}),h.jsx("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-100 mt-2",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("input",{type:"checkbox",checked:pe,onChange:q=>Ne(q.target.checked),className:"mt-1 w-5 h-5 accent-purple-600 cursor-pointer shrink-0",id:"lgpd-check"}),h.jsxs("div",{className:"text-xs text-gray-500 leading-relaxed",children:[h.jsx("label",{htmlFor:"lgpd-check",className:"cursor-pointer select-none",children:"Autorizo o armazenamento dos meus dados para agilizar pedidos e receber ofertas."}),h.jsxs("button",{onClick:on,className:"text-purple-600 font-bold underline ml-1 hover:text-purple-800 flex items-center gap-1 mt-1",children:[h.jsx(py,{size:12})," Ler termos"]})]})]})})]})]}),h.jsx("button",{onClick:un,disabled:!ce||me||!M||!ee,className:`w-full py-4 rounded-2xl font-bold text-lg shadow-xl transition-all active:scale-95 ${!ce||me||!M||!ee?"bg-gray-200 text-gray-400 cursor-not-allowed shadow-none":"bg-green-600 text-white shadow-green-100"}`,children:me?"Indisponvel":"Enviar Pedido"})]})})]})}function L_({onBack:i,onNavigate:n}){const{items:l,lists:r,products:c,categories:d,customers:f,saveData:g,deleteData:p,uploadImage:y,logout:x,loading:j}=Hl(),A=I.useRef(null);I.useEffect(()=>{A.current&&(A.current.scrollTop=0)},[]);const[T,k]=I.useState("products"),[E,$]=I.useState(""),[G,Y]=I.useState(!1),[H,Z]=I.useState(null),[he,ee]=I.useState(!1),X=async()=>{await x(),i()},xe=P=>E?P.filter(C=>C.name.toLowerCase().includes(E.toLowerCase())):P,we=()=>{Z(null),Y(!0)},bt=P=>{Z(P),Y(!0)},He=async P=>{window.confirm("Excluir permanentemente?")&&await p(T,P)},Ge=async(P,C)=>{ee(!0);let U={...P};if(C){const le=await y(C);le&&(U.image=le)}H||delete U.id;const K=await g(T,U);ee(!1),K&&Y(!1)},ue=async(P,C)=>{const U=d.findIndex(me=>me.id===P.id);if(U<0)return;const K=[...d],le=C==="up"?U-1:U+1;if(le>=0&&le<K.length){const me=K[U].sort_order;K[U].sort_order=K[le].sort_order,K[le].sort_order=me,await g("categories",K[U]),await g("categories",K[le])}},ce=()=>{if(T==="customers"){const U=f.filter(K=>K.name?.toLowerCase().includes(E.toLowerCase())||K.phone?.includes(E));return h.jsxs("div",{className:"space-y-3 pb-4",children:[h.jsxs("div",{className:"bg-purple-100 p-4 rounded-xl border border-purple-200 mb-4",children:[h.jsxs("h3",{className:"font-bold text-purple-900 flex items-center gap-2",children:[h.jsx(_0,{size:18})," Base de Clientes (CRM)"]}),h.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Histrico de clientes que aceitaram salvar os dados."})]}),U.map(K=>h.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row justify-between md:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:K.name}),h.jsxs("div",{className:"flex flex-col text-sm text-gray-500 mt-1 gap-1",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(Ny,{size:14})," ",K.phone]}),h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(F0,{size:14})," ",K.address_full,", ",K.address_number," (",K.address_cep,")"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 block",children:"ltimo Pedido"}),h.jsx("span",{className:"text-sm font-bold text-purple-700",children:new Date(K.last_order_date).toLocaleDateString("pt-BR")})]})]},K.id)),U.length===0&&h.jsx("p",{className:"text-center text-gray-400 py-10",children:"Nenhum cliente encontrado."})]})}const C=xe(T==="products"?c:T==="lists"?r:T==="items"?l:d);return T==="categories"?h.jsx("div",{className:"space-y-2 pb-4",children:C.map((U,K)=>h.jsxs("div",{className:"bg-white p-4 rounded-xl flex justify-between items-center shadow-sm border border-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"font-bold text-gray-400 w-6",children:[K+1,"."]}),h.jsx("span",{className:"font-bold text-gray-800",children:U.name})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>ue(U,"up"),className:"p-2 hover:bg-gray-100 rounded text-gray-400 hover:text-purple-600",children:h.jsx(Wg,{size:16})}),h.jsx("button",{onClick:()=>ue(U,"down"),className:"p-2 hover:bg-gray-100 rounded text-gray-400 hover:text-purple-600",children:h.jsx(Ig,{size:16})}),h.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),h.jsx("button",{onClick:()=>bt(U),className:"p-2 text-blue-500 hover:bg-blue-50 rounded",children:h.jsx(zl,{size:16})}),h.jsx("button",{onClick:()=>He(U.id),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:h.jsx(Mn,{size:16})})]})]},U.id))}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 pb-4",children:C.map(U=>h.jsxs("div",{className:"bg-white p-3 rounded-xl flex gap-3 shadow-sm border border-gray-100 group hover:shadow-md transition-all",children:[T!=="lists"&&h.jsx("img",{src:U.image||"https://placehold.co/100?text=S/IMG",className:`w-16 h-16 rounded-lg object-cover bg-gray-100 ${U.available?"":"grayscale"}`}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-bold text-sm truncate",children:U.name}),h.jsxs("p",{className:"text-xs text-gray-400",children:[T==="products"&&`R$ ${U.price?.toFixed(2)}`,T==="items"&&(U.free?"Grtis":`R$ ${U.price?.toFixed(2)}`),T==="lists"&&h.jsxs("span",{className:"flex flex-col",children:[h.jsxs("span",{children:[U.item_ids?.length||0," itens"]}),h.jsxs("span",{className:"text-purple-600 font-bold text-[10px]",children:["At ",U.max_free," Grtis"]})]})]}),T==="products"&&h.jsx("span",{className:"inline-block mt-1 text-[10px] bg-gray-100 px-2 rounded-full text-gray-500",children:U.category})]}),h.jsxs("div",{className:"flex flex-col gap-1 justify-center opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>bt(U),className:"p-1.5 bg-blue-50 text-blue-600 rounded",children:h.jsx(zl,{size:14})}),h.jsx("button",{onClick:()=>He(U.id),className:"p-1.5 bg-red-50 text-red-500 rounded",children:h.jsx(Mn,{size:14})})]})]},U.id))})};return h.jsxs("div",{className:"fixed inset-0 h-dvh bg-gray-50 font-sans text-gray-800 overflow-hidden flex flex-col md:flex-row",children:[h.jsxs("aside",{className:"hidden md:flex w-64 bg-white border-r border-gray-200 flex-col shrink-0 z-20 h-full",children:[h.jsx("div",{className:"p-6 flex items-center justify-start gap-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"A"}),h.jsx("span",{className:"font-black text-xl tracking-tight block",children:"ADMIN"})]})}),h.jsxs("nav",{className:"flex-1 px-4 flex flex-col space-y-2 mt-4 overflow-y-auto",children:[h.jsx(Nl,{active:T==="products",onClick:()=>k("products"),icon:h.jsx(ur,{size:20}),label:"Produtos"}),h.jsx(Nl,{active:T==="categories",onClick:()=>k("categories"),icon:h.jsx(yy,{size:20}),label:"Categorias"}),h.jsx(Nl,{active:T==="lists",onClick:()=>k("lists"),icon:h.jsx(I0,{size:20}),label:"Listas"}),h.jsx(Nl,{active:T==="items",onClick:()=>k("items"),icon:h.jsx(by,{size:20}),label:"Ingredientes"}),h.jsx("div",{className:"h-px bg-gray-100 my-2"}),h.jsxs("button",{onClick:()=>n("pricing"),className:"w-full flex items-center gap-3 p-3 rounded-xl transition-all text-gray-500 hover:bg-gray-100 hover:text-green-600",children:[h.jsx(Z0,{size:20}),h.jsx("span",{className:"text-sm font-bold",children:"Calculadora"})]}),h.jsx(Nl,{active:T==="customers",onClick:()=>k("customers"),icon:h.jsx(_0,{size:20}),label:"Clientes CRM"})]}),h.jsx("div",{className:"p-4 mt-auto",children:h.jsxs("button",{onClick:X,className:"flex items-center gap-3 text-red-500 hover:bg-red-50 transition-colors p-3 w-full rounded-xl font-bold",children:[h.jsx(b0,{size:20}),h.jsx("span",{children:"Sair do Painel"})]})})]}),h.jsxs("div",{className:"md:hidden bg-white border-b border-gray-200 shrink-0 z-20 flex flex-col",children:[h.jsxs("div",{className:"p-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"A"}),h.jsx("span",{className:"font-black text-xl tracking-tight",children:"ADMIN"})]}),h.jsxs("button",{onClick:X,className:"flex items-center gap-2 bg-red-50 text-red-500 px-3 py-2 rounded-lg font-bold text-xs",children:[h.jsx(b0,{size:14})," Sair"]})]}),h.jsxs("div",{className:"flex overflow-x-auto p-2 gap-2 border-t border-gray-100 no-scrollbar",children:[["products","categories","lists","items","customers"].map(P=>h.jsx("button",{onClick:()=>k(P),className:`px-4 py-2 rounded-lg text-xs font-bold capitalize whitespace-nowrap ${T===P?"bg-purple-600 text-white":"bg-gray-100 text-gray-500"}`,children:P==="customers"?"Clientes":P},P)),h.jsx("button",{onClick:()=>n("pricing"),className:"px-4 py-2 rounded-lg text-xs font-bold capitalize whitespace-nowrap bg-green-100 text-green-700 border border-green-200",children:"Precificao"})]})]}),h.jsxs("main",{className:"flex-1 flex flex-col min-w-0 min-h-0 relative",children:[h.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 md:px-8 py-4 flex justify-between items-center shrink-0",children:[h.jsx("h1",{className:"text-xl md:text-2xl font-black uppercase text-gray-900",children:T==="customers"?"Clientes":T}),T!=="customers"&&h.jsxs("button",{onClick:we,className:"bg-purple-600 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 shadow-lg hover:bg-purple-700 transition-colors",children:[h.jsx(fr,{size:20})," ",h.jsx("span",{className:"hidden sm:inline",children:"Novo"})]})]}),h.jsxs("div",{ref:A,className:"flex-1 overflow-y-auto p-4 md:p-6 pb-20",children:[h.jsxs("div",{className:"relative mb-6",children:[h.jsx(lc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),h.jsx("input",{type:"text",placeholder:"Buscar...",value:E,onChange:P=>$(P.target.value),className:"w-full pl-12 p-3 bg-white border border-gray-200 rounded-xl outline-none focus:ring-2 ring-purple-100"})]}),j?h.jsx("div",{className:"text-center py-20",children:h.jsx(kl,{className:"animate-spin mx-auto text-purple-600"})}):ce()]})]}),G&&h.jsx(q_,{type:T,data:H,close:()=>Y(!1),save:Ge,isSaving:he,context:{items:l,lists:r,categories:d}},H?H.id:"new")]})}function Nl({active:i,icon:n,label:l,onClick:r}){return h.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${i?"bg-purple-600 text-white shadow-lg shadow-purple-200":"text-gray-500 hover:bg-gray-100"}`,children:[n,h.jsx("span",{className:"text-sm font-bold",children:l})]})}function q_({type:i,data:n,close:l,save:r,isSaving:c,context:d}){const[f,g]=I.useState(n||{}),[p,y]=I.useState(null),[x,j]=I.useState(n?.image||null);I.useEffect(()=>{n||(i==="items"&&g({name:"",price:0,image:"",free:!1,available:!0}),i==="lists"&&g({name:"",max_free:0,item_ids:[]}),i==="products"&&g({name:"",price:0,category:d.categories[0]?.name||"",list_ids:[],available:!0}),i==="categories"&&g({name:"",sort_order:d.categories.length+1}))},[]);const A=E=>{const $=E.target.files[0];$&&(y($),j(URL.createObjectURL($)))},T=(E,$)=>{const G=f[E]||[];g({...f,[E]:G.includes($)?G.filter(Y=>Y!==$):[...G,$]})},k=(E,$)=>{const G=[...f.list_ids||[]];$==="up"&&E>0&&([G[E],G[E-1]]=[G[E-1],G[E]]),$==="down"&&E<G.length-1&&([G[E],G[E+1]]=[G[E+1],G[E]]),g({...f,list_ids:G})};return h.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white w-full max-w-lg max-h-[90vh] overflow-y-auto rounded-3xl p-6 shadow-2xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-xl font-black uppercase",children:[n?"Editar":"Novo"," ",i==="categories"?"Categoria":i]}),h.jsx("button",{onClick:l,children:h.jsx(Dn,{})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Nome"}),h.jsx("input",{value:f.name||"",onChange:E=>g({...f,name:E.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border-gray-100 border outline-none font-bold"})]}),i!=="lists"&&i!=="categories"&&h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Imagem"}),h.jsxs("div",{className:"flex gap-3 items-center",children:[h.jsxs("div",{className:"relative w-20 h-20 bg-gray-100 rounded-xl overflow-hidden border border-dashed border-gray-300 flex items-center justify-center shrink-0",children:[x?h.jsx("img",{src:x,className:"w-full h-full object-cover"}):h.jsx(W0,{size:20,className:"text-gray-400"}),h.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),h.jsx("div",{className:"flex-1",children:h.jsx("input",{value:f.image||"",onChange:E=>{g({...f,image:E.target.value}),j(E.target.value)},className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 text-xs mb-1",placeholder:"Ou cole URL..."})})]})]}),i==="products"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Preo"}),h.jsx("input",{type:"number",value:f.price||"",onChange:E=>g({...f,price:parseFloat(E.target.value)}),className:"w-full p-3 bg-gray-50 rounded-xl border-gray-100 border"})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Categoria"}),h.jsx("select",{value:f.category||"",onChange:E=>g({...f,category:E.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border-gray-100 border bg-white",children:d.categories.map(E=>h.jsx("option",{value:E.name,children:E.name},E.id))})]})]}),h.jsxs("div",{className:"bg-purple-50 p-3 rounded-xl",children:[h.jsx("label",{className:"text-xs font-bold text-purple-800 uppercase mb-2 block",children:"Listas Vinculadas"}),f.list_ids?.map((E,$)=>{const G=d.lists.find(Y=>Y.id===E);return G?h.jsxs("div",{className:"bg-white p-2 mb-1 rounded-lg flex justify-between items-center text-xs font-bold shadow-sm",children:[h.jsxs("span",{children:[$+1,". ",G.name]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>k($,"up"),className:"hover:bg-gray-100 p-1 rounded",children:""}),h.jsx("button",{onClick:()=>k($,"down"),className:"hover:bg-gray-100 p-1 rounded",children:""}),h.jsx("button",{onClick:()=>T("list_ids",E),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:""})]})]},E):null}),h.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:d.lists.filter(E=>!f.list_ids?.includes(E.id)).map(E=>h.jsxs("button",{onClick:()=>T("list_ids",E.id),className:"bg-white border px-2 py-1 rounded text-xs hover:bg-purple-100",children:["+ ",E.name]},E.id))})]})]}),i==="lists"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Quantos itens Grtis?"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"number",min:"0",value:f.max_free||0,onChange:E=>g({...f,max_free:parseInt(E.target.value)}),className:"w-24 p-3 bg-gray-50 rounded-xl border-gray-100 border outline-none font-bold text-center"}),h.jsxs("span",{className:"text-xs text-gray-400 leading-tight",children:["Defina quantos itens o cliente ganha.",h.jsx("br",{}),'Ex: 2 = "Escolha 2 Frutas Grtis".']})]})]}),h.jsxs("div",{className:"border-t pt-4 mt-2",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Itens desta Lista"}),h.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:d.items.map(E=>h.jsxs("div",{onClick:()=>T("item_ids",E.id),className:`p-2 border rounded-lg cursor-pointer flex items-center gap-2 ${f.item_ids?.includes(E.id)?"bg-purple-50 border-purple-400 ring-1 ring-purple-400":"hover:bg-gray-50"}`,children:[h.jsx("img",{src:E.image,className:"w-8 h-8 rounded object-cover bg-gray-100"}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"text-xs font-bold truncate text-gray-800",children:E.name}),h.jsxs("p",{className:"text-[10px] text-gray-400 font-medium",children:["R$ ",E.price.toFixed(2)]})]}),f.item_ids?.includes(E.id)&&h.jsx(Xu,{size:14,className:"text-purple-600"})]},E.id))})]})]}),i==="items"&&h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Preo"}),h.jsx("input",{type:"number",value:f.price||"",onChange:E=>g({...f,price:parseFloat(E.target.value)}),className:"w-full p-3 bg-gray-50 rounded-xl border-gray-100 border"})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-4 rounded-xl border border-gray-100 cursor-pointer",onClick:()=>g({...f,free:!f.free}),children:[h.jsx("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${f.free?"bg-purple-600 border-purple-600":"bg-white"}`,children:f.free&&h.jsx(Xu,{size:10,className:"text-white"})}),h.jsx("span",{className:"text-xs font-bold",children:" Grtis?"})]})]})]}),h.jsxs("button",{onClick:()=>r(f,p),disabled:c,className:"w-full bg-purple-600 text-white py-4 rounded-2xl font-bold mt-6 shadow-lg flex justify-center items-center gap-2",children:[c&&h.jsx(kl,{className:"animate-spin",size:20})," ",c?"Enviando...":"Salvar"]})]})})}function $_({onBack:i,onLoginSuccess:n}){const{login:l}=Hl(),[r,c]=I.useState(""),[d,f]=I.useState(""),[g,p]=I.useState(!1),[y,x]=I.useState(""),j=async A=>{A.preventDefault(),p(!0),x("");try{await l(r,d),n()}catch{x("E-mail ou senha incorretos.")}finally{p(!1)}};return h.jsx("div",{className:"min-h-screen bg-purple-900 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-8 shadow-2xl relative",children:[h.jsx("button",{onClick:i,className:"absolute top-4 left-4 text-gray-400 hover:text-gray-600",children:h.jsx(J0,{})}),h.jsxs("div",{className:"text-center mb-8 mt-4",children:[h.jsx("div",{className:"w-16 h-16 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(P0,{size:32})}),h.jsx("h2",{className:"text-2xl font-black text-gray-800 uppercase",children:"Acesso Restrito"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"rea exclusiva para gerentes"})]}),h.jsxs("form",{onSubmit:j,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1",children:"E-MAIL"}),h.jsx("input",{type:"email",value:r,onChange:A=>c(A.target.value),className:"w-full p-4 bg-gray-50 rounded-xl outline-none focus:ring-2 ring-purple-200 border border-transparent focus:border-purple-500 transition-all",placeholder:"admin@acaidolucca.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1",children:"SENHA"}),h.jsx("input",{type:"password",value:d,onChange:A=>f(A.target.value),className:"w-full p-4 bg-gray-50 rounded-xl outline-none focus:ring-2 ring-purple-200 border border-transparent focus:border-purple-500 transition-all",placeholder:"",required:!0})]}),y&&h.jsx("p",{className:"text-red-500 text-xs font-bold text-center bg-red-50 p-2 rounded-lg",children:y}),h.jsxs("button",{disabled:g,className:"w-full bg-purple-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-purple-200 active:scale-95 transition-transform flex items-center justify-center gap-2",children:[g&&h.jsx(kl,{className:"animate-spin",size:20}),"ENTRAR"]})]})]})})}function H_({onBack:i}){const{supplies:n,recipes:l,channels:r,saveData:c,deleteData:d,refreshData:f}=Hl(),[g,p]=I.useState("supplies"),[y,x]=I.useState(!1),[j,A]=I.useState(!1),[T,k]=I.useState(!1),[E,$]=I.useState({isOpen:!1,type:"alert",title:"",message:"",onConfirm:null}),[G,Y]=I.useState(null),[H,Z]=I.useState(""),[he,ee]=I.useState(null),[X,xe]=I.useState([]),[we,bt]=I.useState(30),[He,Ge]=I.useState(20),[ue,ce]=I.useState(!0),[P,C]=I.useState({}),[U,K]=I.useState(""),[le,me]=I.useState("Todos"),_=(V,q,Q,ge=null)=>{$({isOpen:!0,type:V,title:q,message:Q,onConfirm:ge})},M=()=>{$({...E,isOpen:!1})},J=()=>{E.onConfirm&&E.onConfirm(),M()},W=()=>{let V=0;if(X.forEach(F=>{const Oe=F.price/F.amount;V+=Oe*F.usedAmount}),!r||r.length===0)return{cmv:V,results:[]};let q=0,Q=0;if(ue){const F=r.find(Oe=>Oe.name.toLowerCase().includes("balco")||Oe.name.toLowerCase().includes("balcao")||Oe.name.toLowerCase().includes("propria")||Oe.name.toLowerCase().includes("prpria"))||r[0];if(F){const Oe=parseFloat(F.commission_percent)+parseFloat(F.payment_fee_percent)+parseFloat(we)+parseFloat(He),Ce=V+parseFloat(F.fixed_fee),Te=1-Math.min(Oe,95)/100;q=Ce/Te,Q=q*(He/100)}}const ge=r.map(F=>{let Oe=0;if(ue)if(F.name.toLowerCase().includes("balco")||F.name.toLowerCase().includes("balcao")||F.name.toLowerCase().includes("propria")||F.name.toLowerCase().includes("prpria"))Oe=q;else{const Ht=parseFloat(F.commission_percent)+parseFloat(F.payment_fee_percent)+parseFloat(we),dt=V+parseFloat(F.fixed_fee)+Q,yr=1-Math.min(Ht,95)/100;Oe=dt/yr}else{const _t=parseFloat(F.commission_percent)+parseFloat(F.payment_fee_percent)+parseFloat(we)+parseFloat(He),Ht=V+parseFloat(F.fixed_fee),dt=1-Math.min(_t,95)/100;Oe=Ht/dt}const Ce=!ue&&P[F.id]!==void 0&&P[F.id]!=="",Te=Ce?parseFloat(P[F.id]):Oe,ot=Te*((F.commission_percent+F.payment_fee_percent)/100),St=parseFloat(F.fixed_fee),Ln=Te*(we/100),Gl=Te-ot-St-Ln-V,cn=Te>0?Gl/Te*100:0;return{...F,suggestedPrice:Te,isManual:Ce,calculatedMargin:cn,breakdown:{profit:Gl,platformFee:ot+St,operational:Ln,cmv:V}}});return{cmv:V,results:ge}},{cmv:de,results:pe}=W(),Ne=(V,q)=>{C(Q=>({...Q,[V]:q}))},lt=V=>{const q={...P};delete q[V],C(q)},Ve=()=>{X.length!==0&&_("confirm","Limpar Simulao?","Deseja apagar todos os itens e comear do zero?",()=>{Z(""),ee(null),xe([]),C({})})},ua=V=>{ee(V.id),Z(V.name),xe(V.ingredients||[]),Ge(V.profit_percent),bt(V.operational_percent||30),C({}),k(!1),p("recipe")},Ca=async()=>{if(!H)return _("alert","Ateno","D um nome para o produto antes de salvar!");if(X.length===0)return _("alert","Ateno","Adicione pelo menos um ingrediente!");const V={name:H,ingredients:X,profit_percent:He,operational_percent:we};he&&(V.id=he),await c("recipes",V)&&_("alert","Sucesso","Ficha tcnica salva com sucesso!")},sn=V=>{_("confirm","Excluir Ficha?","Essa ao no pode ser desfeita.",async()=>{await d("recipes",V)})},Bn=async V=>{await c("supplies",V),A(!1),Y(null)},Ft=V=>{_("confirm","Excluir Insumo?","Tem certeza que deseja apagar este ingrediente?",async()=>{await d("supplies",V)})},ln=n.filter(V=>{const q=V.name.toLowerCase().includes(U.toLowerCase()),Q=le==="Todos"||V.category===le;return q&&Q}),Ra=[...new Set(n.map(V=>V.category||"Geral"))],Us=["Todos",...Ra],rn=V=>{xe([...X,{...V,usedAmount:0}])},on=(V,q)=>{const Q=[...X];Q[V].usedAmount=parseFloat(q)||0,xe(Q)},un=V=>{xe(X.filter((q,Q)=>Q!==V))};return h.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 text-gray-800 font-sans overflow-hidden fixed inset-0",children:[h.jsx("style",{children:`
            input[type=number]::-webkit-inner-spin-button, 
            input[type=number]::-webkit-outer-spin-button { 
                -webkit-appearance: none; margin: 0; 
            }
            input[type=number] { -moz-appearance: textfield; }
        `}),h.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 md:px-6 py-3 flex justify-between items-center shrink-0 z-20",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:h.jsx(J0,{size:20})}),h.jsx("div",{children:h.jsxs("h1",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[h.jsx(Z0,{className:"text-purple-600",size:20}),h.jsx("span",{className:"hidden sm:inline",children:"Calculadora"}),h.jsx("span",{className:"sm:hidden",children:"Calc"})]})})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>x(!0),className:"px-3 py-2 bg-gray-900 text-white text-[10px] sm:text-xs font-bold rounded-lg hover:bg-black flex items-center gap-2",children:[h.jsx(My,{size:14})," Taxas"]}),h.jsxs("button",{onClick:()=>k(!0),className:"px-3 py-2 bg-purple-50 text-purple-700 text-[10px] sm:text-xs font-bold rounded-lg hover:bg-purple-100 flex items-center gap-2",children:[h.jsx(ur,{size:14})," Fichas"]})]})]}),h.jsxs("div",{className:"md:hidden flex bg-white border-b border-gray-200 shrink-0",children:[h.jsxs("button",{onClick:()=>p("supplies"),className:`flex-1 py-3 text-xs font-bold border-b-2 flex items-center justify-center gap-2 ${g==="supplies"?"border-purple-600 text-purple-600":"border-transparent text-gray-400"}`,children:[h.jsx(I0,{size:16})," Insumos"]}),h.jsxs("button",{onClick:()=>p("recipe"),className:`flex-1 py-3 text-xs font-bold border-b-2 flex items-center justify-center gap-2 relative ${g==="recipe"?"border-purple-600 text-purple-600":"border-transparent text-gray-400"}`,children:[h.jsx(ur,{size:16})," Montagem ",X.length>0&&h.jsx("span",{className:"absolute top-2 right-4 w-2 h-2 bg-red-500 rounded-full"})]}),h.jsxs("button",{onClick:()=>p("results"),className:`flex-1 py-3 text-xs font-bold border-b-2 flex items-center justify-center gap-2 ${g==="results"?"border-green-600 text-green-600":"border-transparent text-gray-400"}`,children:[h.jsx(ry,{size:16})," Lucro"]})]}),h.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden relative",children:[h.jsxs("div",{className:`w-full md:w-1/4 bg-white border-r border-gray-200 flex-col z-10 ${g==="supplies"?"flex h-full":"hidden md:flex h-full"}`,children:[h.jsxs("div",{className:"p-4 border-b border-gray-100 space-y-3 shrink-0",children:[h.jsxs("button",{onClick:()=>{Y(null),A(!0)},className:"w-full bg-green-600 text-white py-2 rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-sm hover:bg-green-700",children:[h.jsx(fr,{size:16})," Novo Insumo"]}),h.jsxs("div",{className:"relative",children:[h.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),h.jsx("input",{value:U,onChange:V=>K(V.target.value),placeholder:"Buscar...",className:"w-full pl-9 p-2 bg-gray-50 rounded-lg text-sm outline-none border border-transparent focus:border-purple-200 bg-gray-50"})]}),h.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:Us.map(V=>h.jsx("button",{onClick:()=>me(V),className:`px-3 py-1 rounded-full text-[10px] font-bold whitespace-nowrap border ${le===V?"bg-purple-100 border-purple-200 text-purple-700":"bg-white border-gray-100 text-gray-500"}`,children:V},V))})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 pb-24 md:pb-2",children:ln.map(V=>h.jsxs("div",{onClick:()=>rn(V),className:"p-3 rounded-xl border border-gray-100 hover:border-purple-200 hover:bg-purple-50 cursor-pointer group relative active:scale-95 transition-transform",children:[h.jsx("div",{className:"flex justify-between items-start pr-8",children:h.jsx("h4",{className:"font-bold text-sm text-gray-700",children:V.name})}),h.jsxs("div",{className:"flex justify-between mt-1 text-[10px] text-gray-400 pr-8",children:[h.jsx("span",{children:V.category||"Geral"}),h.jsxs("span",{children:["R$ ",(V.price/V.amount).toFixed(4),"/",V.unit]})]}),h.jsxs("div",{className:"absolute right-2 top-2 flex flex-col gap-1 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:q=>{q.stopPropagation(),Y(V),A(!0)},className:"p-1 bg-blue-100 text-blue-600 rounded",children:h.jsx(zl,{size:12})}),h.jsx("button",{onClick:q=>{q.stopPropagation(),Ft(V.id)},className:"p-1 bg-red-100 text-red-600 rounded",children:h.jsx(Mn,{size:12})})]})]},V.id))})]}),h.jsx("div",{className:`flex-1 bg-gray-50 flex-col overflow-y-auto ${g==="recipe"?"flex h-full":"hidden md:flex h-full"}`,children:h.jsxs("div",{className:"p-4 md:p-6 max-w-2xl mx-auto w-full space-y-6 pb-24 md:pb-6",children:[h.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-200 relative",children:[h.jsxs("div",{className:"flex justify-between items-start mb-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase block",children:"Nome do Produto"}),h.jsxs("button",{onClick:Ve,className:"text-[10px] bg-gray-100 text-gray-500 px-2 py-1 rounded-lg font-bold flex items-center gap-1 hover:bg-gray-200 hover:text-red-500 transition-colors",children:[h.jsx(uy,{size:12})," Limpar / Novo"]})]}),h.jsx("input",{value:H,onChange:V=>Z(V.target.value),placeholder:"Ex: Aa 500ml",className:"w-full text-lg font-black text-gray-800 outline-none placeholder-gray-300"})]}),h.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-2xl shadow-sm border border-gray-200 min-h-[300px]",children:[h.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[h.jsx(ur,{size:16,className:"text-purple-600"})," Composio"]}),X.length===0?h.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-gray-100 rounded-xl",children:[h.jsx("p",{className:"text-gray-400 text-sm",children:"Lista Vazia."}),h.jsx("button",{onClick:()=>p("supplies"),className:"md:hidden mt-2 text-purple-600 font-bold text-sm underline",children:"Ir para Insumos"})]}):h.jsx("div",{className:"space-y-2",children:X.map((V,q)=>{const Q=V.price/V.amount*V.usedAmount;return h.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded-xl border border-gray-100",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-bold text-sm text-gray-700 truncate",children:V.name}),h.jsxs("p",{className:"text-[10px] text-gray-400",children:["R$ ",Q.toFixed(2)]})]}),h.jsxs("div",{className:"flex items-center bg-white rounded-lg border border-gray-200 overflow-hidden",children:[h.jsx("input",{type:"number",value:V.usedAmount||"",onChange:ge=>on(q,ge.target.value),className:"w-14 p-1 text-center text-sm font-bold outline-none",placeholder:"0"}),h.jsx("div",{className:"bg-gray-50 px-2 py-1 text-[10px] font-bold text-gray-500 border-l border-gray-200",children:V.unit})]}),h.jsx("button",{onClick:()=>un(q),className:"p-1 text-gray-300 hover:text-red-500",children:h.jsx(Mn,{size:16})})]},q)})}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between items-center",children:[h.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Total CMV"}),h.jsxs("span",{className:"text-xl font-black text-gray-800",children:["R$ ",de.toFixed(2)]})]})]}),h.jsx("button",{onClick:Ca,className:`w-full text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-xl transition-colors ${he?"bg-blue-600 hover:bg-blue-700":"bg-gray-900 hover:bg-black"}`,children:he?h.jsxs(h.Fragment,{children:[h.jsx(zl,{size:18})," Atualizar Ficha"]}):h.jsxs(h.Fragment,{children:[h.jsx(zy,{size:18})," Salvar Ficha"]})})]})}),h.jsxs("div",{className:`w-full md:w-[380px] bg-white border-l border-gray-200 flex-col overflow-y-auto ${g==="results"?"flex h-full":"hidden md:flex h-full"}`,children:[h.jsxs("div",{className:"p-6 bg-purple-900 text-white shrink-0",children:[h.jsxs("h2",{className:"font-bold flex items-center gap-2 mb-6",children:[h.jsx(ay,{size:18,className:"text-green-400"})," Configurao de Lucro"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"flex justify-between text-xs text-purple-200 mb-1 uppercase font-bold",children:"Custos Fixos/Operacionais"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"number",value:we,onChange:V=>bt(parseFloat(V.target.value)||0),className:"w-full bg-purple-800/50 border border-purple-700 rounded-lg p-2 text-white font-bold outline-none focus:border-green-400"}),h.jsx("span",{className:"absolute right-3 top-2 text-purple-300 font-bold",children:"%"})]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"flex justify-between text-xs text-purple-200 mb-1 uppercase font-bold",children:"Margem de Lucro Lquida"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"number",value:He,onChange:V=>Ge(parseFloat(V.target.value)||0),className:"w-full bg-purple-800/50 border border-purple-700 rounded-lg p-2 text-white font-bold outline-none focus:border-green-400"}),h.jsx("span",{className:"absolute right-3 top-2 text-purple-300 font-bold",children:"%"})]})]}),h.jsx("div",{className:"pt-2 border-t border-purple-800/50",children:h.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>{ce(!ue),C({})},children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs font-bold text-green-400",children:ue?"Modo Lucro Fixo (Padro)":"Modo Clculo Completo"}),h.jsx("p",{className:"text-[10px] text-purple-300",children:ue?"Preo Automtico (No Editvel)":"Permite editar preo de venda"})]}),h.jsx("div",{className:"text-green-400",children:ue?h.jsx(Ky,{size:32}):h.jsx(Gy,{size:32,className:"text-purple-400"})})]})})]})]}),h.jsx("div",{className:"flex-1 p-4 space-y-4 pb-24 md:pb-4 overflow-y-auto",children:pe.map((V,q)=>h.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-lg border relative overflow-hidden group ${V.name.includes("iFood")?"border-red-100":"border-gray-100"} ${V.isManual?"ring-2 ring-yellow-200":""}`,children:[h.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${V.color||"bg-gray-200"}`}),h.jsxs("div",{className:"pl-2",children:[h.jsxs("div",{className:"flex justify-between items-start mb-1",children:[h.jsx("span",{className:"font-bold text-sm text-gray-700",children:V.name}),h.jsxs("span",{className:"text-[9px] bg-gray-100 px-1 rounded text-gray-500 font-bold",children:["Fee: ",V.commission_percent,"%"]})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"text-xs text-gray-400",children:"Venda:"}),ue?h.jsxs("span",{className:"text-2xl font-black text-gray-800",children:["R$ ",V.suggestedPrice.toFixed(2)]}):h.jsxs("div",{className:"relative flex-1",children:[h.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500 font-bold text-sm",children:"R$"}),h.jsx("input",{type:"number",value:P[V.id]!==void 0?P[V.id]:V.suggestedPrice.toFixed(2),onChange:Q=>Ne(V.id,Q.target.value),onFocus:Q=>Q.target.select(),className:`w-full pl-8 pr-2 py-1 rounded-lg border font-black text-lg outline-none transition-all ${V.isManual?"border-yellow-400 bg-yellow-50 text-yellow-900":"border-gray-200 text-gray-800 bg-transparent focus:border-purple-300"}`}),V.isManual&&h.jsx("button",{onClick:()=>lt(V.id),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-red-500",children:h.jsx(Ry,{size:14})})]})]}),h.jsxs("div",{className:"text-[10px] space-y-1 pt-2 border-t border-gray-50 text-gray-400",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Taxas (Plat + Fixa):"})," ",h.jsxs("span",{className:"text-red-400",children:["- R$ ",V.breakdown.platformFee.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{children:["Custos Fixos (",we,"%):"]})," ",h.jsxs("span",{className:"text-orange-400",children:["- R$ ",V.breakdown.operational.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Ingredientes:"})," ",h.jsxs("span",{className:"text-gray-500",children:["- R$ ",V.breakdown.cmv.toFixed(2)]})]}),h.jsxs("div",{className:`flex justify-between font-bold px-1 rounded mt-1 ${V.breakdown.profit<0?"bg-red-100 text-red-600":"bg-green-50 text-green-600"}`,children:[h.jsxs("span",{children:["Lucro Real ",V.isManual?"(Manual)":ue?"(Fixo)":`(${He}%)`,":"]}),h.jsxs("span",{children:["R$ ",V.breakdown.profit.toFixed(2)," (",V.calculatedMargin.toFixed(1),"%)"]})]})]})]})]},q))})]})]}),y&&h.jsx(K_,{channels:r,close:()=>x(!1),refresh:f,saveData:c,deleteData:d,confirmDialog:_}),j&&h.jsx(G_,{data:G,categories:Ra,close:()=>A(!1),save:Bn}),T&&h.jsx(V_,{recipes:l,channels:r,close:()=>k(!1),onLoad:ua,onDelete:sn}),E.isOpen&&h.jsx("div",{className:"fixed inset-0 bg-black/70 z-[70] flex items-center justify-center p-6 backdrop-blur-sm animate-in fade-in duration-200",children:h.jsx("div",{className:"bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl scale-100 animate-in zoom-in-95",children:h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center mb-4 ${E.type==="confirm"?"bg-red-50 text-red-500":"bg-green-50 text-green-500"}`,children:E.type==="confirm"?h.jsx(Qy,{size:32}):h.jsx(ly,{size:32})}),h.jsx("h3",{className:"text-xl font-black text-gray-800 mb-2",children:E.title}),h.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:E.message}),h.jsxs("div",{className:"flex gap-3 w-full",children:[E.type==="confirm"&&h.jsx("button",{onClick:M,className:"flex-1 py-3 bg-gray-100 text-gray-600 font-bold rounded-xl hover:bg-gray-200",children:"Cancelar"}),h.jsx("button",{onClick:J,className:`flex-1 py-3 font-bold rounded-xl text-white shadow-lg ${E.type==="confirm"?"bg-red-500 hover:bg-red-600 shadow-red-200":"bg-green-600 hover:bg-green-700 shadow-green-200"}`,children:E.type==="confirm"?"Confirmar":"Entendido"})]})]})})})]})}function G_({data:i,categories:n,close:l,save:r}){const[c,d]=I.useState(i||{name:"",price:"",amount:"",unit:"g",category:""});return h.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in zoom-in-95 duration-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-xl font-black uppercase",children:[i?"Editar":"Novo"," Insumo"]}),h.jsx("button",{onClick:l,className:"bg-gray-100 p-1 rounded-full",children:h.jsx(Dn,{size:20})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Nome"}),h.jsx("input",{value:c.name,onChange:f=>d({...c,name:f.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 font-bold outline-none focus:border-purple-300",placeholder:"Ex: Aa 5 Litros",autoFocus:!0})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Categoria"}),h.jsx("input",{list:"category-options",value:c.category,onChange:f=>d({...c,category:f.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 font-bold outline-none focus:border-purple-300",placeholder:"Ex: Frutas"}),h.jsx("datalist",{id:"category-options",children:n.map(f=>h.jsx("option",{value:f},f))})]}),h.jsxs("div",{className:"w-1/3",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Unid."}),h.jsxs("select",{value:c.unit,onChange:f=>d({...c,unit:f.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 font-bold bg-white outline-none",children:[h.jsx("option",{value:"g",children:"g"}),h.jsx("option",{value:"ml",children:"ml"}),h.jsx("option",{value:"un",children:"un"})]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Preo (R$)"}),h.jsx("input",{type:"number",value:c.price,onChange:f=>d({...c,price:f.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 font-bold outline-none focus:border-purple-300"})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Qtd Emb."}),h.jsx("input",{type:"number",value:c.amount,onChange:f=>d({...c,amount:f.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 font-bold outline-none focus:border-purple-300"})]})]})]}),h.jsx("button",{onClick:()=>r({...c,price:parseFloat(c.price),amount:parseFloat(c.amount)}),className:"w-full bg-green-600 text-white py-4 rounded-2xl font-bold mt-6 shadow-lg shadow-green-200",children:"Salvar Insumo"})]})})}function V_({recipes:i,channels:n,close:l,onLoad:r,onDelete:c}){const[d,f]=I.useState(""),g=i.filter(y=>y.name.toLowerCase().includes(d.toLowerCase())),p=y=>{let x=0;if(y.ingredients?.forEach(Z=>{x+=Z.price/Z.amount*Z.usedAmount}),!n||n.length===0)return{cmv:x,priceBalcao:0,priceIfood:0};const j=n.find(Z=>Z.name.toLowerCase().includes("balco")||Z.name.toLowerCase().includes("balcao")||Z.name.toLowerCase().includes("propria")||Z.name.toLowerCase().includes("prpria"))||n[0];if(!j)return{cmv:x,priceBalcao:0,priceIfood:0};const A=y.operational_percent||30,T=y.profit_percent||20,k=parseFloat(j.commission_percent)+parseFloat(j.payment_fee_percent)+parseFloat(A)+parseFloat(T),E=x+parseFloat(j.fixed_fee),$=Math.max(.01,1-Math.min(k,95)/100),G=E/$,Y=G*(T/100),H=Z=>{const he=n.find(we=>we.name.toLowerCase().includes(Z));if(!he)return 0;if(he.id===j.id)return G;const ee=parseFloat(he.commission_percent)+parseFloat(he.payment_fee_percent)+parseFloat(A),X=x+parseFloat(he.fixed_fee)+Y,xe=Math.max(.01,1-Math.min(ee,95)/100);return X/xe};return{cmv:x,priceBalcao:H("balco")||H("balcao")||H("propria"),priceIfood:H("ifood")}};return h.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl p-6 shadow-2xl h-[80vh] flex flex-col animate-in zoom-in-95 duration-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-black uppercase",children:"Fichas Tcnicas"}),h.jsx("button",{onClick:l,className:"bg-gray-100 p-2 rounded-full",children:h.jsx(Dn,{size:20})})]}),h.jsxs("div",{className:"mb-4 relative",children:[h.jsx(lc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),h.jsx("input",{value:d,onChange:y=>f(y.target.value),className:"w-full pl-10 p-3 bg-gray-50 rounded-xl border border-gray-100 outline-none focus:border-purple-200",placeholder:"Pesquisar ficha..."})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3",children:[g.map(y=>{const x=p(y);return h.jsxs("div",{className:"flex justify-between items-center bg-white p-4 border border-gray-100 rounded-2xl hover:border-purple-200 hover:shadow-sm transition-all",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:y.name}),h.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex flex-wrap gap-x-2",children:[h.jsxs("span",{children:[y.ingredients?.length||0," itens"]}),h.jsx("span",{children:""}),h.jsxs("span",{children:["Lucro: ",h.jsxs("span",{className:"text-green-600 font-bold",children:[y.profit_percent,"%"]})]}),h.jsx("span",{children:""}),h.jsxs("span",{children:["CMV: R$ ",x.cmv.toFixed(2)]}),x.priceBalcao>0&&h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""}),h.jsxs("span",{children:["Balco: ",h.jsxs("strong",{className:"text-gray-600",children:["R$ ",x.priceBalcao.toFixed(2)]})]})]}),x.priceIfood>0&&h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""}),h.jsxs("span",{children:["iFood: ",h.jsxs("strong",{className:"text-gray-600",children:["R$ ",x.priceIfood.toFixed(2)]})]})]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>r(y),className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-xl font-bold text-xs hover:bg-blue-100 flex items-center gap-2",children:[h.jsx(W0,{size:14})," Abrir"]}),h.jsx("button",{onClick:()=>c(y.id),className:"p-2 bg-red-50 text-red-500 rounded-xl hover:bg-red-100",children:h.jsx(Mn,{size:16})})]})]},y.id)}),g.length===0&&h.jsx("p",{className:"text-center text-gray-400 py-10",children:"Nenhuma ficha encontrada."})]})]})})}function K_({channels:i,close:n,refresh:l,saveData:r,deleteData:c,confirmDialog:d}){const[f,g]=I.useState(null),[p,y]=I.useState({}),x=k=>{g(k.id),y(k)},j=()=>{g("new"),y({name:"",commission_percent:0,payment_fee_percent:0,fixed_fee:0,color:"bg-gray-200"})},A=async()=>{const k={...p};f==="new"&&delete k.id,await r("sales_channels",k),await l(),g(null)},T=k=>{d&&d("confirm","Excluir Canal?","Tem certeza que deseja apagar essa plataforma?",async()=>{await c("sales_channels",k),await l()})};return h.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl p-6 shadow-2xl h-[80vh] flex flex-col animate-in zoom-in-95 duration-200",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-black uppercase",children:"Taxas"}),h.jsx("p",{className:"text-xs text-gray-400",children:"Configure as taxas"})]}),h.jsx("button",{onClick:n,children:h.jsx(Dn,{})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3",children:[i.map(k=>h.jsx("div",{className:"border border-gray-100 rounded-xl p-4 bg-gray-50",children:f===k.id?h.jsx(Y0,{form:p,setForm:y,onSave:A,onCancel:()=>g(null)}):h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-3 h-10 rounded-full ${k.color}`}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-gray-800",children:k.name}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Comisso: ",h.jsxs("strong",{children:[k.commission_percent,"%"]})," | Pgto: ",h.jsxs("strong",{children:[k.payment_fee_percent,"%"]})," | Fixo: ",h.jsxs("strong",{children:["R$ ",k.fixed_fee]})]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>x(k),className:"p-2 bg-white border rounded-lg hover:bg-gray-100",children:h.jsx(zl,{size:14})}),h.jsx("button",{onClick:()=>T(k.id),className:"p-2 bg-white border rounded-lg text-red-500 hover:bg-red-50",children:h.jsx(Mn,{size:14})})]})]})},k.id)),f==="new"&&h.jsx("div",{className:"border border-purple-200 bg-purple-50 rounded-xl p-4",children:h.jsx(Y0,{form:p,setForm:y,onSave:A,onCancel:()=>g(null)})})]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:h.jsxs("button",{onClick:j,disabled:f!==null,className:"w-full bg-gray-900 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 disabled:opacity-50",children:[h.jsx(fr,{size:18})," Novo Canal"]})})]})})}function Y0({form:i,setForm:n,onSave:l,onCancel:r}){return h.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Nome da Plataforma"}),h.jsx("input",{value:i.name,onChange:c=>n({...i,name:c.target.value}),className:"w-full p-2 rounded-lg border font-bold text-sm"})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Comisso %"}),h.jsx("input",{type:"number",value:i.commission_percent,onChange:c=>n({...i,commission_percent:c.target.value}),className:"w-full p-2 rounded-lg border font-bold text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Pgto %"}),h.jsx("input",{type:"number",value:i.payment_fee_percent,onChange:c=>n({...i,payment_fee_percent:c.target.value}),className:"w-full p-2 rounded-lg border font-bold text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Fixo R$"}),h.jsx("input",{type:"number",value:i.fixed_fee,onChange:c=>n({...i,fixed_fee:c.target.value}),className:"w-full p-2 rounded-lg border font-bold text-sm"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Cor"}),h.jsx("input",{value:i.color,onChange:c=>n({...i,color:c.target.value}),className:"w-full p-2 rounded-lg border font-bold text-sm",placeholder:"bg-red-100"})]}),h.jsxs("div",{className:"flex gap-2 items-end",children:[h.jsx("button",{onClick:l,className:"flex-1 bg-green-600 text-white py-2 rounded-lg font-bold text-xs",children:"Salvar"}),h.jsx("button",{onClick:r,className:"bg-gray-200 text-gray-600 py-2 px-4 rounded-lg font-bold text-xs",children:"X"})]})]})]})}function Y_(){const{user:i}=Hl(),n=I.useRef(!1),[l,r]=I.useState(()=>window.location.hash.replace("#","")||"menu");I.useEffect(()=>{const f=()=>{const g=window.location.hash.replace("#","");r(g||"menu"),n.current=!1};return window.addEventListener("hashchange",f),()=>window.removeEventListener("hashchange",f)},[]),I.useEffect(()=>{if(l==="menu"){window.history.state?.page!=="menu_trap"&&window.history.pushState({page:"menu_trap"},"","#menu");const f=g=>{if(n.current)return;window.confirm("Deseja sair do aplicativo?")?window.history.go(-1):window.history.pushState({page:"menu_trap"},"","#menu")};return window.addEventListener("popstate",f),()=>window.removeEventListener("popstate",f)}},[l]);const c=f=>{n.current=!0,window.location.hash=f},d=()=>{c(i?"admin":"login")};return I.useEffect(()=>{!i&&(l==="admin"||l==="pricing")&&c("menu")},[i]),h.jsxs("div",{children:[l==="menu"&&h.jsx(B_,{onGoToAdmin:d}),l==="login"&&h.jsx($_,{onBack:()=>c("menu"),onLoginSuccess:()=>c("admin")}),l==="admin"&&h.jsx(L_,{onBack:()=>c("menu"),onNavigate:c}),l==="pricing"&&h.jsx(H_,{onBack:()=>c("admin")})]})}Vg.createRoot(document.getElementById("root")).render(h.jsx(Dg.StrictMode,{children:h.jsx(Y_,{})}));
