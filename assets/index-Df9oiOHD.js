(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function l(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(c){if(c.ep)return;c.ep=!0;const h=l(c);fetch(c.href,h)}})();function F0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bu={exports:{}},Ll={};var h0;function Mg(){if(h0)return Ll;h0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,c,h){var f=null;if(h!==void 0&&(f=""+h),c.key!==void 0&&(f=""+c.key),"key"in c){h={};for(var g in c)g!=="key"&&(h[g]=c[g])}else h=c;return c=h.ref,{$$typeof:i,type:r,key:f,ref:c!==void 0?c:null,props:h}}return Ll.Fragment=n,Ll.jsx=l,Ll.jsxs=l,Ll}var f0;function Bg(){return f0||(f0=1,Bu.exports=Mg()),Bu.exports}var d=Bg(),Lu={exports:{}},ge={};var m0;function Lg(){if(m0)return ge;m0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function T(_){return _===null||typeof _!="object"?null:(_=N&&_[N]||_["@@iterator"],typeof _=="function"?_:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,$={};function G(_,M,X){this.props=_,this.context=M,this.refs=$,this.updater=X||k}G.prototype.isReactComponent={},G.prototype.setState=function(_,M){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,M,"setState")},G.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function K(){}K.prototype=G.prototype;function H(_,M,X){this.props=_,this.context=M,this.refs=$,this.updater=X||k}var Z=H.prototype=new K;Z.constructor=H,E(Z,G.prototype),Z.isPureReactComponent=!0;var de=Array.isArray;function I(){}var Q={H:null,A:null,T:null,S:null},we=Object.prototype.hasOwnProperty;function xe(_,M,X){var F=X.ref;return{$$typeof:i,type:_,key:M,ref:F!==void 0?F:null,props:X}}function at(_,M){return xe(_.type,M,_.props)}function Ke(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function $e(_){var M={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(X){return M[X]})}var fe=/\/+/g;function oe(_,M){return typeof _=="object"&&_!==null&&_.key!=null?$e(""+_.key):M.toString(36)}function P(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(I,I):(_.status="pending",_.then(function(M){_.status==="pending"&&(_.status="fulfilled",_.value=M)},function(M){_.status==="pending"&&(_.status="rejected",_.reason=M)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function C(_,M,X,F,ie){var he=typeof _;(he==="undefined"||he==="boolean")&&(_=null);var Ne=!1;if(_===null)Ne=!0;else switch(he){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(_.$$typeof){case i:case n:Ne=!0;break;case x:return Ne=_._init,C(Ne(_._payload),M,X,F,ie)}}if(Ne)return ie=ie(_),Ne=F===""?"."+oe(_,0):F,de(ie)?(X="",Ne!=null&&(X=Ne.replace(fe,"$&/")+"/"),C(ie,M,X,"",function(ba){return ba})):ie!=null&&(Ke(ie)&&(ie=at(ie,X+(ie.key==null||_&&_.key===ie.key?"":(""+ie.key).replace(fe,"$&/")+"/")+Ne)),M.push(ie)),1;Ne=0;var ut=F===""?".":F+":";if(de(_))for(var He=0;He<_.length;He++)F=_[He],he=ut+oe(F,He),Ne+=C(F,M,X,he,ie);else if(He=T(_),typeof He=="function")for(_=He.call(_),He=0;!(F=_.next()).done;)F=F.value,he=ut+oe(F,He++),Ne+=C(F,M,X,he,ie);else if(he==="object"){if(typeof _.then=="function")return C(P(_),M,X,F,ie);throw M=String(_),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function D(_,M,X){if(_==null)return _;var F=[],ie=0;return C(_,F,"","",function(he){return M.call(X,he,ie++)}),F}function V(_){if(_._status===-1){var M=_._result;M=M(),M.then(function(X){(_._status===0||_._status===-1)&&(_._status=1,_._result=X)},function(X){(_._status===0||_._status===-1)&&(_._status=2,_._result=X)}),_._status===-1&&(_._status=0,_._result=M)}if(_._status===1)return _._result.default;throw _._result}var ne=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}},me={map:D,forEach:function(_,M,X){D(_,function(){M.apply(this,arguments)},X)},count:function(_){var M=0;return D(_,function(){M++}),M},toArray:function(_){return D(_,function(M){return M})||[]},only:function(_){if(!Ke(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return ge.Activity=S,ge.Children=me,ge.Component=G,ge.Fragment=l,ge.Profiler=c,ge.PureComponent=H,ge.StrictMode=r,ge.Suspense=p,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ge.__COMPILER_RUNTIME={__proto__:null,c:function(_){return Q.H.useMemoCache(_)}},ge.cache=function(_){return function(){return _.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(_,M,X){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var F=E({},_.props),ie=_.key;if(M!=null)for(he in M.key!==void 0&&(ie=""+M.key),M)!we.call(M,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&M.ref===void 0||(F[he]=M[he]);var he=arguments.length-2;if(he===1)F.children=X;else if(1<he){for(var Ne=Array(he),ut=0;ut<he;ut++)Ne[ut]=arguments[ut+2];F.children=Ne}return xe(_.type,ie,F)},ge.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:h,_context:_},_},ge.createElement=function(_,M,X){var F,ie={},he=null;if(M!=null)for(F in M.key!==void 0&&(he=""+M.key),M)we.call(M,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ie[F]=M[F]);var Ne=arguments.length-2;if(Ne===1)ie.children=X;else if(1<Ne){for(var ut=Array(Ne),He=0;He<Ne;He++)ut[He]=arguments[He+2];ie.children=ut}if(_&&_.defaultProps)for(F in Ne=_.defaultProps,Ne)ie[F]===void 0&&(ie[F]=Ne[F]);return xe(_,he,ie)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(_){return{$$typeof:g,render:_}},ge.isValidElement=Ke,ge.lazy=function(_){return{$$typeof:x,_payload:{_status:-1,_result:_},_init:V}},ge.memo=function(_,M){return{$$typeof:v,type:_,compare:M===void 0?null:M}},ge.startTransition=function(_){var M=Q.T,X={};Q.T=X;try{var F=_(),ie=Q.S;ie!==null&&ie(X,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(I,ne)}catch(he){ne(he)}finally{M!==null&&X.types!==null&&(M.types=X.types),Q.T=M}},ge.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ge.use=function(_){return Q.H.use(_)},ge.useActionState=function(_,M,X){return Q.H.useActionState(_,M,X)},ge.useCallback=function(_,M){return Q.H.useCallback(_,M)},ge.useContext=function(_){return Q.H.useContext(_)},ge.useDebugValue=function(){},ge.useDeferredValue=function(_,M){return Q.H.useDeferredValue(_,M)},ge.useEffect=function(_,M){return Q.H.useEffect(_,M)},ge.useEffectEvent=function(_){return Q.H.useEffectEvent(_)},ge.useId=function(){return Q.H.useId()},ge.useImperativeHandle=function(_,M,X){return Q.H.useImperativeHandle(_,M,X)},ge.useInsertionEffect=function(_,M){return Q.H.useInsertionEffect(_,M)},ge.useLayoutEffect=function(_,M){return Q.H.useLayoutEffect(_,M)},ge.useMemo=function(_,M){return Q.H.useMemo(_,M)},ge.useOptimistic=function(_,M){return Q.H.useOptimistic(_,M)},ge.useReducer=function(_,M,X){return Q.H.useReducer(_,M,X)},ge.useRef=function(_){return Q.H.useRef(_)},ge.useState=function(_){return Q.H.useState(_)},ge.useSyncExternalStore=function(_,M,X){return Q.H.useSyncExternalStore(_,M,X)},ge.useTransition=function(){return Q.H.useTransition()},ge.version="19.2.3",ge}var p0;function cc(){return p0||(p0=1,Lu.exports=Lg()),Lu.exports}var J=cc();const qg=F0(J);var qu={exports:{}},ql={},$u={exports:{}},Hu={};var g0;function $g(){return g0||(g0=1,(function(i){function n(C,D){var V=C.length;C.push(D);e:for(;0<V;){var ne=V-1>>>1,me=C[ne];if(0<c(me,D))C[ne]=D,C[V]=me,V=ne;else break e}}function l(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var D=C[0],V=C.pop();if(V!==D){C[0]=V;e:for(var ne=0,me=C.length,_=me>>>1;ne<_;){var M=2*(ne+1)-1,X=C[M],F=M+1,ie=C[F];if(0>c(X,V))F<me&&0>c(ie,X)?(C[ne]=ie,C[F]=V,ne=F):(C[ne]=X,C[M]=V,ne=M);else if(F<me&&0>c(ie,V))C[ne]=ie,C[F]=V,ne=F;else break e}}return D}function c(C,D){var V=C.sortIndex-D.sortIndex;return V!==0?V:C.id-D.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var p=[],v=[],x=1,S=null,N=3,T=!1,k=!1,E=!1,$=!1,G=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Z(C){for(var D=l(v);D!==null;){if(D.callback===null)r(v);else if(D.startTime<=C)r(v),D.sortIndex=D.expirationTime,n(p,D);else break;D=l(v)}}function de(C){if(E=!1,Z(C),!k)if(l(p)!==null)k=!0,I||(I=!0,$e());else{var D=l(v);D!==null&&P(de,D.startTime-C)}}var I=!1,Q=-1,we=5,xe=-1;function at(){return $?!0:!(i.unstable_now()-xe<we)}function Ke(){if($=!1,I){var C=i.unstable_now();xe=C;var D=!0;try{e:{k=!1,E&&(E=!1,K(Q),Q=-1),T=!0;var V=N;try{t:{for(Z(C),S=l(p);S!==null&&!(S.expirationTime>C&&at());){var ne=S.callback;if(typeof ne=="function"){S.callback=null,N=S.priorityLevel;var me=ne(S.expirationTime<=C);if(C=i.unstable_now(),typeof me=="function"){S.callback=me,Z(C),D=!0;break t}S===l(p)&&r(p),Z(C)}else r(p);S=l(p)}if(S!==null)D=!0;else{var _=l(v);_!==null&&P(de,_.startTime-C),D=!1}}break e}finally{S=null,N=V,T=!1}D=void 0}}finally{D?$e():I=!1}}}var $e;if(typeof H=="function")$e=function(){H(Ke)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,oe=fe.port2;fe.port1.onmessage=Ke,$e=function(){oe.postMessage(null)}}else $e=function(){G(Ke,0)};function P(C,D){Q=G(function(){C(i.unstable_now())},D)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_forceFrameRate=function(C){0>C||125<C||(we=0<C?Math.floor(1e3/C):5)},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(C){switch(N){case 1:case 2:case 3:var D=3;break;default:D=N}var V=N;N=D;try{return C()}finally{N=V}},i.unstable_requestPaint=function(){$=!0},i.unstable_runWithPriority=function(C,D){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var V=N;N=C;try{return D()}finally{N=V}},i.unstable_scheduleCallback=function(C,D,V){var ne=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,C){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=V+me,C={id:x++,callback:D,priorityLevel:C,startTime:V,expirationTime:me,sortIndex:-1},V>ne?(C.sortIndex=V,n(v,C),l(p)===null&&C===l(v)&&(E?(K(Q),Q=-1):E=!0,P(de,V-ne))):(C.sortIndex=me,n(p,C),k||T||(k=!0,I||(I=!0,$e()))),C},i.unstable_shouldYield=at,i.unstable_wrapCallback=function(C){var D=N;return function(){var V=N;N=D;try{return C.apply(this,arguments)}finally{N=V}}}})(Hu)),Hu}var y0;function Hg(){return y0||(y0=1,$u.exports=$g()),$u.exports}var Gu={exports:{}},jt={};var v0;function Gg(){if(v0)return jt;v0=1;var i=cc();function n(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(p,v,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:p,containerInfo:v,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jt.createPortal=function(p,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return h(p,v,null,x)},jt.flushSync=function(p){var v=f.T,x=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=v,r.p=x,r.d.f()}},jt.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(p,v))},jt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},jt.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var x=v.as,S=g(x,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,T=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?r.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:T}):x==="script"&&r.d.X(p,{crossOrigin:S,integrity:N,fetchPriority:T,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},jt.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=g(v.as,v.crossOrigin);r.d.M(p,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(p)},jt.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,S=g(x,v.crossOrigin);r.d.L(p,x,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},jt.preloadModule=function(p,v){if(typeof p=="string")if(v){var x=g(v.as,v.crossOrigin);r.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(p)},jt.requestFormReset=function(p){r.d.r(p)},jt.unstable_batchedUpdates=function(p,v){return p(v)},jt.useFormState=function(p,v,x){return f.H.useFormState(p,v,x)},jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},jt.version="19.2.3",jt}var b0;function Vg(){if(b0)return Gu.exports;b0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch{}}return i(),Gu.exports=Gg(),Gu.exports}var x0;function Yg(){if(x0)return ql;x0=1;var i=Hg(),n=cc(),l=Vg();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(h(e)!==e)throw Error(r(188))}function v(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return p(o),e;if(u===s)return p(o),t;u=u.sibling}throw Error(r(188))}if(a.return!==s.return)a=o,s=u;else{for(var m=!1,y=o.child;y;){if(y===a){m=!0,a=o,s=u;break}if(y===s){m=!0,s=o,a=u;break}y=y.sibling}if(!m){for(y=u.child;y;){if(y===a){m=!0,a=u,s=o;break}if(y===s){m=!0,s=u,a=o;break}y=y.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),xe=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=Ke&&e[Ke]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case G:return"Profiler";case $:return"StrictMode";case de:return"Suspense";case I:return"SuspenseList";case xe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case H:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}var P=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ne=[],me=-1;function _(e){return{current:e}}function M(e){0>me||(e.current=ne[me],ne[me]=null,me--)}function X(e,t){me++,ne[me]=e.current,e.current=t}var F=_(null),ie=_(null),he=_(null),Ne=_(null);function ut(e,t){switch(X(he,t),X(ie,e),X(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Uf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Uf(t),e=Mf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(F),X(F,e)}function He(){M(F),M(ie),M(he)}function ba(e){e.memoizedState!==null&&X(Ne,e);var t=F.current,a=Mf(t,e.type);t!==a&&(X(ie,e),X(F,a))}function St(e){ie.current===e&&(M(F),M(ie)),Ne.current===e&&(M(Ne),Dl._currentValue=V)}var Ga,Qn;function la(e){if(Ga===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ga=t&&t[1]||"",Qn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+e+Qn}var xa=!1;function yn(e,t){if(!e||xa)return"";xa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(z){var R=z}Reflect.construct(e,[],q)}else{try{q.call()}catch(z){R=z}e.call(q.prototype)}}else{try{throw Error()}catch(z){R=z}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(z){if(z&&R&&typeof z.stack=="string")return[z.stack,R.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],y=u[1];if(m&&y){var b=m.split(`
`),O=y.split(`
`);for(o=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;if(s===b.length||o===O.length)for(s=b.length-1,o=O.length-1;1<=s&&0<=o&&b[s]!==O[o];)o--;for(;1<=s&&0<=o;s--,o--)if(b[s]!==O[o]){if(s!==1||o!==1)do if(s--,o--,0>o||b[s]!==O[o]){var U=`
`+b[s].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=s&&0<=o);break}}}finally{xa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?la(a):""}function Xs(e,t){switch(e.tag){case 26:case 27:case 5:return la(e.type);case 16:return la("Lazy");case 13:return e.child!==t&&t!==null?la("Suspense Fallback"):la("Suspense");case 19:return la("SuspenseList");case 0:case 15:return yn(e.type,!1);case 11:return yn(e.type.render,!1);case 1:return yn(e.type,!0);case 31:return la("Activity");default:return""}}function vn(e){try{var t="",a=null;do t+=Xs(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var bn=Object.prototype.hasOwnProperty,xn=i.unstable_scheduleCallback,Va=i.unstable_cancelCallback,Y=i.unstable_shouldYield,ee=i.unstable_requestPaint,_e=i.unstable_now,pe=i.unstable_getCurrentPriorityLevel,We=i.unstable_ImmediatePriority,ze=i.unstable_UserBlockingPriority,Me=i.unstable_NormalPriority,pt=i.unstable_LowPriority,Ot=i.unstable_IdlePriority,Qs=i.log,jr=i.unstable_setDisableYieldValue,_n=null,Et=null;function L(e){if(typeof Qs=="function"&&jr(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(_n,e)}catch{}}var se=Math.clz32?Math.clz32:Ge,Re=Math.log,ia=Math.LN2;function Ge(e){return e>>>=0,e===0?32:31-(Re(e)/ia|0)|0}var ct=256,Qt=262144,Tt=4194304;function Jt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ra(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~u,s!==0?o=Jt(s):(m&=y,m!==0?o=Jt(m):a||(a=y&~e,a!==0&&(o=Jt(a))))):(y=s&~u,y!==0?o=Jt(y):m!==0?o=Jt(m):a||(a=s&~e,a!==0&&(o=Jt(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function ma(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Nt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(){var e=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),e}function Zn(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function _a(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Js(e,t,a,s,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,b=e.expirationTimes,O=e.hiddenUpdates;for(a=m&~a;0<a;){var U=31-se(a),q=1<<U;y[U]=0,b[U]=-1;var R=O[U];if(R!==null)for(O[U]=null,U=0;U<R.length;U++){var z=R[U];z!==null&&(z.lane&=-536870913)}a&=~q}s!==0&&Wl(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function Wl(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-se(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function yc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-se(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function vc(e,t){var a=t&-t;return a=(a&42)!==0?1:Er(a),(a&(e.suspendedLanes|t))!==0?0:a}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bc(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:l0(e.type))}function xc(e,t){var a=D.p;try{return D.p=e,t()}finally{D.p=a}}var Ya=Math.random().toString(36).slice(2),gt="__reactFiber$"+Ya,Ct="__reactProps$"+Ya,In="__reactContainer$"+Ya,Nr="__reactEvents$"+Ya,Em="__reactListeners$"+Ya,Tm="__reactHandles$"+Ya,_c="__reactResources$"+Ya,Zs="__reactMarker$"+Ya;function Ar(e){delete e[gt],delete e[Ct],delete e[Nr],delete e[Em],delete e[Tm]}function Pn(e){var t=e[gt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[In]||a[gt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Vf(e);e!==null;){if(a=e[gt])return a;e=Vf(e)}return t}e=a,a=e.parentNode}return null}function Fn(e){if(e=e[gt]||e[In]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Is(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Wn(e){var t=e[_c];return t||(t=e[_c]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[Zs]=!0}var wc=new Set,Sc={};function wn(e,t){es(e,t),es(e+"Capture",t)}function es(e,t){for(Sc[e]=t,e=0;e<t.length;e++)wc.add(t[e])}var Nm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jc={},Ec={};function Am(e){return bn.call(Ec,e)?!0:bn.call(jc,e)?!1:Nm.test(e)?Ec[e]=!0:(jc[e]=!0,!1)}function ei(e,t,a){if(Am(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ti(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function wa(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Om(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Or(e){if(!e._valueTracker){var t=Tc(e)?"checked":"value";e._valueTracker=Om(e,t,""+e[t])}}function Nc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Tc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cm=/[\n"\\]/g;function It(e){return e.replace(Cm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Cr(e,t,a,s,o,u,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Rr(e,m,Zt(t)):a!=null?Rr(e,m,Zt(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Zt(y):e.removeAttribute("name")}function Ac(e,t,a,s,o,u,m,y){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Or(e);return}a=a!=null?""+Zt(a):"",t=t!=null?""+Zt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Or(e)}function Rr(e,t,a){t==="number"&&ai(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ts(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Zt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Oc(e,t,a){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Zt(a):""}function Cc(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(r(92));if(P(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Zt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Or(e)}function as(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Rm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Rm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function kc(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Rc(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&Rc(e,u,t[u])}function kr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var km=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(e){return zm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sa(){}var zr=null;function Dr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ns=null,ss=null;function zc(e){var t=Fn(e);if(t&&(e=t.stateNode)){var a=e[Ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(Cr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+It(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[Ct]||null;if(!o)throw Error(r(90));Cr(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Nc(s)}break e;case"textarea":Oc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ts(e,!!a.multiple,t,!1)}}}var Ur=!1;function Dc(e,t,a){if(Ur)return e(t,a);Ur=!0;try{var s=e(t);return s}finally{if(Ur=!1,(ns!==null||ss!==null)&&(Yi(),ns&&(t=ns,e=ss,ss=ns=null,zc(t),e)))for(t=0;t<e.length;t++)zc(e[t])}}function Ps(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Ct]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(ja)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Mr=!1}var Ka=null,Br=null,si=null;function Uc(){if(si)return si;var e,t=Br,a=t.length,s,o="value"in Ka?Ka.value:Ka.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[u-s];s++);return si=o.slice(e,1<s?1-s:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function Mc(){return!1}function Rt(e){function t(a,s,o,u,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ii:Mc,this.isPropagationStopped=Mc,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=Rt(Sn),Ws=S({},Sn,{view:0,detail:0}),Dm=Rt(Ws),Lr,qr,el,oi=S({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==el&&(el&&e.type==="mousemove"?(Lr=e.screenX-el.screenX,qr=e.screenY-el.screenY):qr=Lr=0,el=e),Lr)},movementY:function(e){return"movementY"in e?e.movementY:qr}}),Bc=Rt(oi),Um=S({},oi,{dataTransfer:0}),Mm=Rt(Um),Bm=S({},Ws,{relatedTarget:0}),$r=Rt(Bm),Lm=S({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),qm=Rt(Lm),$m=S({},Sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hm=Rt($m),Gm=S({},Sn,{data:0}),Lc=Rt(Gm),Vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Km[e])?!!t[e]:!1}function Hr(){return Xm}var Qm=S({},Ws,{key:function(e){if(e.key){var t=Vm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ym[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jm=Rt(Qm),Zm=S({},oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=Rt(Zm),Im=S({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),Pm=Rt(Im),Fm=S({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wm=Rt(Fm),ep=S({},oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tp=Rt(ep),ap=S({},Sn,{newState:0,oldState:0}),np=Rt(ap),sp=[9,13,27,32],Gr=ja&&"CompositionEvent"in window,tl=null;ja&&"documentMode"in document&&(tl=document.documentMode);var lp=ja&&"TextEvent"in window&&!tl,$c=ja&&(!Gr||tl&&8<tl&&11>=tl),Hc=" ",Gc=!1;function Vc(e,t){switch(e){case"keyup":return sp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ls=!1;function ip(e,t){switch(e){case"compositionend":return Yc(t);case"keypress":return t.which!==32?null:(Gc=!0,Hc);case"textInput":return e=t.data,e===Hc&&Gc?null:e;default:return null}}function rp(e,t){if(ls)return e==="compositionend"||!Gr&&Vc(e,t)?(e=Uc(),si=Br=Ka=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $c&&t.locale!=="ko"?null:t.data;default:return null}}var op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!op[e.type]:t==="textarea"}function Xc(e,t,a,s){ns?ss?ss.push(s):ss=[s]:ns=s,t=Pi(t,"onChange"),0<t.length&&(a=new ri("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var al=null,nl=null;function up(e){Of(e,0)}function ui(e){var t=Is(e);if(Nc(t))return e}function Qc(e,t){if(e==="change")return t}var Jc=!1;if(ja){var Vr;if(ja){var Yr="oninput"in document;if(!Yr){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),Yr=typeof Zc.oninput=="function"}Vr=Yr}else Vr=!1;Jc=Vr&&(!document.documentMode||9<document.documentMode)}function Ic(){al&&(al.detachEvent("onpropertychange",Pc),nl=al=null)}function Pc(e){if(e.propertyName==="value"&&ui(nl)){var t=[];Xc(t,nl,e,Dr(e)),Dc(up,t)}}function cp(e,t,a){e==="focusin"?(Ic(),al=t,nl=a,al.attachEvent("onpropertychange",Pc)):e==="focusout"&&Ic()}function dp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(nl)}function hp(e,t){if(e==="click")return ui(t)}function fp(e,t){if(e==="input"||e==="change")return ui(t)}function mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:mp;function sl(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!bn.call(t,o)||!Bt(e[o],t[o]))return!1}return!0}function Fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wc(e,t){var a=Fc(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fc(a)}}function ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ai(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ai(e.document)}return t}function Kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var pp=ja&&"documentMode"in document&&11>=document.documentMode,is=null,Xr=null,ll=null,Qr=!1;function ad(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qr||is==null||is!==ai(s)||(s=is,"selectionStart"in s&&Kr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ll&&sl(ll,s)||(ll=s,s=Pi(Xr,"onSelect"),0<s.length&&(t=new ri("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=is)))}function jn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var rs={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionrun:jn("Transition","TransitionRun"),transitionstart:jn("Transition","TransitionStart"),transitioncancel:jn("Transition","TransitionCancel"),transitionend:jn("Transition","TransitionEnd")},Jr={},nd={};ja&&(nd=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function En(e){if(Jr[e])return Jr[e];if(!rs[e])return e;var t=rs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in nd)return Jr[e]=t[a];return e}var sd=En("animationend"),ld=En("animationiteration"),id=En("animationstart"),gp=En("transitionrun"),yp=En("transitionstart"),vp=En("transitioncancel"),rd=En("transitionend"),od=new Map,Zr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zr.push("scrollEnd");function oa(e,t){od.set(e,t),wn(t,[e])}var ci=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}},Pt=[],os=0,Ir=0;function di(){for(var e=os,t=Ir=os=0;t<e;){var a=Pt[t];Pt[t++]=null;var s=Pt[t];Pt[t++]=null;var o=Pt[t];Pt[t++]=null;var u=Pt[t];if(Pt[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}u!==0&&ud(a,o,u)}}function hi(e,t,a,s){Pt[os++]=e,Pt[os++]=t,Pt[os++]=a,Pt[os++]=s,Ir|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Pr(e,t,a,s){return hi(e,t,a,s),fi(e)}function Tn(e,t){return hi(e,null,null,t),fi(e)}function ud(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-se(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function fi(e){if(50<Nl)throw Nl=0,ru=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var us={};function bp(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,a,s){return new bp(e,t,a,s)}function Fr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ea(e,t){var a=e.alternate;return a===null?(a=Lt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mi(e,t,a,s,o,u){var m=0;if(s=e,typeof e=="function")Fr(e)&&(m=1);else if(typeof e=="string")m=jg(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case xe:return e=Lt(31,a,t,o),e.elementType=xe,e.lanes=u,e;case E:return Nn(a.children,o,u,t);case $:m=8,o|=24;break;case G:return e=Lt(12,a,t,o|2),e.elementType=G,e.lanes=u,e;case de:return e=Lt(13,a,t,o),e.elementType=de,e.lanes=u,e;case I:return e=Lt(19,a,t,o),e.elementType=I,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:m=10;break e;case K:m=9;break e;case Z:m=11;break e;case Q:m=14;break e;case we:m=16,s=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Lt(m,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function Nn(e,t,a,s){return e=Lt(7,e,s,t),e.lanes=a,e}function Wr(e,t,a){return e=Lt(6,e,null,t),e.lanes=a,e}function dd(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function eo(e,t,a){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hd=new WeakMap;function Ft(e,t){if(typeof e=="object"&&e!==null){var a=hd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:vn(t)},hd.set(e,t),t)}return{value:e,source:t,stack:vn(t)}}var cs=[],ds=0,pi=null,il=0,Wt=[],ea=0,Xa=null,pa=1,ga="";function Ta(e,t){cs[ds++]=il,cs[ds++]=pi,pi=e,il=t}function fd(e,t,a){Wt[ea++]=pa,Wt[ea++]=ga,Wt[ea++]=Xa,Xa=e;var s=pa;e=ga;var o=32-se(s)-1;s&=~(1<<o),a+=1;var u=32-se(t)+o;if(30<u){var m=o-o%5;u=(s&(1<<m)-1).toString(32),s>>=m,o-=m,pa=1<<32-se(t)+o|a<<o|s,ga=u+e}else pa=1<<u|a<<o|s,ga=e}function to(e){e.return!==null&&(Ta(e,1),fd(e,1,0))}function ao(e){for(;e===pi;)pi=cs[--ds],cs[ds]=null,il=cs[--ds],cs[ds]=null;for(;e===Xa;)Xa=Wt[--ea],Wt[ea]=null,ga=Wt[--ea],Wt[ea]=null,pa=Wt[--ea],Wt[ea]=null}function md(e,t){Wt[ea++]=pa,Wt[ea++]=ga,Wt[ea++]=Xa,pa=t.id,ga=t.overflow,Xa=e}var yt=null,Xe=null,Ae=!1,Qa=null,ta=!1,no=Error(r(519));function Ja(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Ft(t,e)),no}function pd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[gt]=e,t[Ct]=s,a){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(a=0;a<Ol.length;a++)je(Ol[a],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),Ac(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),Cc(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||zf(t.textContent,a)?(s.popover!=null&&(je("beforetoggle",t),je("toggle",t)),s.onScroll!=null&&je("scroll",t),s.onScrollEnd!=null&&je("scrollend",t),s.onClick!=null&&(t.onclick=Sa),t=!0):t=!1,t||Ja(e,!0)}function gd(e){for(yt=e.return;yt;)switch(yt.tag){case 5:case 31:case 13:ta=!1;return;case 27:case 3:ta=!0;return;default:yt=yt.return}}function hs(e){if(e!==yt)return!1;if(!Ae)return gd(e),Ae=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wu(e.type,e.memoizedProps)),a=!a),a&&Xe&&Ja(e),gd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Xe=Gf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Xe=Gf(e)}else t===27?(t=Xe,un(e.type)?(e=Nu,Nu=null,Xe=e):Xe=t):Xe=yt?na(e.stateNode.nextSibling):null;return!0}function An(){Xe=yt=null,Ae=!1}function so(){var e=Qa;return e!==null&&(Ut===null?Ut=e:Ut.push.apply(Ut,e),Qa=null),e}function rl(e){Qa===null?Qa=[e]:Qa.push(e)}var lo=_(null),On=null,Na=null;function Za(e,t,a){X(lo,t._currentValue),t._currentValue=a}function Aa(e){e._currentValue=lo.current,M(lo)}function io(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function ro(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var y=u;u=o;for(var b=0;b<t.length;b++)if(y.context===t[b]){u.lanes|=a,y=u.alternate,y!==null&&(y.lanes|=a),io(u.return,a,e),s||(m=null);break e}u=y.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),io(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function fs(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var y=o.type;Bt(o.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(o===Ne.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Dl):e=[Dl])}o=o.return}e!==null&&ro(t,e,a,s),t.flags|=262144}function gi(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cn(e){On=e,Na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return yd(On,e)}function yi(e,t){return On===null&&Cn(e),yd(e,t)}function yd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Na===null){if(e===null)throw Error(r(308));Na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Na=Na.next=t;return a}var xp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},_p=i.unstable_scheduleCallback,wp=i.unstable_NormalPriority,nt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oo(){return{controller:new xp,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&_p(wp,function(){e.controller.abort()})}var ul=null,uo=0,ms=0,ps=null;function Sp(e,t){if(ul===null){var a=ul=[];uo=0,ms=fu(),ps={status:"pending",value:void 0,then:function(s){a.push(s)}}}return uo++,t.then(vd,vd),t}function vd(){if(--uo===0&&ul!==null){ps!==null&&(ps.status="fulfilled");var e=ul;ul=null,ms=0,ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jp(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var bd=C.S;C.S=function(e,t){af=_e(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Sp(e,t),bd!==null&&bd(e,t)};var Rn=_(null);function co(){var e=Rn.current;return e!==null?e:Ve.pooledCache}function vi(e,t){t===null?X(Rn,Rn.current):X(Rn,t.pool)}function xd(){var e=co();return e===null?null:{parent:nt._currentValue,pool:e}}var gs=Error(r(460)),ho=Error(r(474)),bi=Error(r(542)),xi={then:function(){}};function _d(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Sa,Sa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e;default:if(typeof t.status=="string")t.then(Sa,Sa);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e}throw zn=t,gs}}function kn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zn=a,gs):a}}var zn=null;function Sd(){if(zn===null)throw Error(r(459));var e=zn;return zn=null,e}function jd(e){if(e===gs||e===bi)throw Error(r(483))}var ys=null,cl=0;function _i(e){var t=cl;return cl+=1,ys===null&&(ys=[]),wd(ys,e,t)}function dl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wi(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ed(e){function t(j,w){if(e){var A=j.deletions;A===null?(j.deletions=[w],j.flags|=16):A.push(w)}}function a(j,w){if(!e)return null;for(;w!==null;)t(j,w),w=w.sibling;return null}function s(j){for(var w=new Map;j!==null;)j.key!==null?w.set(j.key,j):w.set(j.index,j),j=j.sibling;return w}function o(j,w){return j=Ea(j,w),j.index=0,j.sibling=null,j}function u(j,w,A){return j.index=A,e?(A=j.alternate,A!==null?(A=A.index,A<w?(j.flags|=67108866,w):A):(j.flags|=67108866,w)):(j.flags|=1048576,w)}function m(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function y(j,w,A,B){return w===null||w.tag!==6?(w=Wr(A,j.mode,B),w.return=j,w):(w=o(w,A),w.return=j,w)}function b(j,w,A,B){var le=A.type;return le===E?U(j,w,A.props.children,B,A.key):w!==null&&(w.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===we&&kn(le)===w.type)?(w=o(w,A.props),dl(w,A),w.return=j,w):(w=mi(A.type,A.key,A.props,null,j.mode,B),dl(w,A),w.return=j,w)}function O(j,w,A,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=eo(A,j.mode,B),w.return=j,w):(w=o(w,A.children||[]),w.return=j,w)}function U(j,w,A,B,le){return w===null||w.tag!==7?(w=Nn(A,j.mode,B,le),w.return=j,w):(w=o(w,A),w.return=j,w)}function q(j,w,A){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Wr(""+w,j.mode,A),w.return=j,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case T:return A=mi(w.type,w.key,w.props,null,j.mode,A),dl(A,w),A.return=j,A;case k:return w=eo(w,j.mode,A),w.return=j,w;case we:return w=kn(w),q(j,w,A)}if(P(w)||$e(w))return w=Nn(w,j.mode,A,null),w.return=j,w;if(typeof w.then=="function")return q(j,_i(w),A);if(w.$$typeof===H)return q(j,yi(j,w),A);wi(j,w)}return null}function R(j,w,A,B){var le=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return le!==null?null:y(j,w,""+A,B);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case T:return A.key===le?b(j,w,A,B):null;case k:return A.key===le?O(j,w,A,B):null;case we:return A=kn(A),R(j,w,A,B)}if(P(A)||$e(A))return le!==null?null:U(j,w,A,B,null);if(typeof A.then=="function")return R(j,w,_i(A),B);if(A.$$typeof===H)return R(j,w,yi(j,A),B);wi(j,A)}return null}function z(j,w,A,B,le){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return j=j.get(A)||null,y(w,j,""+B,le);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return j=j.get(B.key===null?A:B.key)||null,b(w,j,B,le);case k:return j=j.get(B.key===null?A:B.key)||null,O(w,j,B,le);case we:return B=kn(B),z(j,w,A,B,le)}if(P(B)||$e(B))return j=j.get(A)||null,U(w,j,B,le,null);if(typeof B.then=="function")return z(j,w,A,_i(B),le);if(B.$$typeof===H)return z(j,w,A,yi(w,B),le);wi(w,B)}return null}function W(j,w,A,B){for(var le=null,Oe=null,te=w,ve=w=0,Te=null;te!==null&&ve<A.length;ve++){te.index>ve?(Te=te,te=null):Te=te.sibling;var Ce=R(j,te,A[ve],B);if(Ce===null){te===null&&(te=Te);break}e&&te&&Ce.alternate===null&&t(j,te),w=u(Ce,w,ve),Oe===null?le=Ce:Oe.sibling=Ce,Oe=Ce,te=Te}if(ve===A.length)return a(j,te),Ae&&Ta(j,ve),le;if(te===null){for(;ve<A.length;ve++)te=q(j,A[ve],B),te!==null&&(w=u(te,w,ve),Oe===null?le=te:Oe.sibling=te,Oe=te);return Ae&&Ta(j,ve),le}for(te=s(te);ve<A.length;ve++)Te=z(te,j,ve,A[ve],B),Te!==null&&(e&&Te.alternate!==null&&te.delete(Te.key===null?ve:Te.key),w=u(Te,w,ve),Oe===null?le=Te:Oe.sibling=Te,Oe=Te);return e&&te.forEach(function(mn){return t(j,mn)}),Ae&&Ta(j,ve),le}function re(j,w,A,B){if(A==null)throw Error(r(151));for(var le=null,Oe=null,te=w,ve=w=0,Te=null,Ce=A.next();te!==null&&!Ce.done;ve++,Ce=A.next()){te.index>ve?(Te=te,te=null):Te=te.sibling;var mn=R(j,te,Ce.value,B);if(mn===null){te===null&&(te=Te);break}e&&te&&mn.alternate===null&&t(j,te),w=u(mn,w,ve),Oe===null?le=mn:Oe.sibling=mn,Oe=mn,te=Te}if(Ce.done)return a(j,te),Ae&&Ta(j,ve),le;if(te===null){for(;!Ce.done;ve++,Ce=A.next())Ce=q(j,Ce.value,B),Ce!==null&&(w=u(Ce,w,ve),Oe===null?le=Ce:Oe.sibling=Ce,Oe=Ce);return Ae&&Ta(j,ve),le}for(te=s(te);!Ce.done;ve++,Ce=A.next())Ce=z(te,j,ve,Ce.value,B),Ce!==null&&(e&&Ce.alternate!==null&&te.delete(Ce.key===null?ve:Ce.key),w=u(Ce,w,ve),Oe===null?le=Ce:Oe.sibling=Ce,Oe=Ce);return e&&te.forEach(function(Ug){return t(j,Ug)}),Ae&&Ta(j,ve),le}function qe(j,w,A,B){if(typeof A=="object"&&A!==null&&A.type===E&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case T:e:{for(var le=A.key;w!==null;){if(w.key===le){if(le=A.type,le===E){if(w.tag===7){a(j,w.sibling),B=o(w,A.props.children),B.return=j,j=B;break e}}else if(w.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===we&&kn(le)===w.type){a(j,w.sibling),B=o(w,A.props),dl(B,A),B.return=j,j=B;break e}a(j,w);break}else t(j,w);w=w.sibling}A.type===E?(B=Nn(A.props.children,j.mode,B,A.key),B.return=j,j=B):(B=mi(A.type,A.key,A.props,null,j.mode,B),dl(B,A),B.return=j,j=B)}return m(j);case k:e:{for(le=A.key;w!==null;){if(w.key===le)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){a(j,w.sibling),B=o(w,A.children||[]),B.return=j,j=B;break e}else{a(j,w);break}else t(j,w);w=w.sibling}B=eo(A,j.mode,B),B.return=j,j=B}return m(j);case we:return A=kn(A),qe(j,w,A,B)}if(P(A))return W(j,w,A,B);if($e(A)){if(le=$e(A),typeof le!="function")throw Error(r(150));return A=le.call(A),re(j,w,A,B)}if(typeof A.then=="function")return qe(j,w,_i(A),B);if(A.$$typeof===H)return qe(j,w,yi(j,A),B);wi(j,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,w!==null&&w.tag===6?(a(j,w.sibling),B=o(w,A),B.return=j,j=B):(a(j,w),B=Wr(A,j.mode,B),B.return=j,j=B),m(j)):a(j,w)}return function(j,w,A,B){try{cl=0;var le=qe(j,w,A,B);return ys=null,le}catch(te){if(te===gs||te===bi)throw te;var Oe=Lt(29,te,null,j.mode);return Oe.lanes=B,Oe.return=j,Oe}}}var Dn=Ed(!0),Td=Ed(!1),Ia=!1;function fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ke&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=fi(e),ud(e,null,a),t}return hi(e,s,t,a),fi(e)}function hl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,yc(e,a)}}function po(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var go=!1;function fl(){if(go){var e=ps;if(e!==null)throw e}}function ml(e,t,a,s){go=!1;var o=e.updateQueue;Ia=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var b=y,O=b.next;b.next=null,m===null?u=O:m.next=O,m=b;var U=e.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==m&&(y===null?U.firstBaseUpdate=O:y.next=O,U.lastBaseUpdate=b))}if(u!==null){var q=o.baseState;m=0,U=O=b=null,y=u;do{var R=y.lane&-536870913,z=R!==y.lane;if(z?(Ee&R)===R:(s&R)===R){R!==0&&R===ms&&(go=!0),U!==null&&(U=U.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var W=e,re=y;R=t;var qe=a;switch(re.tag){case 1:if(W=re.payload,typeof W=="function"){q=W.call(qe,q,R);break e}q=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=re.payload,R=typeof W=="function"?W.call(qe,q,R):W,R==null)break e;q=S({},q,R);break e;case 2:Ia=!0}}R=y.callback,R!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[R]:z.push(R))}else z={lane:R,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(O=U=z,b=q):U=U.next=z,m|=R;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;z=y,y=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);U===null&&(b=q),o.baseState=b,o.firstBaseUpdate=O,o.lastBaseUpdate=U,u===null&&(o.shared.lanes=0),nn|=m,e.lanes=m,e.memoizedState=q}}function Nd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Ad(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Nd(a[e],t)}var vs=_(null),Si=_(0);function Od(e,t){e=Ba,X(Si,e),X(vs,t),Ba=e|t.baseLanes}function yo(){X(Si,Ba),X(vs,vs.current)}function vo(){Ba=Si.current,M(vs),M(Si)}var qt=_(null),aa=null;function Wa(e){var t=e.alternate;X(et,et.current&1),X(qt,e),aa===null&&(t===null||vs.current!==null||t.memoizedState!==null)&&(aa=e)}function bo(e){X(et,et.current),X(qt,e),aa===null&&(aa=e)}function Cd(e){e.tag===22?(X(et,et.current),X(qt,e),aa===null&&(aa=e)):en()}function en(){X(et,et.current),X(qt,qt.current)}function $t(e){M(qt),aa===e&&(aa=null),M(et)}var et=_(0);function ji(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Eu(a)||Tu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oa=0,ye=null,Be=null,st=null,Ei=!1,bs=!1,Un=!1,Ti=0,pl=0,xs=null,Ep=0;function Ie(){throw Error(r(321))}function xo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Bt(e[a],t[a]))return!1;return!0}function _o(e,t,a,s,o,u){return Oa=u,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?fh:Mo,Un=!1,u=a(s,o),Un=!1,bs&&(u=kd(t,a,s,o)),Rd(e),u}function Rd(e){C.H=vl;var t=Be!==null&&Be.next!==null;if(Oa=0,st=Be=ye=null,Ei=!1,pl=0,xs=null,t)throw Error(r(300));e===null||lt||(e=e.dependencies,e!==null&&gi(e)&&(lt=!0))}function kd(e,t,a,s){ye=e;var o=0;do{if(bs&&(xs=null),pl=0,bs=!1,25<=o)throw Error(r(301));if(o+=1,st=Be=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}C.H=mh,u=t(a,s)}while(bs);return u}function Tp(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?gl(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(ye.flags|=1024),t}function wo(){var e=Ti!==0;return Ti=0,e}function So(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function jo(e){if(Ei){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ei=!1}Oa=0,st=Be=ye=null,bs=!1,pl=Ti=0,xs=null}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ye.memoizedState=st=e:st=st.next=e,st}function tt(){if(Be===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=st===null?ye.memoizedState:st.next;if(t!==null)st=t,Be=e;else{if(e===null)throw ye.alternate===null?Error(r(467)):Error(r(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},st===null?ye.memoizedState=st=e:st=st.next=e}return st}function Ni(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var t=pl;return pl+=1,xs===null&&(xs=[]),e=wd(xs,e,t),t=ye,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?fh:Mo),e}function Ai(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===H)return vt(e)}throw Error(r(438,String(e)))}function Eo(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ni(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=at;return t.index++,a}function Ca(e,t){return typeof t=="function"?t(e):t}function Oi(e){var t=tt();return To(t,Be,e)}function To(e,t,a){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var y=m=null,b=null,O=t,U=!1;do{var q=O.lane&-536870913;if(q!==O.lane?(Ee&q)===q:(Oa&q)===q){var R=O.revertLane;if(R===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),q===ms&&(U=!0);else if((Oa&R)===R){O=O.next,R===ms&&(U=!0);continue}else q={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(y=b=q,m=u):b=b.next=q,ye.lanes|=R,nn|=R;q=O.action,Un&&a(u,q),u=O.hasEagerState?O.eagerState:a(u,q)}else R={lane:q,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(y=b=R,m=u):b=b.next=R,ye.lanes|=q,nn|=q;O=O.next}while(O!==null&&O!==t);if(b===null?m=u:b.next=y,!Bt(u,e.memoizedState)&&(lt=!0,U&&(a=ps,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=b,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function No(e){var t=tt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);Bt(u,t.memoizedState)||(lt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function zd(e,t,a){var s=ye,o=tt(),u=Ae;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!Bt((Be||o).memoizedState,a);if(m&&(o.memoizedState=a,lt=!0),o=o.queue,Co(Md.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,_s(9,{destroy:void 0},Ud.bind(null,s,o,a,t),null),Ve===null)throw Error(r(349));u||(Oa&127)!==0||Dd(s,t,a)}return a}function Dd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=Ni(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ud(e,t,a,s){t.value=a,t.getSnapshot=s,Bd(t)&&Ld(e)}function Md(e,t,a){return a(function(){Bd(t)&&Ld(e)})}function Bd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Bt(e,a)}catch{return!0}}function Ld(e){var t=Tn(e,2);t!==null&&Mt(t,e,2)}function Ao(e){var t=At();if(typeof e=="function"){var a=e;if(e=a(),Un){L(!0);try{a()}finally{L(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function qd(e,t,a,s){return e.baseState=a,To(e,Be,typeof s=="function"?s:Ca)}function Np(e,t,a,s,o){if(ki(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};C.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,$d(t,u)):(u.next=a.next,t.pending=a.next=u)}}function $d(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=C.T,m={};C.T=m;try{var y=a(o,s),b=C.S;b!==null&&b(m,y),Hd(e,t,y)}catch(O){Oo(e,t,O)}finally{u!==null&&m.types!==null&&(u.types=m.types),C.T=u}}else try{u=a(o,s),Hd(e,t,u)}catch(O){Oo(e,t,O)}}function Hd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Gd(e,t,s)},function(s){return Oo(e,t,s)}):Gd(e,t,a)}function Gd(e,t,a){t.status="fulfilled",t.value=a,Vd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,$d(e,a)))}function Oo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Vd(t),t=t.next;while(t!==s)}e.action=null}function Vd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yd(e,t){return t}function Kd(e,t){if(Ae){var a=Ve.formState;if(a!==null){e:{var s=ye;if(Ae){if(Xe){t:{for(var o=Xe,u=ta;o.nodeType!==8;){if(!u){o=null;break t}if(o=na(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Xe=na(o.nextSibling),s=o.data==="F!";break e}}Ja(s)}s=!1}s&&(t=a[0])}}return a=At(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:t},a.queue=s,a=ch.bind(null,ye,s),s.dispatch=a,s=Ao(!1),u=Uo.bind(null,ye,!1,s.queue),s=At(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Np.bind(null,ye,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Xd(e){var t=tt();return Qd(t,Be,e)}function Qd(e,t,a){if(t=To(e,t,Yd)[0],e=Oi(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=gl(t)}catch(m){throw m===gs?bi:m}else s=t;t=tt();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,_s(9,{destroy:void 0},Ap.bind(null,o,a),null)),[s,u,e]}function Ap(e,t){e.action=t}function Jd(e){var t=tt(),a=Be;if(a!==null)return Qd(t,a,e);tt(),t=t.memoizedState,a=tt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function _s(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Ni(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Zd(){return tt().memoizedState}function Ci(e,t,a,s){var o=At();ye.flags|=e,o.memoizedState=_s(1|t,{destroy:void 0},a,s===void 0?null:s)}function Ri(e,t,a,s){var o=tt();s=s===void 0?null:s;var u=o.memoizedState.inst;Be!==null&&s!==null&&xo(s,Be.memoizedState.deps)?o.memoizedState=_s(t,u,a,s):(ye.flags|=e,o.memoizedState=_s(1|t,u,a,s))}function Id(e,t){Ci(8390656,8,e,t)}function Co(e,t){Ri(2048,8,e,t)}function Op(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=Ni(),ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Pd(e){var t=tt().memoizedState;return Op({ref:t,nextImpl:e}),function(){if((ke&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Fd(e,t){return Ri(4,2,e,t)}function Wd(e,t){return Ri(4,4,e,t)}function eh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function th(e,t,a){a=a!=null?a.concat([e]):null,Ri(4,4,eh.bind(null,t,e),a)}function Ro(){}function ah(e,t){var a=tt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&xo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function nh(e,t){var a=tt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&xo(t,s[1]))return s[0];if(s=e(),Un){L(!0);try{e()}finally{L(!1)}}return a.memoizedState=[s,t],s}function ko(e,t,a){return a===void 0||(Oa&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=sf(),ye.lanes|=e,nn|=e,a)}function sh(e,t,a,s){return Bt(a,t)?a:vs.current!==null?(e=ko(e,a,s),Bt(e,t)||(lt=!0),e):(Oa&42)===0||(Oa&1073741824)!==0&&(Ee&261930)===0?(lt=!0,e.memoizedState=a):(e=sf(),ye.lanes|=e,nn|=e,t)}function lh(e,t,a,s,o){var u=D.p;D.p=u!==0&&8>u?u:8;var m=C.T,y={};C.T=y,Uo(e,!1,t,a);try{var b=o(),O=C.S;if(O!==null&&O(y,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=jp(b,s);yl(e,t,U,Vt(e))}else yl(e,t,s,Vt(e))}catch(q){yl(e,t,{then:function(){},status:"rejected",reason:q},Vt())}finally{D.p=u,m!==null&&y.types!==null&&(m.types=y.types),C.T=m}}function Cp(){}function zo(e,t,a,s){if(e.tag!==5)throw Error(r(476));var o=ih(e).queue;lh(e,o,t,V,a===null?Cp:function(){return rh(e),a(s)})}function ih(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:V},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rh(e){var t=ih(e);t.next===null&&(t=e.alternate.memoizedState),yl(e,t.next.queue,{},Vt())}function Do(){return vt(Dl)}function oh(){return tt().memoizedState}function uh(){return tt().memoizedState}function Rp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Vt();e=Pa(a);var s=Fa(t,e,a);s!==null&&(Mt(s,t,a),hl(s,t,a)),t={cache:oo()},e.payload=t;return}t=t.return}}function kp(e,t,a){var s=Vt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ki(e)?dh(t,a):(a=Pr(e,t,a,s),a!==null&&(Mt(a,e,s),hh(a,t,s)))}function ch(e,t,a){var s=Vt();yl(e,t,a,s)}function yl(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ki(e))dh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,y=u(m,a);if(o.hasEagerState=!0,o.eagerState=y,Bt(y,m))return hi(e,t,o,0),Ve===null&&di(),!1}catch{}if(a=Pr(e,t,o,s),a!==null)return Mt(a,e,s),hh(a,t,s),!0}return!1}function Uo(e,t,a,s){if(s={lane:2,revertLane:fu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ki(e)){if(t)throw Error(r(479))}else t=Pr(e,a,s,2),t!==null&&Mt(t,e,2)}function ki(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function dh(e,t){bs=Ei=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function hh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,yc(e,a)}}var vl={readContext:vt,use:Ai,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};vl.useEffectEvent=Ie;var fh={readContext:vt,use:Ai,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Id,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ci(4194308,4,eh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){Ci(4,2,e,t)},useMemo:function(e,t){var a=At();t=t===void 0?null:t;var s=e();if(Un){L(!0);try{e()}finally{L(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=At();if(a!==void 0){var o=a(t);if(Un){L(!0);try{a(t)}finally{L(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=kp.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:function(e){e=Ao(e);var t=e.queue,a=ch.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ro,useDeferredValue:function(e,t){var a=At();return ko(a,e,t)},useTransition:function(){var e=Ao(!1);return e=lh.bind(null,ye,e.queue,!0,!1),At().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ye,o=At();if(Ae){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ve===null)throw Error(r(349));(Ee&127)!==0||Dd(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,Id(Md.bind(null,s,u,e),[e]),s.flags|=2048,_s(9,{destroy:void 0},Ud.bind(null,s,u,a,t),null),a},useId:function(){var e=At(),t=Ve.identifierPrefix;if(Ae){var a=ga,s=pa;a=(s&~(1<<32-se(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ti++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Ep++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:Kd,useActionState:Kd,useOptimistic:function(e){var t=At();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Uo.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:Eo,useCacheRefresh:function(){return At().memoizedState=Rp.bind(null,ye)},useEffectEvent:function(e){var t=At(),a={impl:e};return t.memoizedState=a,function(){if((ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Mo={readContext:vt,use:Ai,useCallback:ah,useContext:vt,useEffect:Co,useImperativeHandle:th,useInsertionEffect:Fd,useLayoutEffect:Wd,useMemo:nh,useReducer:Oi,useRef:Zd,useState:function(){return Oi(Ca)},useDebugValue:Ro,useDeferredValue:function(e,t){var a=tt();return sh(a,Be.memoizedState,e,t)},useTransition:function(){var e=Oi(Ca)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:zd,useId:oh,useHostTransitionStatus:Do,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var a=tt();return qd(a,Be,e,t)},useMemoCache:Eo,useCacheRefresh:uh};Mo.useEffectEvent=Pd;var mh={readContext:vt,use:Ai,useCallback:ah,useContext:vt,useEffect:Co,useImperativeHandle:th,useInsertionEffect:Fd,useLayoutEffect:Wd,useMemo:nh,useReducer:No,useRef:Zd,useState:function(){return No(Ca)},useDebugValue:Ro,useDeferredValue:function(e,t){var a=tt();return Be===null?ko(a,e,t):sh(a,Be.memoizedState,e,t)},useTransition:function(){var e=No(Ca)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:zd,useId:oh,useHostTransitionStatus:Do,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,t){var a=tt();return Be!==null?qd(a,Be,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Eo,useCacheRefresh:uh};mh.useEffectEvent=Pd;function Bo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Vt(),o=Pa(s);o.payload=t,a!=null&&(o.callback=a),t=Fa(e,o,s),t!==null&&(Mt(t,e,s),hl(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Vt(),o=Pa(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Fa(e,o,s),t!==null&&(Mt(t,e,s),hl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Vt(),s=Pa(a);s.tag=2,t!=null&&(s.callback=t),t=Fa(e,s,a),t!==null&&(Mt(t,e,a),hl(t,e,a))}};function ph(e,t,a,s,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!sl(a,s)||!sl(o,u):!0}function gh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function Mn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function yh(e){ci(e)}function vh(e){}function bh(e){ci(e)}function zi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function xh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function qo(e,t,a){return a=Pa(a),a.tag=3,a.payload={element:null},a.callback=function(){zi(e,t)},a}function _h(e){return e=Pa(e),e.tag=3,e}function wh(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){xh(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){xh(t,a,s),typeof o!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function zp(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&fs(t,a,o,!0),a=qt.current,a!==null){switch(a.tag){case 31:case 13:return aa===null?Ki():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===xi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),cu(e,s,o)),!1;case 22:return a.flags|=65536,s===xi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),cu(e,s,o)),!1}throw Error(r(435,a.tag))}return cu(e,s,o),Ki(),!1}if(Ae)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==no&&(e=Error(r(422),{cause:s}),rl(Ft(e,a)))):(s!==no&&(t=Error(r(423),{cause:s}),rl(Ft(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Ft(s,a),o=qo(e.stateNode,s,o),po(e,o),Pe!==4&&(Pe=2)),!1;var u=Error(r(520),{cause:s});if(u=Ft(u,a),Tl===null?Tl=[u]:Tl.push(u),Pe!==4&&(Pe=2),t===null)return!0;s=Ft(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=qo(a.stateNode,s,e),po(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(sn===null||!sn.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=_h(o),wh(o,e,a,s),po(a,o),!1}a=a.return}while(a!==null);return!1}var $o=Error(r(461)),lt=!1;function bt(e,t,a,s){t.child=e===null?Td(t,null,a,s):Dn(t,e.child,a,s)}function Sh(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var m={};for(var y in s)y!=="ref"&&(m[y]=s[y])}else m=s;return Cn(t),s=_o(e,t,a,m,u,o),y=wo(),e!==null&&!lt?(So(e,t,o),Ra(e,t,o)):(Ae&&y&&to(t),t.flags|=1,bt(e,t,s,o),t.child)}function jh(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!Fr(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Eh(e,t,u,s,o)):(e=mi(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Jo(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(m,s)&&e.ref===t.ref)return Ra(e,t,o)}return t.flags|=1,e=Ea(u,s),e.ref=t.ref,e.return=t,t.child=e}function Eh(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(sl(u,s)&&e.ref===t.ref)if(lt=!1,t.pendingProps=s=u,Jo(e,o))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,Ra(e,t,o)}return Ho(e,t,a,s,o)}function Th(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return Nh(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vi(t,u!==null?u.cachePool:null),u!==null?Od(t,u):yo(),Cd(t);else return s=t.lanes=536870912,Nh(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(vi(t,u.cachePool),Od(t,u),en(),t.memoizedState=null):(e!==null&&vi(t,null),yo(),en());return bt(e,t,o,a),t.child}function bl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Nh(e,t,a,s,o){var u=co();return u=u===null?null:{parent:nt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&vi(t,null),yo(),Cd(t),e!==null&&fs(e,t,s,!0),t.childLanes=o,null}function Di(e,t){return t=Mi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ah(e,t,a){return Dn(t,e.child,null,a),e=Di(t,t.pendingProps),e.flags|=2,$t(t),t.memoizedState=null,e}function Dp(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=Di(t,s),t.lanes=536870912,bl(null,e);if(bo(t),(e=Xe)?(e=Hf(e,ta),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:pa,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},a=dd(e),a.return=t,t.child=a,yt=t,Xe=null)):e=null,e===null)throw Ja(t);return t.lanes=536870912,null}return Di(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(bo(t),o)if(t.flags&256)t.flags&=-257,t=Ah(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(lt||fs(e,t,a,!1),o=(a&e.childLanes)!==0,lt||o){if(s=Ve,s!==null&&(m=vc(s,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,Tn(e,m),Mt(s,e,m),$o;Ki(),t=Ah(e,t,a)}else e=u.treeContext,Xe=na(m.nextSibling),yt=t,Ae=!0,Qa=null,ta=!1,e!==null&&md(t,e),t=Di(t,s),t.flags|=4096;return t}return e=Ea(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ui(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ho(e,t,a,s,o){return Cn(t),a=_o(e,t,a,s,void 0,o),s=wo(),e!==null&&!lt?(So(e,t,o),Ra(e,t,o)):(Ae&&s&&to(t),t.flags|=1,bt(e,t,a,o),t.child)}function Oh(e,t,a,s,o,u){return Cn(t),t.updateQueue=null,a=kd(t,s,a,o),Rd(e),s=wo(),e!==null&&!lt?(So(e,t,u),Ra(e,t,u)):(Ae&&s&&to(t),t.flags|=1,bt(e,t,a,u),t.child)}function Ch(e,t,a,s,o){if(Cn(t),t.stateNode===null){var u=us,m=a.contextType;typeof m=="object"&&m!==null&&(u=vt(m)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},fo(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?vt(m):us,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Bo(t,a,m,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Lo.enqueueReplaceState(u,u.state,null),ml(t,s,u,o),fl(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var y=t.memoizedProps,b=Mn(a,y);u.props=b;var O=u.context,U=a.contextType;m=us,typeof U=="object"&&U!==null&&(m=vt(U));var q=a.getDerivedStateFromProps;U=typeof q=="function"||typeof u.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,U||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y||O!==m)&&gh(t,u,s,m),Ia=!1;var R=t.memoizedState;u.state=R,ml(t,s,u,o),fl(),O=t.memoizedState,y||R!==O||Ia?(typeof q=="function"&&(Bo(t,a,q,s),O=t.memoizedState),(b=Ia||ph(t,a,b,s,R,O,m))?(U||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=O),u.props=s,u.state=O,u.context=m,s=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,mo(e,t),m=t.memoizedProps,U=Mn(a,m),u.props=U,q=t.pendingProps,R=u.context,O=a.contextType,b=us,typeof O=="object"&&O!==null&&(b=vt(O)),y=a.getDerivedStateFromProps,(O=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==q||R!==b)&&gh(t,u,s,b),Ia=!1,R=t.memoizedState,u.state=R,ml(t,s,u,o),fl();var z=t.memoizedState;m!==q||R!==z||Ia||e!==null&&e.dependencies!==null&&gi(e.dependencies)?(typeof y=="function"&&(Bo(t,a,y,s),z=t.memoizedState),(U=Ia||ph(t,a,U,s,R,z,b)||e!==null&&e.dependencies!==null&&gi(e.dependencies))?(O||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,z,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,z,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=z),u.props=s,u.state=z,u.context=b,s=U):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Ui(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=Dn(t,e.child,null,o),t.child=Dn(t,null,a,o)):bt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=Ra(e,t,o),e}function Rh(e,t,a,s){return An(),t.flags|=256,bt(e,t,a,s),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:xd()}}function Yo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Gt),e}function kh(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(o?Wa(t):en(),(e=Xe)?(e=Hf(e,ta),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xa!==null?{id:pa,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},a=dd(e),a.return=t,t.child=a,yt=t,Xe=null)):e=null,e===null)throw Ja(t);return Tu(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,o?(en(),o=t.mode,y=Mi({mode:"hidden",children:y},o),s=Nn(s,o,a,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=Vo(a),s.childLanes=Yo(e,m,a),t.memoizedState=Go,bl(null,s)):(Wa(t),Ko(t,y))}var b=e.memoizedState;if(b!==null&&(y=b.dehydrated,y!==null)){if(u)t.flags&256?(Wa(t),t.flags&=-257,t=Xo(e,t,a)):t.memoizedState!==null?(en(),t.child=e.child,t.flags|=128,t=null):(en(),y=s.fallback,o=t.mode,s=Mi({mode:"visible",children:s.children},o),y=Nn(y,o,a,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,Dn(t,e.child,null,a),s=t.child,s.memoizedState=Vo(a),s.childLanes=Yo(e,m,a),t.memoizedState=Go,t=bl(null,s));else if(Wa(t),Tu(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var O=m.dgst;m=O,s=Error(r(419)),s.stack="",s.digest=m,rl({value:s,source:null,stack:null}),t=Xo(e,t,a)}else if(lt||fs(e,t,a,!1),m=(a&e.childLanes)!==0,lt||m){if(m=Ve,m!==null&&(s=vc(m,a),s!==0&&s!==b.retryLane))throw b.retryLane=s,Tn(e,s),Mt(m,e,s),$o;Eu(y)||Ki(),t=Xo(e,t,a)}else Eu(y)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Xe=na(y.nextSibling),yt=t,Ae=!0,Qa=null,ta=!1,e!==null&&md(t,e),t=Ko(t,s.children),t.flags|=4096);return t}return o?(en(),y=s.fallback,o=t.mode,b=e.child,O=b.sibling,s=Ea(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,O!==null?y=Ea(O,y):(y=Nn(y,o,a,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,bl(null,s),s=t.child,y=e.child.memoizedState,y===null?y=Vo(a):(o=y.cachePool,o!==null?(b=nt._currentValue,o=o.parent!==b?{parent:b,pool:b}:o):o=xd(),y={baseLanes:y.baseLanes|a,cachePool:o}),s.memoizedState=y,s.childLanes=Yo(e,m,a),t.memoizedState=Go,bl(e.child,s)):(Wa(t),a=e.child,e=a.sibling,a=Ea(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Ko(e,t){return t=Mi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Mi(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function Xo(e,t,a){return Dn(t,e.child,null,a),e=Ko(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),io(e.return,t,a)}function Qo(e,t,a,s,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function Dh(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var m=et.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,X(et,m),bt(e,t,s,a),s=Ae?il:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zh(e,a,t);else if(e.tag===19)zh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&ji(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Qo(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ji(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Qo(t,!0,a,null,u,s);break;case"together":Qo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Ra(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(fs(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Ea(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ea(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Jo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gi(e)))}function Up(e,t,a){switch(t.tag){case 3:ut(t,t.stateNode.containerInfo),Za(t,nt,e.memoizedState.cache),An();break;case 27:case 5:ba(t);break;case 4:ut(t,t.stateNode.containerInfo);break;case 10:Za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Wa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?kh(e,t,a):(Wa(t),e=Ra(e,t,a),e!==null?e.sibling:null);Wa(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(fs(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Dh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(et,et.current),s)break;return null;case 22:return t.lanes=0,Th(e,t,a,t.pendingProps);case 24:Za(t,nt,e.memoizedState.cache)}return Ra(e,t,a)}function Uh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!Jo(e,a)&&(t.flags&128)===0)return lt=!1,Up(e,t,a);lt=(e.flags&131072)!==0}else lt=!1,Ae&&(t.flags&1048576)!==0&&fd(t,il,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=kn(t.elementType),t.type=e,typeof e=="function")Fr(e)?(s=Mn(e,s),t.tag=1,t=Ch(null,t,e,s,a)):(t.tag=0,t=Ho(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===Z){t.tag=11,t=Sh(null,t,e,s,a);break e}else if(o===Q){t.tag=14,t=jh(null,t,e,s,a);break e}}throw t=oe(e)||e,Error(r(306,t,""))}}return t;case 0:return Ho(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=Mn(s,t.pendingProps),Ch(e,t,s,o,a);case 3:e:{if(ut(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,mo(e,t),ml(t,s,null,a);var m=t.memoizedState;if(s=m.cache,Za(t,nt,s),s!==u.cache&&ro(t,[nt],a,!0),fl(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Rh(e,t,s,a);break e}else if(s!==o){o=Ft(Error(r(424)),t),rl(o),t=Rh(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xe=na(e.firstChild),yt=t,Ae=!0,Qa=null,ta=!0,a=Td(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(An(),s===o){t=Ra(e,t,a);break e}bt(e,t,s,a)}t=t.child}return t;case 26:return Ui(e,t),e===null?(a=Qf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ae||(a=t.type,e=t.pendingProps,s=Fi(he.current).createElement(a),s[gt]=t,s[Ct]=e,xt(s,a,e),ft(s),t.stateNode=s):t.memoizedState=Qf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ba(t),e===null&&Ae&&(s=t.stateNode=Yf(t.type,t.pendingProps,he.current),yt=t,ta=!0,o=Xe,un(t.type)?(Nu=o,Xe=na(s.firstChild)):Xe=o),bt(e,t,t.pendingProps.children,a),Ui(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((o=s=Xe)&&(s=dg(s,t.type,t.pendingProps,ta),s!==null?(t.stateNode=s,yt=t,Xe=na(s.firstChild),ta=!1,o=!0):o=!1),o||Ja(t)),ba(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,wu(o,u)?s=null:m!==null&&wu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=_o(e,t,Tp,null,null,a),Dl._currentValue=o),Ui(e,t),bt(e,t,s,a),t.child;case 6:return e===null&&Ae&&((e=a=Xe)&&(a=hg(a,t.pendingProps,ta),a!==null?(t.stateNode=a,yt=t,Xe=null,e=!0):e=!1),e||Ja(t)),null;case 13:return kh(e,t,a);case 4:return ut(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Dn(t,null,s,a):bt(e,t,s,a),t.child;case 11:return Sh(e,t,t.type,t.pendingProps,a);case 7:return bt(e,t,t.pendingProps,a),t.child;case 8:return bt(e,t,t.pendingProps.children,a),t.child;case 12:return bt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Za(t,t.type,s.value),bt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Cn(t),o=vt(o),s=s(o),t.flags|=1,bt(e,t,s,a),t.child;case 14:return jh(e,t,t.type,t.pendingProps,a);case 15:return Eh(e,t,t.type,t.pendingProps,a);case 19:return Dh(e,t,a);case 31:return Dp(e,t,a);case 22:return Th(e,t,a,t.pendingProps);case 24:return Cn(t),s=vt(nt),e===null?(o=co(),o===null&&(o=Ve,u=oo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},fo(t),Za(t,nt,o)):((e.lanes&a)!==0&&(mo(e,t),ml(t,null,null,a),fl()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Za(t,nt,s)):(s=u.cache,Za(t,nt,s),s!==o.cache&&ro(t,[nt],a,!0))),bt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ka(e){e.flags|=4}function Zo(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(uf())e.flags|=8192;else throw zn=xi,ho}else e.flags&=-16777217}function Mh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ff(t))if(uf())e.flags|=8192;else throw zn=xi,ho}function Bi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Jn():536870912,e.lanes|=t,Es|=t)}function xl(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Mp(e,t,a){var s=t.pendingProps;switch(ao(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Aa(nt),He(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hs(t)?ka(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,so())),Qe(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ka(t),u!==null?(Qe(t),Mh(t,u)):(Qe(t),Zo(t,o,null,s,a))):u?u!==e.memoizedState?(ka(t),Qe(t),Mh(t,u)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ka(t),Qe(t),Zo(t,o,e,s,a)),null;case 27:if(St(t),a=he.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ka(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Qe(t),null}e=F.current,hs(t)?pd(t):(e=Yf(o,s,a),t.stateNode=e,ka(t))}return Qe(t),null;case 5:if(St(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ka(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Qe(t),null}if(u=F.current,hs(t))pd(t);else{var m=Fi(he.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}u[gt]=t,u[Ct]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(xt(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ka(t)}}return Qe(t),Zo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ka(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=he.current,hs(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=yt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[gt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||zf(e.nodeValue,a)),e||Ja(t,!0)}else e=Fi(e).createTextNode(s),e[gt]=t,t.stateNode=e}return Qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=hs(t),a!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[gt]=t}else An(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else a=so(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?($t(t),t):($t(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Qe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=hs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[gt]=t}else An(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),o=!1}else o=so(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?($t(t),t):($t(t),null)}return $t(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Bi(t,t.updateQueue),Qe(t),null);case 4:return He(),e===null&&yu(t.stateNode.containerInfo),Qe(t),null;case 10:return Aa(t.type),Qe(t),null;case 19:if(M(et),s=t.memoizedState,s===null)return Qe(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)xl(s,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=ji(e),u!==null){for(t.flags|=128,xl(s,!1),e=u.updateQueue,t.updateQueue=e,Bi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)cd(a,e),a=a.sibling;return X(et,et.current&1|2),Ae&&Ta(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&_e()>Gi&&(t.flags|=128,o=!0,xl(s,!1),t.lanes=4194304)}else{if(!o)if(e=ji(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Bi(t,e),xl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Ae)return Qe(t),null}else 2*_e()-s.renderingStartTime>Gi&&a!==536870912&&(t.flags|=128,o=!0,xl(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_e(),e.sibling=null,a=et.current,X(et,o?a&1|2:a&1),Ae&&Ta(t,s.treeForkCount),e):(Qe(t),null);case 22:case 23:return $t(t),vo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),a=t.updateQueue,a!==null&&Bi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&M(Rn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Aa(nt),Qe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Bp(e,t){switch(ao(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Aa(nt),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return St(t),null;case 31:if(t.memoizedState!==null){if($t(t),t.alternate===null)throw Error(r(340));An()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));An()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(et),null;case 4:return He(),null;case 10:return Aa(t.type),null;case 22:case 23:return $t(t),vo(),e!==null&&M(Rn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Aa(nt),null;case 25:return null;default:return null}}function Bh(e,t){switch(ao(t),t.tag){case 3:Aa(nt),He();break;case 26:case 27:case 5:St(t);break;case 4:He();break;case 31:t.memoizedState!==null&&$t(t);break;case 13:$t(t);break;case 19:M(et);break;case 10:Aa(t.type);break;case 22:case 23:$t(t),vo(),e!==null&&M(Rn);break;case 24:Aa(nt)}}function _l(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,m=a.inst;s=u(),m.destroy=s}a=a.next}while(a!==o)}}catch(y){Ue(t,t.return,y)}}function tn(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var m=s.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,o=t;var b=a,O=y;try{O()}catch(U){Ue(o,b,U)}}}s=s.next}while(s!==u)}}catch(U){Ue(t,t.return,U)}}function Lh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ad(t,a)}catch(s){Ue(e,e.return,s)}}}function qh(e,t,a){a.props=Mn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ue(e,t,s)}}function wl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Ue(e,t,o)}}function ya(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ue(e,t,o)}else a.current=null}function $h(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ue(e,e.return,o)}}function Io(e,t,a){try{var s=e.stateNode;lg(s,e.type,a,t),s[Ct]=t}catch(o){Ue(e,e.return,o)}}function Hh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&un(e.type)||e.tag===4}function Po(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&un(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Sa));else if(s!==4&&(s===27&&un(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Fo(e,t,a),e=e.sibling;e!==null;)Fo(e,t,a),e=e.sibling}function Li(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&un(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Li(e,t,a),e=e.sibling;e!==null;)Li(e,t,a),e=e.sibling}function Gh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);xt(t,s,a),t[gt]=e,t[Ct]=a}catch(u){Ue(e,e.return,u)}}var za=!1,it=!1,Wo=!1,Vh=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Lp(e,t){if(e=e.containerInfo,xu=lr,e=td(e),Kr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,y=-1,b=-1,O=0,U=0,q=e,R=null;t:for(;;){for(var z;q!==a||o!==0&&q.nodeType!==3||(y=m+o),q!==u||s!==0&&q.nodeType!==3||(b=m+s),q.nodeType===3&&(m+=q.nodeValue.length),(z=q.firstChild)!==null;)R=q,q=z;for(;;){if(q===e)break t;if(R===a&&++O===o&&(y=m),R===u&&++U===s&&(b=m),(z=q.nextSibling)!==null)break;q=R,R=q.parentNode}q=z}a=y===-1||b===-1?null:{start:y,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(_u={focusedElem:e,selectionRange:a},lr=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){switch(t=mt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var W=Mn(a.type,o);e=s.getSnapshotBeforeUpdate(W,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(re){Ue(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ju(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}}function Yh(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Ua(e,a),s&4&&_l(5,a);break;case 1:if(Ua(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Ue(a,a.return,m)}else{var o=Mn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ue(a,a.return,m)}}s&64&&Lh(a),s&512&&wl(a,a.return);break;case 3:if(Ua(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ad(e,t)}catch(m){Ue(a,a.return,m)}}break;case 27:t===null&&s&4&&Gh(a);case 26:case 5:Ua(e,a),t===null&&s&4&&$h(a),s&512&&wl(a,a.return);break;case 12:Ua(e,a);break;case 31:Ua(e,a),s&4&&Qh(e,a);break;case 13:Ua(e,a),s&4&&Jh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Qp.bind(null,a),fg(e,a))));break;case 22:if(s=a.memoizedState!==null||za,!s){t=t!==null&&t.memoizedState!==null||it,o=za;var u=it;za=s,(it=t)&&!u?Ma(e,a,(a.subtreeFlags&8772)!==0):Ua(e,a),za=o,it=u}break;case 30:break;default:Ua(e,a)}}function Kh(e){var t=e.alternate;t!==null&&(e.alternate=null,Kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ar(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,kt=!1;function Da(e,t,a){for(a=a.child;a!==null;)Xh(e,t,a),a=a.sibling}function Xh(e,t,a){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(_n,a)}catch{}switch(a.tag){case 26:it||ya(a,t),Da(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||ya(a,t);var s=Je,o=kt;un(a.type)&&(Je=a.stateNode,kt=!1),Da(e,t,a),Rl(a.stateNode),Je=s,kt=o;break;case 5:it||ya(a,t);case 6:if(s=Je,o=kt,Je=null,Da(e,t,a),Je=s,kt=o,Je!==null)if(kt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(u){Ue(a,t,u)}else try{Je.removeChild(a.stateNode)}catch(u){Ue(a,t,u)}break;case 18:Je!==null&&(kt?(e=Je,qf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zs(e)):qf(Je,a.stateNode));break;case 4:s=Je,o=kt,Je=a.stateNode.containerInfo,kt=!0,Da(e,t,a),Je=s,kt=o;break;case 0:case 11:case 14:case 15:tn(2,a,t),it||tn(4,a,t),Da(e,t,a);break;case 1:it||(ya(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&qh(a,t,s)),Da(e,t,a);break;case 21:Da(e,t,a);break;case 22:it=(s=it)||a.memoizedState!==null,Da(e,t,a),it=s;break;default:Da(e,t,a)}}function Qh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zs(e)}catch(a){Ue(t,t.return,a)}}}function Jh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zs(e)}catch(a){Ue(t,t.return,a)}}function qp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vh),t;default:throw Error(r(435,e.tag))}}function qi(e,t){var a=qp(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=Jp.bind(null,e,s);s.then(o,o)}})}function zt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(un(y.type)){Je=y.stateNode,kt=!1;break e}break;case 5:Je=y.stateNode,kt=!1;break e;case 3:case 4:Je=y.stateNode.containerInfo,kt=!0;break e}y=y.return}if(Je===null)throw Error(r(160));Xh(u,m,o),Je=null,kt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Zh(t,e),t=t.sibling}var ua=null;function Zh(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Dt(e),s&4&&(tn(3,e,e.return),_l(3,e),tn(5,e,e.return));break;case 1:zt(t,e),Dt(e),s&512&&(it||a===null||ya(a,a.return)),s&64&&za&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=ua;if(zt(t,e),Dt(e),s&512&&(it||a===null||ya(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Zs]||u[gt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),xt(u,s,a),u[gt]=e,ft(u),s=u;break e;case"link":var m=If("link","href",o).get(s+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(u=m[y],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}u=o.createElement(s),xt(u,s,a),o.head.appendChild(u);break;case"meta":if(m=If("meta","content",o).get(s+(a.content||""))){for(y=0;y<m.length;y++)if(u=m[y],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}u=o.createElement(s),xt(u,s,a),o.head.appendChild(u);break;default:throw Error(r(468,s))}u[gt]=e,ft(u),s=u}e.stateNode=s}else Pf(o,e.type,e.stateNode);else e.stateNode=Zf(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?Pf(o,e.type,e.stateNode):Zf(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Io(e,e.memoizedProps,a.memoizedProps)}break;case 27:zt(t,e),Dt(e),s&512&&(it||a===null||ya(a,a.return)),a!==null&&s&4&&Io(e,e.memoizedProps,a.memoizedProps);break;case 5:if(zt(t,e),Dt(e),s&512&&(it||a===null||ya(a,a.return)),e.flags&32){o=e.stateNode;try{as(o,"")}catch(W){Ue(e,e.return,W)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Io(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Wo=!0);break;case 6:if(zt(t,e),Dt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(W){Ue(e,e.return,W)}}break;case 3:if(tr=null,o=ua,ua=Wi(t.containerInfo),zt(t,e),ua=o,Dt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(W){Ue(e,e.return,W)}Wo&&(Wo=!1,Ih(e));break;case 4:s=ua,ua=Wi(e.stateNode.containerInfo),zt(t,e),Dt(e),ua=s;break;case 12:zt(t,e),Dt(e);break;case 31:zt(t,e),Dt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,qi(e,s)));break;case 13:zt(t,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hi=_e()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,qi(e,s)));break;case 22:o=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,O=za,U=it;if(za=O||o,it=U||b,zt(t,e),it=U,za=O,Dt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||b||za||it||Bn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(u=b.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=b.stateNode;var q=b.memoizedProps.style,R=q!=null&&q.hasOwnProperty("display")?q.display:null;y.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(W){Ue(b,b.return,W)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(W){Ue(b,b.return,W)}}}else if(t.tag===18){if(a===null){b=t;try{var z=b.stateNode;o?$f(z,!0):$f(b.stateNode,!1)}catch(W){Ue(b,b.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,qi(e,a))));break;case 19:zt(t,e),Dt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,qi(e,s)));break;case 30:break;case 21:break;default:zt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Hh(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,u=Po(e);Li(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(as(m,""),a.flags&=-33);var y=Po(e);Li(e,y,m);break;case 3:case 4:var b=a.stateNode.containerInfo,O=Po(e);Fo(e,O,b);break;default:throw Error(r(161))}}catch(U){Ue(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ih(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ih(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Yh(e,t.alternate,t),t=t.sibling}function Bn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:tn(4,t,t.return),Bn(t);break;case 1:ya(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&qh(t,t.return,a),Bn(t);break;case 27:Rl(t.stateNode);case 26:case 5:ya(t,t.return),Bn(t);break;case 22:t.memoizedState===null&&Bn(t);break;case 30:Bn(t);break;default:Bn(t)}e=e.sibling}}function Ma(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Ma(o,u,a),_l(4,u);break;case 1:if(Ma(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(O){Ue(s,s.return,O)}if(s=u,o=s.updateQueue,o!==null){var y=s.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)Nd(b[o],y)}catch(O){Ue(s,s.return,O)}}a&&m&64&&Lh(u),wl(u,u.return);break;case 27:Gh(u);case 26:case 5:Ma(o,u,a),a&&s===null&&m&4&&$h(u),wl(u,u.return);break;case 12:Ma(o,u,a);break;case 31:Ma(o,u,a),a&&m&4&&Qh(o,u);break;case 13:Ma(o,u,a),a&&m&4&&Jh(o,u);break;case 22:u.memoizedState===null&&Ma(o,u,a),wl(u,u.return);break;case 30:break;default:Ma(o,u,a)}t=t.sibling}}function eu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ol(a))}function tu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ol(e))}function ca(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ph(e,t,a,s),t=t.sibling}function Ph(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ca(e,t,a,s),o&2048&&_l(9,t);break;case 1:ca(e,t,a,s);break;case 3:ca(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ol(e)));break;case 12:if(o&2048){ca(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,y=u.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ue(t,t.return,b)}}else ca(e,t,a,s);break;case 31:ca(e,t,a,s);break;case 13:ca(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?ca(e,t,a,s):Sl(e,t):u._visibility&2?ca(e,t,a,s):(u._visibility|=2,ws(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&eu(m,t);break;case 24:ca(e,t,a,s),o&2048&&tu(t.alternate,t);break;default:ca(e,t,a,s)}}function ws(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,y=a,b=s,O=m.flags;switch(m.tag){case 0:case 11:case 15:ws(u,m,y,b,o),_l(8,m);break;case 23:break;case 22:var U=m.stateNode;m.memoizedState!==null?U._visibility&2?ws(u,m,y,b,o):Sl(u,m):(U._visibility|=2,ws(u,m,y,b,o)),o&&O&2048&&eu(m.alternate,m);break;case 24:ws(u,m,y,b,o),o&&O&2048&&tu(m.alternate,m);break;default:ws(u,m,y,b,o)}t=t.sibling}}function Sl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:Sl(a,s),o&2048&&eu(s.alternate,s);break;case 24:Sl(a,s),o&2048&&tu(s.alternate,s);break;default:Sl(a,s)}t=t.sibling}}var jl=8192;function Ss(e,t,a){if(e.subtreeFlags&jl)for(e=e.child;e!==null;)Fh(e,t,a),e=e.sibling}function Fh(e,t,a){switch(e.tag){case 26:Ss(e,t,a),e.flags&jl&&e.memoizedState!==null&&Eg(a,ua,e.memoizedState,e.memoizedProps);break;case 5:Ss(e,t,a);break;case 3:case 4:var s=ua;ua=Wi(e.stateNode.containerInfo),Ss(e,t,a),ua=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=jl,jl=16777216,Ss(e,t,a),jl=s):Ss(e,t,a));break;default:Ss(e,t,a)}}function Wh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function El(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];mt=s,tf(s,e)}Wh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ef(e),e=e.sibling}function ef(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&tn(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$i(e)):El(e);break;default:El(e)}}function $i(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];mt=s,tf(s,e)}Wh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:tn(8,t,t.return),$i(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,$i(t));break;default:$i(t)}e=e.sibling}}function tf(e,t){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:tn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ol(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,mt=s;else e:for(a=e;mt!==null;){s=mt;var o=s.sibling,u=s.return;if(Kh(s),s===a){mt=null;break e}if(o!==null){o.return=u,mt=o;break e}mt=u}}}var $p={getCacheForType:function(e){var t=vt(nt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return vt(nt).controller.signal}},Hp=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ve=null,Se=null,Ee=0,De=0,Ht=null,an=!1,js=!1,au=!1,Ba=0,Pe=0,nn=0,Ln=0,nu=0,Gt=0,Es=0,Tl=null,Ut=null,su=!1,Hi=0,af=0,Gi=1/0,Vi=null,sn=null,dt=0,ln=null,Ts=null,La=0,lu=0,iu=null,nf=null,Nl=0,ru=null;function Vt(){return(ke&2)!==0&&Ee!==0?Ee&-Ee:C.T!==null?fu():bc()}function sf(){if(Gt===0)if((Ee&536870912)===0||Ae){var e=Qt;Qt<<=1,(Qt&3932160)===0&&(Qt=262144),Gt=e}else Gt=536870912;return e=qt.current,e!==null&&(e.flags|=32),Gt}function Mt(e,t,a){(e===Ve&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Ns(e,0),rn(e,Ee,Gt,!1)),_a(e,a),((ke&2)===0||e!==Ve)&&(e===Ve&&((ke&2)===0&&(Ln|=a),Pe===4&&rn(e,Ee,Gt,!1)),va(e))}function lf(e,t,a){if((ke&6)!==0)throw Error(r(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ma(e,t),o=s?Yp(e,t):uu(e,t,!0),u=s;do{if(o===0){js&&!s&&rn(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Gp(a)){o=uu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;o=Tl;var b=y.current.memoizedState.isDehydrated;if(b&&(Ns(y,m).flags|=256),m=uu(y,m,!1),m!==2){if(au&&!b){y.errorRecoveryDisabledLanes|=u,Ln|=u,o=4;break e}u=Ut,Ut=o,u!==null&&(Ut===null?Ut=u:Ut.push.apply(Ut,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){Ns(e,0),rn(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:rn(s,t,Gt,!an);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Hi+300-_e(),10<o)){if(rn(s,t,Gt,!an),ra(s,0,!0)!==0)break e;La=t,s.timeoutHandle=Bf(rf.bind(null,s,a,Ut,Vi,su,t,Gt,Ln,Es,an,u,"Throttled",-0,0),o);break e}rf(s,a,Ut,Vi,su,t,Gt,Ln,Es,an,u,null,-0,0)}}break}while(!0);va(e)}function rf(e,t,a,s,o,u,m,y,b,O,U,q,R,z){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},Fh(t,u,q);var W=(u&62914560)===u?Hi-_e():(u&4194048)===u?af-_e():0;if(W=Tg(q,W),W!==null){La=u,e.cancelPendingCommit=W(pf.bind(null,e,t,u,a,s,o,m,y,b,U,q,null,R,z)),rn(e,u,m,!O);return}}pf(e,t,u,a,s,o,m,y,b)}function Gp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!Bt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t,a,s){t&=~nu,t&=~Ln,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-se(o),m=1<<u;s[u]=-1,o&=~m}a!==0&&Wl(e,a,t)}function Yi(){return(ke&6)===0?(Al(0),!1):!0}function ou(){if(Se!==null){if(De===0)var e=Se.return;else e=Se,Na=On=null,jo(e),ys=null,cl=0,e=Se;for(;e!==null;)Bh(e.alternate,e),e=e.return;Se=null}}function Ns(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,og(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),La=0,ou(),Ve=e,Se=a=Ea(e.current,null),Ee=t,De=0,Ht=null,an=!1,js=ma(e,t),au=!1,Es=Gt=nu=Ln=nn=Pe=0,Ut=Tl=null,su=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-se(s),u=1<<o;t|=e[o],s&=~u}return Ba=t,di(),a}function of(e,t){ye=null,C.H=vl,t===gs||t===bi?(t=Sd(),De=3):t===ho?(t=Sd(),De=4):De=t===$o?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,Se===null&&(Pe=1,zi(e,Ft(t,e.current)))}function uf(){var e=qt.current;return e===null?!0:(Ee&4194048)===Ee?aa===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===aa:!1}function cf(){var e=C.H;return C.H=vl,e===null?vl:e}function df(){var e=C.A;return C.A=$p,e}function Ki(){Pe=4,an||(Ee&4194048)!==Ee&&qt.current!==null||(js=!0),(nn&134217727)===0&&(Ln&134217727)===0||Ve===null||rn(Ve,Ee,Gt,!1)}function uu(e,t,a){var s=ke;ke|=2;var o=cf(),u=df();(Ve!==e||Ee!==t)&&(Vi=null,Ns(e,t)),t=!1;var m=Pe;e:do try{if(De!==0&&Se!==null){var y=Se,b=Ht;switch(De){case 8:ou(),m=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var O=De;if(De=0,Ht=null,As(e,y,b,O),a&&js){m=0;break e}break;default:O=De,De=0,Ht=null,As(e,y,b,O)}}Vp(),m=Pe;break}catch(U){of(e,U)}while(!0);return t&&e.shellSuspendCounter++,Na=On=null,ke=s,C.H=o,C.A=u,Se===null&&(Ve=null,Ee=0,di()),m}function Vp(){for(;Se!==null;)hf(Se)}function Yp(e,t){var a=ke;ke|=2;var s=cf(),o=df();Ve!==e||Ee!==t?(Vi=null,Gi=_e()+500,Ns(e,t)):js=ma(e,t);e:do try{if(De!==0&&Se!==null){t=Se;var u=Ht;t:switch(De){case 1:De=0,Ht=null,As(e,t,u,1);break;case 2:case 9:if(_d(u)){De=0,Ht=null,ff(t);break}t=function(){De!==2&&De!==9||Ve!==e||(De=7),va(e)},u.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:_d(u)?(De=0,Ht=null,ff(t)):(De=0,Ht=null,As(e,t,u,7));break;case 5:var m=null;switch(Se.tag){case 26:m=Se.memoizedState;case 5:case 27:var y=Se;if(m?Ff(m):y.stateNode.complete){De=0,Ht=null;var b=y.sibling;if(b!==null)Se=b;else{var O=y.return;O!==null?(Se=O,Xi(O)):Se=null}break t}}De=0,Ht=null,As(e,t,u,5);break;case 6:De=0,Ht=null,As(e,t,u,6);break;case 8:ou(),Pe=6;break e;default:throw Error(r(462))}}Kp();break}catch(U){of(e,U)}while(!0);return Na=On=null,C.H=s,C.A=o,ke=a,Se!==null?0:(Ve=null,Ee=0,di(),Pe)}function Kp(){for(;Se!==null&&!Y();)hf(Se)}function hf(e){var t=Uh(e.alternate,e,Ba);e.memoizedProps=e.pendingProps,t===null?Xi(e):Se=t}function ff(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Oh(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Oh(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:jo(t);default:Bh(a,t),t=Se=cd(t,Ba),t=Uh(a,t,Ba)}e.memoizedProps=e.pendingProps,t===null?Xi(e):Se=t}function As(e,t,a,s){Na=On=null,jo(t),ys=null,cl=0;var o=t.return;try{if(zp(e,o,t,a,Ee)){Pe=1,zi(e,Ft(a,e.current)),Se=null;return}}catch(u){if(o!==null)throw Se=o,u;Pe=1,zi(e,Ft(a,e.current)),Se=null;return}t.flags&32768?(Ae||s===1?e=!0:js||(Ee&536870912)!==0?e=!1:(an=e=!0,(s===2||s===9||s===3||s===6)&&(s=qt.current,s!==null&&s.tag===13&&(s.flags|=16384))),mf(t,e)):Xi(t)}function Xi(e){var t=e;do{if((t.flags&32768)!==0){mf(t,an);return}e=t.return;var a=Mp(t.alternate,t,Ba);if(a!==null){Se=a;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Pe===0&&(Pe=5)}function mf(e,t){do{var a=Bp(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);Pe=6,Se=null}function pf(e,t,a,s,o,u,m,y,b){e.cancelPendingCommit=null;do Qi();while(dt!==0);if((ke&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=Ir,Js(e,a,u,m,y,b),e===Ve&&(Se=Ve=null,Ee=0),Ts=t,ln=e,La=a,lu=u,iu=o,nf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Zp(Me,function(){return xf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=C.T,C.T=null,o=D.p,D.p=2,m=ke,ke|=4;try{Lp(e,t,a)}finally{ke=m,D.p=o,C.T=s}}dt=1,gf(),yf(),vf()}}function gf(){if(dt===1){dt=0;var e=ln,t=Ts,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var s=D.p;D.p=2;var o=ke;ke|=4;try{Zh(t,e);var u=_u,m=td(e.containerInfo),y=u.focusedElem,b=u.selectionRange;if(m!==y&&y&&y.ownerDocument&&ed(y.ownerDocument.documentElement,y)){if(b!==null&&Kr(y)){var O=b.start,U=b.end;if(U===void 0&&(U=O),"selectionStart"in y)y.selectionStart=O,y.selectionEnd=Math.min(U,y.value.length);else{var q=y.ownerDocument||document,R=q&&q.defaultView||window;if(R.getSelection){var z=R.getSelection(),W=y.textContent.length,re=Math.min(b.start,W),qe=b.end===void 0?re:Math.min(b.end,W);!z.extend&&re>qe&&(m=qe,qe=re,re=m);var j=Wc(y,re),w=Wc(y,qe);if(j&&w&&(z.rangeCount!==1||z.anchorNode!==j.node||z.anchorOffset!==j.offset||z.focusNode!==w.node||z.focusOffset!==w.offset)){var A=q.createRange();A.setStart(j.node,j.offset),z.removeAllRanges(),re>qe?(z.addRange(A),z.extend(w.node,w.offset)):(A.setEnd(w.node,w.offset),z.addRange(A))}}}}for(q=[],z=y;z=z.parentNode;)z.nodeType===1&&q.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<q.length;y++){var B=q[y];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}lr=!!xu,_u=xu=null}finally{ke=o,D.p=s,C.T=a}}e.current=t,dt=2}}function yf(){if(dt===2){dt=0;var e=ln,t=Ts,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var s=D.p;D.p=2;var o=ke;ke|=4;try{Yh(e,t.alternate,t)}finally{ke=o,D.p=s,C.T=a}}dt=3}}function vf(){if(dt===4||dt===3){dt=0,ee();var e=ln,t=Ts,a=La,s=nf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,Ts=ln=null,bf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(sn=null),Tr(a),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=C.T,o=D.p,D.p=2,C.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var y=s[m];u(y.value,{componentStack:y.stack})}}finally{C.T=t,D.p=o}}(La&3)!==0&&Qi(),va(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===ru?Nl++:(Nl=0,ru=e):Nl=0,Al(0)}}function bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ol(t)))}function Qi(){return gf(),yf(),vf(),xf()}function xf(){if(dt!==5)return!1;var e=ln,t=lu;lu=0;var a=Tr(La),s=C.T,o=D.p;try{D.p=32>a?32:a,C.T=null,a=iu,iu=null;var u=ln,m=La;if(dt=0,Ts=ln=null,La=0,(ke&6)!==0)throw Error(r(331));var y=ke;if(ke|=4,ef(u.current),Ph(u,u.current,m,a),ke=y,Al(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(_n,u)}catch{}return!0}finally{D.p=o,C.T=s,bf(e,t)}}function _f(e,t,a){t=Ft(a,t),t=qo(e.stateNode,t,2),e=Fa(e,t,2),e!==null&&(_a(e,2),va(e))}function Ue(e,t,a){if(e.tag===3)_f(e,e,a);else for(;t!==null;){if(t.tag===3){_f(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(sn===null||!sn.has(s))){e=Ft(a,e),a=_h(2),s=Fa(t,a,2),s!==null&&(wh(a,s,t,e),_a(s,2),va(s));break}}t=t.return}}function cu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Hp;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(au=!0,o.add(a),e=Xp.bind(null,e,t,a),t.then(e,e))}function Xp(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ve===e&&(Ee&a)===a&&(Pe===4||Pe===3&&(Ee&62914560)===Ee&&300>_e()-Hi?(ke&2)===0&&Ns(e,0):nu|=a,Es===Ee&&(Es=0)),va(e)}function wf(e,t){t===0&&(t=Jn()),e=Tn(e,t),e!==null&&(_a(e,t),va(e))}function Qp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),wf(e,a)}function Jp(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),wf(e,a)}function Zp(e,t){return xn(e,t)}var Ji=null,Os=null,du=!1,Zi=!1,hu=!1,on=0;function va(e){e!==Os&&e.next===null&&(Os===null?Ji=Os=e:Os=Os.next=e),Zi=!0,du||(du=!0,Pp())}function Al(e,t){if(!hu&&Zi){hu=!0;do for(var a=!1,s=Ji;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var m=s.suspendedLanes,y=s.pingedLanes;u=(1<<31-se(42|e)+1)-1,u&=o&~(m&~y),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Tf(s,u))}else u=Ee,u=ra(s,s===Ve?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||ma(s,u)||(a=!0,Tf(s,u));s=s.next}while(a);hu=!1}}function Ip(){Sf()}function Sf(){Zi=du=!1;var e=0;on!==0&&rg()&&(e=on);for(var t=_e(),a=null,s=Ji;s!==null;){var o=s.next,u=jf(s,t);u===0?(s.next=null,a===null?Ji=o:a.next=o,o===null&&(Os=a)):(a=s,(e!==0||(u&3)!==0)&&(Zi=!0)),s=o}dt!==0&&dt!==5||Al(e),on!==0&&(on=0)}function jf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-se(u),y=1<<m,b=o[m];b===-1?((y&a)===0||(y&s)!==0)&&(o[m]=Nt(y,t)):b<=t&&(e.expiredLanes|=y),u&=~y}if(t=Ve,a=Ee,a=ra(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Va(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ma(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Va(s),Tr(a)){case 2:case 8:a=ze;break;case 32:a=Me;break;case 268435456:a=Ot;break;default:a=Me}return s=Ef.bind(null,e),a=xn(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Va(s),e.callbackPriority=2,e.callbackNode=null,2}function Ef(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Qi()&&e.callbackNode!==a)return null;var s=Ee;return s=ra(e,e===Ve?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(lf(e,s,t),jf(e,_e()),e.callbackNode!=null&&e.callbackNode===a?Ef.bind(null,e):null)}function Tf(e,t){if(Qi())return null;lf(e,t,!0)}function Pp(){ug(function(){(ke&6)!==0?xn(We,Ip):Sf()})}function fu(){if(on===0){var e=ms;e===0&&(e=ct,ct<<=1,(ct&261888)===0&&(ct=256)),on=e}return on}function Nf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ni(""+e)}function Af(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Fp(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=Nf((o[Ct]||null).action),m=s.submitter;m&&(t=(t=m[Ct]||null)?Nf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var y=new ri("action","action",null,s,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(on!==0){var b=m?Af(o,m):new FormData(o);zo(a,{pending:!0,data:b,method:o.method,action:u},null,b)}}else typeof u=="function"&&(y.preventDefault(),b=m?Af(o,m):new FormData(o),zo(a,{pending:!0,data:b,method:o.method,action:u},u,b))},currentTarget:o}]})}}for(var mu=0;mu<Zr.length;mu++){var pu=Zr[mu],Wp=pu.toLowerCase(),eg=pu[0].toUpperCase()+pu.slice(1);oa(Wp,"on"+eg)}oa(sd,"onAnimationEnd"),oa(ld,"onAnimationIteration"),oa(id,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(gp,"onTransitionRun"),oa(yp,"onTransitionStart"),oa(vp,"onTransitionCancel"),oa(rd,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Of(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var y=s[m],b=y.instance,O=y.currentTarget;if(y=y.listener,b!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=O;try{u(o)}catch(U){ci(U)}o.currentTarget=null,u=b}else for(m=0;m<s.length;m++){if(y=s[m],b=y.instance,O=y.currentTarget,y=y.listener,b!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=O;try{u(o)}catch(U){ci(U)}o.currentTarget=null,u=b}}}}function je(e,t){var a=t[Nr];a===void 0&&(a=t[Nr]=new Set);var s=e+"__bubble";a.has(s)||(Cf(t,e,2,!1),a.add(s))}function gu(e,t,a){var s=0;t&&(s|=4),Cf(a,e,s,t)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function yu(e){if(!e[Ii]){e[Ii]=!0,wc.forEach(function(a){a!=="selectionchange"&&(tg.has(a)||gu(a,!1,e),gu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ii]||(t[Ii]=!0,gu("selectionchange",!1,t))}}function Cf(e,t,a,s){switch(l0(t)){case 2:var o=Og;break;case 8:o=Cg;break;default:o=ku}a=o.bind(null,t,a,e),o=void 0,!Mr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function vu(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var y=s.stateNode.containerInfo;if(y===o)break;if(m===4)for(m=s.return;m!==null;){var b=m.tag;if((b===3||b===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;y!==null;){if(m=Pn(y),m===null)return;if(b=m.tag,b===5||b===6||b===26||b===27){s=u=m;continue e}y=y.parentNode}}s=s.return}Dc(function(){var O=u,U=Dr(a),q=[];e:{var R=od.get(e);if(R!==void 0){var z=ri,W=e;switch(e){case"keypress":if(li(a)===0)break e;case"keydown":case"keyup":z=Jm;break;case"focusin":W="focus",z=$r;break;case"focusout":W="blur",z=$r;break;case"beforeblur":case"afterblur":z=$r;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Pm;break;case sd:case ld:case id:z=qm;break;case rd:z=Wm;break;case"scroll":case"scrollend":z=Dm;break;case"wheel":z=tp;break;case"copy":case"cut":case"paste":z=Hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=qc;break;case"toggle":case"beforetoggle":z=np}var re=(t&4)!==0,qe=!re&&(e==="scroll"||e==="scrollend"),j=re?R!==null?R+"Capture":null:R;re=[];for(var w=O,A;w!==null;){var B=w;if(A=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||A===null||j===null||(B=Ps(w,j),B!=null&&re.push(Cl(w,B,A))),qe)break;w=w.return}0<re.length&&(R=new z(R,W,null,a,U),q.push({event:R,listeners:re}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",R&&a!==zr&&(W=a.relatedTarget||a.fromElement)&&(Pn(W)||W[In]))break e;if((z||R)&&(R=U.window===U?U:(R=U.ownerDocument)?R.defaultView||R.parentWindow:window,z?(W=a.relatedTarget||a.toElement,z=O,W=W?Pn(W):null,W!==null&&(qe=h(W),re=W.tag,W!==qe||re!==5&&re!==27&&re!==6)&&(W=null)):(z=null,W=O),z!==W)){if(re=Bc,B="onMouseLeave",j="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(re=qc,B="onPointerLeave",j="onPointerEnter",w="pointer"),qe=z==null?R:Is(z),A=W==null?R:Is(W),R=new re(B,w+"leave",z,a,U),R.target=qe,R.relatedTarget=A,B=null,Pn(U)===O&&(re=new re(j,w+"enter",W,a,U),re.target=A,re.relatedTarget=qe,B=re),qe=B,z&&W)t:{for(re=ag,j=z,w=W,A=0,B=j;B;B=re(B))A++;B=0;for(var le=w;le;le=re(le))B++;for(;0<A-B;)j=re(j),A--;for(;0<B-A;)w=re(w),B--;for(;A--;){if(j===w||w!==null&&j===w.alternate){re=j;break t}j=re(j),w=re(w)}re=null}else re=null;z!==null&&Rf(q,R,z,re,!1),W!==null&&qe!==null&&Rf(q,qe,W,re,!0)}}e:{if(R=O?Is(O):window,z=R.nodeName&&R.nodeName.toLowerCase(),z==="select"||z==="input"&&R.type==="file")var Oe=Qc;else if(Kc(R))if(Jc)Oe=fp;else{Oe=dp;var te=cp}else z=R.nodeName,!z||z.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?O&&kr(O.elementType)&&(Oe=Qc):Oe=hp;if(Oe&&(Oe=Oe(e,O))){Xc(q,Oe,a,U);break e}te&&te(e,R,O),e==="focusout"&&O&&R.type==="number"&&O.memoizedProps.value!=null&&Rr(R,"number",R.value)}switch(te=O?Is(O):window,e){case"focusin":(Kc(te)||te.contentEditable==="true")&&(is=te,Xr=O,ll=null);break;case"focusout":ll=Xr=is=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":Qr=!1,ad(q,a,U);break;case"selectionchange":if(pp)break;case"keydown":case"keyup":ad(q,a,U)}var ve;if(Gr)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ls?Vc(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&($c&&a.locale!=="ko"&&(ls||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ls&&(ve=Uc()):(Ka=U,Br="value"in Ka?Ka.value:Ka.textContent,ls=!0)),te=Pi(O,Te),0<te.length&&(Te=new Lc(Te,e,null,a,U),q.push({event:Te,listeners:te}),ve?Te.data=ve:(ve=Yc(a),ve!==null&&(Te.data=ve)))),(ve=lp?ip(e,a):rp(e,a))&&(Te=Pi(O,"onBeforeInput"),0<Te.length&&(te=new Lc("onBeforeInput","beforeinput",null,a,U),q.push({event:te,listeners:Te}),te.data=ve)),Fp(q,e,O,a,U)}Of(q,t)})}function Cl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Pi(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Ps(e,a),o!=null&&s.unshift(Cl(e,o,u)),o=Ps(e,t),o!=null&&s.push(Cl(e,o,u))),e.tag===3)return s;e=e.return}return[]}function ag(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rf(e,t,a,s,o){for(var u=t._reactName,m=[];a!==null&&a!==s;){var y=a,b=y.alternate,O=y.stateNode;if(y=y.tag,b!==null&&b===s)break;y!==5&&y!==26&&y!==27||O===null||(b=O,o?(O=Ps(a,u),O!=null&&m.unshift(Cl(a,O,b))):o||(O=Ps(a,u),O!=null&&m.push(Cl(a,O,b)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var ng=/\r\n?/g,sg=/\u0000|\uFFFD/g;function kf(e){return(typeof e=="string"?e:""+e).replace(ng,`
`).replace(sg,"")}function zf(e,t){return t=kf(t),kf(e)===t}function Le(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||as(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&as(e,""+s);break;case"className":ti(e,"class",s);break;case"tabIndex":ti(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,a,s);break;case"style":kc(e,s,u);break;case"data":if(t!=="object"){ti(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ni(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Le(e,t,"name",o.name,o,null),Le(e,t,"formEncType",o.formEncType,o,null),Le(e,t,"formMethod",o.formMethod,o,null),Le(e,t,"formTarget",o.formTarget,o,null)):(Le(e,t,"encType",o.encType,o,null),Le(e,t,"method",o.method,o,null),Le(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ni(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Sa);break;case"onScroll":s!=null&&je("scroll",e);break;case"onScrollEnd":s!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=ni(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":je("beforetoggle",e),je("toggle",e),ei(e,"popover",s);break;case"xlinkActuate":wa(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":wa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":wa(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":wa(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":wa(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":wa(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":wa(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":wa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":wa(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ei(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=km.get(a)||a,ei(e,a,s))}}function bu(e,t,a,s,o,u){switch(a){case"style":kc(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof s=="string"?as(e,s):(typeof s=="number"||typeof s=="bigint")&&as(e,""+s);break;case"onScroll":s!=null&&je("scroll",e);break;case"onScrollEnd":s!=null&&je("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[Ct]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):ei(e,a,s)}}}function xt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Le(e,t,u,m,a,null)}}o&&Le(e,t,"srcSet",a.srcSet,a,null),s&&Le(e,t,"src",a.src,a,null);return;case"input":je("invalid",e);var y=u=m=o=null,b=null,O=null;for(s in a)if(a.hasOwnProperty(s)){var U=a[s];if(U!=null)switch(s){case"name":o=U;break;case"type":m=U;break;case"checked":b=U;break;case"defaultChecked":O=U;break;case"value":u=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:Le(e,t,s,U,a,null)}}Ac(e,u,y,b,O,m,o,!1);return;case"select":je("invalid",e),s=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(y=a[o],y!=null))switch(o){case"value":u=y;break;case"defaultValue":m=y;break;case"multiple":s=y;default:Le(e,t,o,y,a,null)}t=u,a=m,e.multiple=!!s,t!=null?ts(e,!!s,t,!1):a!=null&&ts(e,!!s,a,!0);return;case"textarea":je("invalid",e),u=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":s=y;break;case"defaultValue":o=y;break;case"children":u=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Le(e,t,m,y,a,null)}Cc(e,s,o,u);return;case"option":for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null)&&(b==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Le(e,t,b,s,a,null));return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(s=0;s<Ol.length;s++)je(Ol[s],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(s=a[O],s!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Le(e,t,O,s,a,null)}return;default:if(kr(t)){for(U in a)a.hasOwnProperty(U)&&(s=a[U],s!==void 0&&bu(e,t,U,s,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(s=a[y],s!=null&&Le(e,t,y,s,a,null))}function lg(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,y=null,b=null,O=null,U=null;for(z in a){var q=a[z];if(a.hasOwnProperty(z)&&q!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=q;default:s.hasOwnProperty(z)||Le(e,t,z,null,s,q)}}for(var R in s){var z=s[R];if(q=a[R],s.hasOwnProperty(R)&&(z!=null||q!=null))switch(R){case"type":u=z;break;case"name":o=z;break;case"checked":O=z;break;case"defaultChecked":U=z;break;case"value":m=z;break;case"defaultValue":y=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:z!==q&&Le(e,t,R,z,s,q)}}Cr(e,m,y,b,O,U,u,o);return;case"select":z=m=y=R=null;for(u in a)if(b=a[u],a.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":z=b;default:s.hasOwnProperty(u)||Le(e,t,u,null,s,b)}for(o in s)if(u=s[o],b=a[o],s.hasOwnProperty(o)&&(u!=null||b!=null))switch(o){case"value":R=u;break;case"defaultValue":y=u;break;case"multiple":m=u;default:u!==b&&Le(e,t,o,u,s,b)}t=y,a=m,s=z,R!=null?ts(e,!!a,R,!1):!!s!=!!a&&(t!=null?ts(e,!!a,t,!0):ts(e,!!a,a?[]:"",!1));return;case"textarea":z=R=null;for(y in a)if(o=a[y],a.hasOwnProperty(y)&&o!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Le(e,t,y,null,s,o)}for(m in s)if(o=s[m],u=a[m],s.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":R=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&Le(e,t,m,o,s,u)}Oc(e,R,z);return;case"option":for(var W in a)R=a[W],a.hasOwnProperty(W)&&R!=null&&!s.hasOwnProperty(W)&&(W==="selected"?e.selected=!1:Le(e,t,W,null,s,R));for(b in s)R=s[b],z=a[b],s.hasOwnProperty(b)&&R!==z&&(R!=null||z!=null)&&(b==="selected"?e.selected=R&&typeof R!="function"&&typeof R!="symbol":Le(e,t,b,R,s,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)R=a[re],a.hasOwnProperty(re)&&R!=null&&!s.hasOwnProperty(re)&&Le(e,t,re,null,s,R);for(O in s)if(R=s[O],z=a[O],s.hasOwnProperty(O)&&R!==z&&(R!=null||z!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Le(e,t,O,R,s,z)}return;default:if(kr(t)){for(var qe in a)R=a[qe],a.hasOwnProperty(qe)&&R!==void 0&&!s.hasOwnProperty(qe)&&bu(e,t,qe,void 0,s,R);for(U in s)R=s[U],z=a[U],!s.hasOwnProperty(U)||R===z||R===void 0&&z===void 0||bu(e,t,U,R,s,z);return}}for(var j in a)R=a[j],a.hasOwnProperty(j)&&R!=null&&!s.hasOwnProperty(j)&&Le(e,t,j,null,s,R);for(q in s)R=s[q],z=a[q],!s.hasOwnProperty(q)||R===z||R==null&&z==null||Le(e,t,q,R,s,z)}function Df(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ig(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,m=o.initiatorType,y=o.duration;if(u&&y&&Df(m)){for(m=0,y=o.responseEnd,s+=1;s<a.length;s++){var b=a[s],O=b.startTime;if(O>y)break;var U=b.transferSize,q=b.initiatorType;U&&Df(q)&&(b=b.responseEnd,m+=U*(b<y?1:(y-O)/(b-O)))}if(--s,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xu=null,_u=null;function Fi(e){return e.nodeType===9?e:e.ownerDocument}function Uf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Su=null;function rg(){var e=window.event;return e&&e.type==="popstate"?e===Su?!1:(Su=e,!0):(Su=null,!1)}var Bf=typeof setTimeout=="function"?setTimeout:void 0,og=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,ug=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(e){return Lf.resolve(null).then(e).catch(cg)}:Bf;function cg(e){setTimeout(function(){throw e})}function un(e){return e==="head"}function qf(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),zs(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Rl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Rl(a);for(var u=a.firstChild;u;){var m=u.nextSibling,y=u.nodeName;u[Zs]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&Rl(e.ownerDocument.body);a=o}while(a);zs(t)}function $f(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function ju(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ju(a),Ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dg(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Zs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=na(e.nextSibling),e===null)break}return null}function hg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=na(e.nextSibling),e===null))return null;return e}function Hf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=na(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Nu=null;function Gf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return na(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Vf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Yf(e,t,a){switch(t=Fi(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Rl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ar(e)}var sa=new Map,Kf=new Set;function Wi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qa=D.d;D.d={f:mg,r:pg,D:gg,C:yg,L:vg,m:bg,X:_g,S:xg,M:wg};function mg(){var e=qa.f(),t=Yi();return e||t}function pg(e){var t=Fn(e);t!==null&&t.tag===5&&t.type==="form"?rh(t):qa.r(e)}var Cs=typeof document>"u"?null:document;function Xf(e,t,a){var s=Cs;if(s&&typeof t=="string"&&t){var o=It(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Kf.has(o)||(Kf.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),xt(t,"link",e),ft(t),s.head.appendChild(t)))}}function gg(e){qa.D(e),Xf("dns-prefetch",e,null)}function yg(e,t){qa.C(e,t),Xf("preconnect",e,t)}function vg(e,t,a){qa.L(e,t,a);var s=Cs;if(s&&e&&t){var o='link[rel="preload"][as="'+It(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+It(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+It(a.imageSizes)+'"]')):o+='[href="'+It(e)+'"]';var u=o;switch(t){case"style":u=Rs(e);break;case"script":u=ks(e)}sa.has(u)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),sa.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(kl(u))||t==="script"&&s.querySelector(zl(u))||(t=s.createElement("link"),xt(t,"link",e),ft(t),s.head.appendChild(t)))}}function bg(e,t){qa.m(e,t);var a=Cs;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+It(s)+'"][href="'+It(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ks(e)}if(!sa.has(u)&&(e=S({rel:"modulepreload",href:e},t),sa.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(u)))return}s=a.createElement("link"),xt(s,"link",e),ft(s),a.head.appendChild(s)}}}function xg(e,t,a){qa.S(e,t,a);var s=Cs;if(s&&e){var o=Wn(s).hoistableStyles,u=Rs(e);t=t||"default";var m=o.get(u);if(!m){var y={loading:0,preload:null};if(m=s.querySelector(kl(u)))y.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=sa.get(u))&&Au(e,a);var b=m=s.createElement("link");ft(b),xt(b,"link",e),b._p=new Promise(function(O,U){b.onload=O,b.onerror=U}),b.addEventListener("load",function(){y.loading|=1}),b.addEventListener("error",function(){y.loading|=2}),y.loading|=4,er(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:y},o.set(u,m)}}}function _g(e,t){qa.X(e,t);var a=Cs;if(a&&e){var s=Wn(a).hoistableScripts,o=ks(e),u=s.get(o);u||(u=a.querySelector(zl(o)),u||(e=S({src:e,async:!0},t),(t=sa.get(o))&&Ou(e,t),u=a.createElement("script"),ft(u),xt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function wg(e,t){qa.M(e,t);var a=Cs;if(a&&e){var s=Wn(a).hoistableScripts,o=ks(e),u=s.get(o);u||(u=a.querySelector(zl(o)),u||(e=S({src:e,async:!0,type:"module"},t),(t=sa.get(o))&&Ou(e,t),u=a.createElement("script"),ft(u),xt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function Qf(e,t,a,s){var o=(o=he.current)?Wi(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Rs(a.href),a=Wn(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Rs(a.href);var u=Wn(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(kl(e)))&&!u._p&&(m.instance=u,m.state.loading=5),sa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},sa.set(e,a),u||Sg(o,e,a,m.state))),t&&s===null)throw Error(r(528,""));return m}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ks(a),a=Wn(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Rs(e){return'href="'+It(e)+'"'}function kl(e){return'link[rel="stylesheet"]['+e+"]"}function Jf(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Sg(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),xt(t,"link",a),ft(t),e.head.appendChild(t))}function ks(e){return'[src="'+It(e)+'"]'}function zl(e){return"script[async]"+e}function Zf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+It(a.href)+'"]');if(s)return t.instance=s,ft(s),s;var o=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ft(s),xt(s,"style",o),er(s,a.precedence,e),t.instance=s;case"stylesheet":o=Rs(a.href);var u=e.querySelector(kl(o));if(u)return t.state.loading|=4,t.instance=u,ft(u),u;s=Jf(a),(o=sa.get(o))&&Au(s,o),u=(e.ownerDocument||e).createElement("link"),ft(u);var m=u;return m._p=new Promise(function(y,b){m.onload=y,m.onerror=b}),xt(u,"link",s),t.state.loading|=4,er(u,a.precedence,e),t.instance=u;case"script":return u=ks(a.src),(o=e.querySelector(zl(u)))?(t.instance=o,ft(o),o):(s=a,(o=sa.get(u))&&(s=S({},a),Ou(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),ft(o),xt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,er(s,a.precedence,e));return t.instance}function er(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,m=0;m<s.length;m++){var y=s[m];if(y.dataset.precedence===t)u=y;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var tr=null;function If(e,t,a){if(tr===null){var s=new Map,o=tr=new Map;o.set(a,s)}else o=tr,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Zs]||u[gt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var y=s.get(m);y?y.push(u):s.set(m,[u])}}return s}function Pf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function jg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ff(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Eg(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Rs(s.href),u=t.querySelector(kl(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ar.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,ft(u);return}u=t.ownerDocument||t,s=Jf(s),(o=sa.get(o))&&Au(s,o),u=u.createElement("link"),ft(u);var m=u;m._p=new Promise(function(y,b){m.onload=y,m.onerror=b}),xt(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ar.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Cu=0;function Tg(e,t){return e.stylesheets&&e.count===0&&sr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&sr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Cu===0&&(Cu=62500*ig());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Cu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function ar(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nr=null;function sr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nr=new Map,t.forEach(Ng,e),nr=null,ar.call(e))}function Ng(e,t){if(!(t.state.loading&4)){var a=nr.get(e);if(a)var s=a.get(null);else{a=new Map,nr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||s,u===s&&a.set(null,o),a.set(m,o),this.count++,s=ar.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Dl={$$typeof:H,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function Ag(e,t,a,s,o,u,m,y,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Wf(e,t,a,s,o,u,m,y,b,O,U,q){return e=new Ag(e,t,a,m,b,O,U,q,y),t=1,u===!0&&(t|=24),u=Lt(3,null,null,t),e.current=u,u.stateNode=e,t=oo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},fo(u),e}function e0(e){return e?(e=us,e):us}function t0(e,t,a,s,o,u){o=e0(o),s.context===null?s.context=o:s.pendingContext=o,s=Pa(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=Fa(e,s,t),a!==null&&(Mt(a,e,t),hl(a,e,t))}function a0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ru(e,t){a0(e,t),(e=e.alternate)&&a0(e,t)}function n0(e){if(e.tag===13||e.tag===31){var t=Tn(e,67108864);t!==null&&Mt(t,e,67108864),Ru(e,67108864)}}function s0(e){if(e.tag===13||e.tag===31){var t=Vt();t=Er(t);var a=Tn(e,t);a!==null&&Mt(a,e,t),Ru(e,t)}}var lr=!0;function Og(e,t,a,s){var o=C.T;C.T=null;var u=D.p;try{D.p=2,ku(e,t,a,s)}finally{D.p=u,C.T=o}}function Cg(e,t,a,s){var o=C.T;C.T=null;var u=D.p;try{D.p=8,ku(e,t,a,s)}finally{D.p=u,C.T=o}}function ku(e,t,a,s){if(lr){var o=zu(s);if(o===null)vu(e,t,s,ir,a),i0(e,s);else if(kg(o,e,t,a,s))s.stopPropagation();else if(i0(e,s),t&4&&-1<Rg.indexOf(e)){for(;o!==null;){var u=Fn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=Jt(u.pendingLanes);if(m!==0){var y=u;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var b=1<<31-se(m);y.entanglements[1]|=b,m&=~b}va(u),(ke&6)===0&&(Gi=_e()+500,Al(0))}}break;case 31:case 13:y=Tn(u,2),y!==null&&Mt(y,u,2),Yi(),Ru(u,2)}if(u=zu(s),u===null&&vu(e,t,s,ir,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else vu(e,t,s,null,a)}}function zu(e){return e=Dr(e),Du(e)}var ir=null;function Du(e){if(ir=null,e=Pn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ir=e,null}function l0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case We:return 2;case ze:return 8;case Me:case pt:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var Uu=!1,cn=null,dn=null,hn=null,Ul=new Map,Ml=new Map,fn=[],Rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Ul.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(t.pointerId)}}function Bl(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Fn(t),t!==null&&n0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function kg(e,t,a,s,o){switch(t){case"focusin":return cn=Bl(cn,e,t,a,s,o),!0;case"dragenter":return dn=Bl(dn,e,t,a,s,o),!0;case"mouseover":return hn=Bl(hn,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return Ul.set(u,Bl(Ul.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,Ml.set(u,Bl(Ml.get(u)||null,e,t,a,s,o)),!0}return!1}function r0(e){var t=Pn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,xc(e.priority,function(){s0(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,xc(e.priority,function(){s0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=zu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);zr=s,a.target.dispatchEvent(s),zr=null}else return t=Fn(a),t!==null&&n0(t),e.blockedOn=a,!1;t.shift()}return!0}function o0(e,t,a){rr(e)&&a.delete(t)}function zg(){Uu=!1,cn!==null&&rr(cn)&&(cn=null),dn!==null&&rr(dn)&&(dn=null),hn!==null&&rr(hn)&&(hn=null),Ul.forEach(o0),Ml.forEach(o0)}function or(e,t){e.blockedOn===t&&(e.blockedOn=null,Uu||(Uu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zg)))}var ur=null;function u0(e){ur!==e&&(ur=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ur===e&&(ur=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Du(s||a)===null)continue;break}var u=Fn(a);u!==null&&(e.splice(t,3),t-=3,zo(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function zs(e){function t(b){return or(b,e)}cn!==null&&or(cn,e),dn!==null&&or(dn,e),hn!==null&&or(hn,e),Ul.forEach(t),Ml.forEach(t);for(var a=0;a<fn.length;a++){var s=fn[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<fn.length&&(a=fn[0],a.blockedOn===null);)r0(a),a.blockedOn===null&&fn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],m=o[Ct]||null;if(typeof u=="function")m||u0(a);else if(m){var y=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[Ct]||null)y=m.formAction;else if(Du(o)!==null)continue}else y=m.action;typeof y=="function"?a[s+1]=y:(a.splice(s,3),s-=3),u0(a)}}}function c0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Mu(e){this._internalRoot=e}cr.prototype.render=Mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,s=Vt();t0(a,s,e,t,null,null)},cr.prototype.unmount=Mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;t0(e.current,2,null,e,null,null),Yi(),t[In]=null}};function cr(e){this._internalRoot=e}cr.prototype.unstable_scheduleHydration=function(e){if(e){var t=bc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<fn.length&&t!==0&&t<fn[a].priority;a++);fn.splice(a,0,e),a===0&&r0(e)}};var d0=n.version;if(d0!=="19.2.3")throw Error(r(527,d0,"19.2.3"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Dg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dr.isDisabled&&dr.supportsFiber)try{_n=dr.inject(Dg),Et=dr}catch{}}return ql.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,s="",o=yh,u=vh,m=bh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Wf(e,1,!1,null,null,a,s,null,o,u,m,c0),e[In]=t.current,yu(e),new Mu(t)},ql.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var s=!1,o="",u=yh,m=vh,y=bh,b=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(b=a.formState)),t=Wf(e,1,!0,t,a??null,s,o,b,u,m,y,c0),t.context=e0(null),a=t.current,s=Vt(),s=Er(s),o=Pa(s),o.callback=null,Fa(a,o,s),a=s,t.current.lanes=a,_a(t,a),va(t),e[In]=t.current,yu(e),new cr(t)},ql.version="19.2.3",ql}var _0;function Kg(){if(_0)return qu.exports;_0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch{}}return i(),qu.exports=Yg(),qu.exports}var Xg=Kg();const Qg=F0(Xg);const Jg=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zg=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,r)=>r?r.toUpperCase():l.toLowerCase()),w0=i=>{const n=Zg(i);return n.charAt(0).toUpperCase()+n.slice(1)},W0=(...i)=>i.filter((n,l,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===l).join(" ").trim(),Ig=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var Pg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Fg=J.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:c="",children:h,iconNode:f,...g},p)=>J.createElement("svg",{ref:p,...Pg,width:n,height:n,stroke:i,strokeWidth:r?Number(l)*24/Number(n):l,className:W0("lucide",c),...!h&&!Ig(g)&&{"aria-hidden":"true"},...g},[...f.map(([v,x])=>J.createElement(v,x)),...Array.isArray(h)?h:[h]]));const be=(i,n)=>{const l=J.forwardRef(({className:r,...c},h)=>J.createElement(Fg,{ref:h,iconNode:n,className:W0(`lucide-${Jg(w0(i))}`,`lucide-${i}`,r),...c}));return l.displayName=w0(i),l};const Wg=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ey=be("arrow-down",Wg);const ty=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],em=be("arrow-left",ty);const ay=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ny=be("arrow-up",ay);const sy=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],tm=be("calculator",sy);const ly=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],iy=be("chart-pie",ly);const ry=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fu=be("check",ry);const oy=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],S0=be("circle-check-big",oy);const uy=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cy=be("clock",uy);const dy=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],hy=be("coins",dy);const fy=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],my=be("eraser",fy);const py=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gy=be("file-text",py);const yy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],vy=be("grid-3x3",yy);const by=[["path",{d:"M12 17c5 0 8-2.69 8-6H4c0 3.31 3 6 8 6m-4 4h8m-4-3v3M5.14 11a3.5 3.5 0 1 1 6.71 0",key:"1uxfcu"}],["path",{d:"M12.14 11a3.5 3.5 0 1 1 6.71 0",key:"4k3m1s"}],["path",{d:"M15.5 6.5a3.5 3.5 0 1 0-7 0",key:"zmuahr"}]],xy=be("ice-cream-bowl",by);const _y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],am=be("info",_y);const wy=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Sy=be("layers",wy);const jy=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ey=be("layout-grid",jy);const Ty=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],nm=be("list",Ty);const Ny=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ks=be("loader-circle",Ny);const Ay=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sm=be("lock",Ay);const Oy=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],j0=be("log-out",Oy);const Cy=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lm=be("map-pin",Cy);const Ry=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gr=be("package",Ry);const ky=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yl=be("pen-line",ky);const zy=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Dy=be("phone",zy);const Uy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xr=be("plus",Uy);const My=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],im=be("printer",My);const By=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ly=be("rotate-ccw",By);const qy=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$y=be("save",qy);const Hy=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dc=be("search",Hy);const Gy=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vy=be("settings",Gy);const Yy=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Ky=be("shopping-bag",Yy);const Xy=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qy=be("sparkles",Xy);const Jy=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Zy=be("star",Jy);const Iy=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Py=be("thermometer",Iy);const Fy=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Wy=be("toggle-left",Fy);const ev=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],tv=be("toggle-right",ev);const av=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xn=be("trash-2",av);const nv=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sv=be("triangle-alert",nv);const lv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rm=be("upload",lv);const iv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],E0=be("users",iv);const rv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kn=be("x",rv);function _r(i,n){var l={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(i);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(i,r[c])&&(l[r[c]]=i[r[c]]);return l}function ov(i,n,l,r){function c(h){return h instanceof l?h:new l(function(f){f(h)})}return new(l||(l=Promise))(function(h,f){function g(x){try{v(r.next(x))}catch(S){f(S)}}function p(x){try{v(r.throw(x))}catch(S){f(S)}}function v(x){x.done?h(x.value):c(x.value).then(g,p)}v((r=r.apply(i,n||[])).next())})}const uv=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class hc extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class cv extends hc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class T0 extends hc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class N0 extends hc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Wu;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Wu||(Wu={}));class dv{constructor(n,{headers:l={},customFetch:r,region:c=Wu.Any}={}){this.url=n,this.headers=l,this.region=c,this.fetch=uv(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ov(this,arguments,void 0,function*(l,r={}){var c;let h,f;try{const{headers:g,method:p,body:v,signal:x,timeout:S}=r;let N={},{region:T}=r;T||(T=this.region);const k=new URL(`${this.url}/${l}`);T&&T!=="any"&&(N["x-region"]=T,k.searchParams.set("forceFunctionRegion",T));let E;v&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",E=v):typeof v=="string"?(N["Content-Type"]="text/plain",E=v):typeof FormData<"u"&&v instanceof FormData?E=v:(N["Content-Type"]="application/json",E=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?E=JSON.stringify(v):E=v;let $=x;S&&(f=new AbortController,h=setTimeout(()=>f.abort(),S),x?($=f.signal,x.addEventListener("abort",()=>f.abort())):$=f.signal);const G=yield this.fetch(k.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),g),body:E,signal:$}).catch(de=>{throw new cv(de)}),K=G.headers.get("x-relay-error");if(K&&K==="true")throw new T0(G);if(!G.ok)throw new N0(G);let H=((c=G.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),Z;return H==="application/json"?Z=yield G.json():H==="application/octet-stream"||H==="application/pdf"?Z=yield G.blob():H==="text/event-stream"?Z=G:H==="multipart/form-data"?Z=yield G.formData():Z=yield G.text(),{data:Z,error:null,response:G}}catch(g){return{data:null,error:g,response:g instanceof N0||g instanceof T0?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var hv=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},fv=class{constructor(i){var n,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,g=null,p=null,v=h.status,x=h.statusText;if(h.ok){var S,N;if(l.method!=="HEAD"){var T;const G=await h.text();G===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((T=l.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?g=G:g=JSON.parse(G))}const E=(S=l.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),$=(N=h.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");E&&$&&$.length>1&&(p=parseInt($[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,v=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var k;const E=await h.text();try{f=JSON.parse(E),Array.isArray(f)&&h.status===404&&(g=[],f=null,v=200,x="OK")}catch{h.status===404&&E===""?(v=204,x="No Content"):f={message:E}}if(f&&l.isMaybeSingle&&(!(f==null||(k=f.details)===null||k===void 0)&&k.includes("0 rows"))&&(f=null,v=200,x="OK"),f&&l.shouldThrowOnError)throw new hv(f)}return{error:f,data:g,count:p,status:v,statusText:x}});return this.shouldThrowOnError||(c=c.catch(h=>{var f;let g="";const p=h?.cause;if(p){var v,x,S,N;const k=(v=p?.message)!==null&&v!==void 0?v:"",E=(x=p?.code)!==null&&x!==void 0?x:"";g=`${(S=h?.name)!==null&&S!==void 0?S:"FetchError"}: ${h?.message}`,g+=`

Caused by: ${(N=p?.name)!==null&&N!==void 0?N:"Error"}: ${k}`,E&&(g+=` (${E})`),p?.stack&&(g+=`
${p.stack}`)}else{var T;g=(T=h?.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,n)}returns(){return this}overrideTypes(){return this}},mv=class extends fv{select(i){let n=!1;const l=(i??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const h=c?`${c}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:l=n}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,n,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,h=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(h,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:h="text"}={}){var f;const g=[i?"analyze":null,n?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${p}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const A0=new RegExp("[,()]");var $s=class extends mv{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&A0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}notIn(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&A0.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${l})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${h}.${n}`),this}match(i){return Object.entries(i).forEach(([n,l])=>{this.url.searchParams.append(n,`eq.${l}`)}),this}not(i,n,l){return this.url.searchParams.append(i,`not.${n}.${l}`),this}or(i,{foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,n,l){return this.url.searchParams.append(i,`${n}.${l}`),this}},pv=class{constructor(i,{headers:n={},schema:l,fetch:r}){this.url=i,this.headers=new Headers(n),this.schema=l,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,n){const{head:l=!1,count:r}=n??{},c=l?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join(""),{url:g,headers:p}=this.cloneRequestState();return g.searchParams.set("select",f),r&&p.append("Prefer",`count=${r}`),new $s({method:c,url:g,headers:p,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:l=!0}={}){var r;const c="POST",{url:h,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),l||f.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(g.length>0){const p=[...new Set(g)].map(v=>`"${v}"`);h.searchParams.set("columns",p.join(","))}}return new $s({method:c,url:h,headers:f,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var h;const f="POST",{url:g,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),n!==void 0&&g.searchParams.set("on_conflict",n),r&&p.append("Prefer",`count=${r}`),c||p.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(v.length>0){const x=[...new Set(v)].map(S=>`"${S}"`);g.searchParams.set("columns",x.join(","))}}return new $s({method:f,url:g,headers:p,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:n}={}){var l;const r="PATCH",{url:c,headers:h}=this.cloneRequestState();return n&&h.append("Prefer",`count=${n}`),new $s({method:r,url:c,headers:h,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var n;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return i&&c.append("Prefer",`count=${i}`),new $s({method:l,url:r,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},gv=class om{constructor(n,{headers:l={},schema:r,fetch:c}={}){this.url=n,this.headers=new Headers(l),this.schemaName=r,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new pv(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new om(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,l={},{head:r=!1,get:c=!1,count:h}={}){var f;let g;const p=new URL(`${this.url}/rpc/${n}`);let v;const x=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(x)),S=r&&Object.values(l).some(x);S?(g="POST",v=l):r||c?(g=r?"HEAD":"GET",Object.entries(l).filter(([T,k])=>k!==void 0).map(([T,k])=>[T,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([T,k])=>{p.searchParams.append(T,k)})):(g="POST",v=l);const N=new Headers(this.headers);return S?N.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&N.set("Prefer",`count=${h}`),new $s({method:g,url:p,headers:N,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class yv{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const vv="2.90.1",bv=`realtime-js/${vv}`,um="1.0.0",xv="2.0.0",O0=um,ec=1e4,_v=1e3,wv=100;var pn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(pn||(pn={}));var ht;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ht||(ht={}));var fa;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(fa||(fa={}));var tc;(function(i){i.websocket="websocket"})(tc||(tc={}));var Gn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Gn||(Gn={}));class Sv{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const c=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var l,r;const c=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,l,r){var c,h;const f=n.topic,g=(c=n.ref)!==null&&c!==void 0?c:"",p=(h=n.join_ref)!==null&&h!==void 0?h:"",v=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+g.length+f.length+v.length+S.length,T=new ArrayBuffer(this.HEADER_LENGTH+N);let k=new DataView(T),E=0;k.setUint8(E++,this.KINDS.userBroadcastPush),k.setUint8(E++,p.length),k.setUint8(E++,g.length),k.setUint8(E++,f.length),k.setUint8(E++,v.length),k.setUint8(E++,S.length),k.setUint8(E++,l),Array.from(p,G=>k.setUint8(E++,G.charCodeAt(0))),Array.from(g,G=>k.setUint8(E++,G.charCodeAt(0))),Array.from(f,G=>k.setUint8(E++,G.charCodeAt(0))),Array.from(v,G=>k.setUint8(E++,G.charCodeAt(0))),Array.from(S,G=>k.setUint8(E++,G.charCodeAt(0)));var $=new Uint8Array(T.byteLength+r.byteLength);return $.set(new Uint8Array(T),0),$.set(new Uint8Array(r),T.byteLength),$.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,h,f,g,p]=r;return l({join_ref:c,ref:h,topic:f,event:g,payload:p})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,l,c)}_decodeUserBroadcast(n,l,r){const c=l.getUint8(1),h=l.getUint8(2),f=l.getUint8(3),g=l.getUint8(4);let p=this.HEADER_LENGTH+4;const v=r.decode(n.slice(p,p+c));p=p+c;const x=r.decode(n.slice(p,p+h));p=p+h;const S=r.decode(n.slice(p,p+f));p=p+f;const N=n.slice(p,n.byteLength),T=g===this.JSON_ENCODING?JSON.parse(r.decode(N)):N,k={type:this.BROADCAST_EVENT,event:x,payload:T};return f>0&&(k.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class cm{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ye||(Ye={}));const C0=(i,n,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=jv(f,i,n,c),h),{}):{}},jv=(i,n,l,r)=>{const c=n.find(g=>g.name===i),h=c?.type,f=l[i];return h&&!r.includes(h)?dm(h,f):ac(f)},dm=(i,n)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return Av(n,l)}switch(i){case Ye.bool:return Ev(n);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return Tv(n);case Ye.json:case Ye.jsonb:return Nv(n);case Ye.timestamp:return Ov(n);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return ac(n);default:return ac(n)}},ac=i=>i,Ev=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Tv=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},Nv=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Av=(i,n)=>{if(typeof i!="string")return i;const l=i.length-1,r=i[l];if(i[0]==="{"&&r==="}"){let h;const f=i.slice(1,l);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>dm(n,g))}return i},Ov=i=>typeof i=="string"?i.replace(" ","T"):i,hm=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Vu{constructor(n,l,r={},c=ec){this.channel=n,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var R0;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(R0||(R0={}));class Gl{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gl.syncState(this.state,c,h,f),this.pendingDiffs.forEach(p=>{this.state=Gl.syncDiff(this.state,p,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Gl.syncDiff(this.state,c,h,f),g())}),this.onJoin((c,h,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:f})}),this.onLeave((c,h,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,c){const h=this.cloneDeep(n),f=this.transformState(l),g={},p={};return this.map(h,(v,x)=>{f[v]||(p[v]=x)}),this.map(f,(v,x)=>{const S=h[v];if(S){const N=x.map($=>$.presence_ref),T=S.map($=>$.presence_ref),k=x.filter($=>T.indexOf($.presence_ref)<0),E=S.filter($=>N.indexOf($.presence_ref)<0);k.length>0&&(g[v]=k),E.length>0&&(p[v]=E)}else g[v]=x}),this.syncDiff(h,{joins:g,leaves:p},r,c)}static syncDiff(n,l,r,c){const{joins:h,leaves:f}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(h,(g,p)=>{var v;const x=(v=n[g])!==null&&v!==void 0?v:[];if(n[g]=this.cloneDeep(p),x.length>0){const S=n[g].map(T=>T.presence_ref),N=x.filter(T=>S.indexOf(T.presence_ref)<0);n[g].unshift(...N)}r(g,x,p)}),this.map(f,(g,p)=>{let v=n[g];if(!v)return;const x=p.map(S=>S.presence_ref);v=v.filter(S=>x.indexOf(S.presence_ref)<0),n[g]=v,c(g,v,p),v.length===0&&delete n[g]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const c=n[r];return"metas"in c?l[r]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):l[r]=c,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k0;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(k0||(k0={}));var Vl;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Vl||(Vl={}));var $a;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})($a||($a={}));class Vs{constructor(n,l={config:{}},r){var c,h;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Vu(this,fa.join,this.params,this.timeout),this.rejoinTimer=new cm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fa.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Gl(this),this.broadcastEndpointURL=hm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:f,presence:g,private:p}}=this.params,v=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(T=>T.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[Vl.PRESENCE]&&this.bindings[Vl.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,S={},N={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:x}),postgres_changes:v,private:p};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(T=>n?.($a.CHANNEL_ERROR,T)),this._onClose(()=>n?.($a.CLOSED)),this.updateJoinPayload(Object.assign({config:N},S)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:T})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){n?.($a.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,$=(k=E?.length)!==null&&k!==void 0?k:0,G=[];for(let K=0;K<$;K++){const H=E[K],{filter:{event:Z,schema:de,table:I,filter:Q}}=H,we=T&&T[K];if(we&&we.event===Z&&Vs.isFilterValueEqual(we.schema,de)&&Vs.isFilterValueEqual(we.table,I)&&Vs.isFilterValueEqual(we.filter,Q))G.push(Object.assign(Object.assign({},H),{id:we.id}));else{this.unsubscribe(),this.state=ht.errored,n?.($a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,n&&n($a.SUBSCRIBED);return}}).receive("error",T=>{this.state=ht.errored,n?.($a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{n?.($a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,l={}){return await this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,l,r){return this.state===ht.joined&&n===Vl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,l,r)}async httpSend(n,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const v=await g.json();p=v.error||v.message||p}catch{}return Promise.reject(new Error(p))}async send(n,l={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){const{event:h,payload:f}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,p;const v=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("error",()=>h("error")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ht.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Vu(this,fa.leave,{},n),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(n,l,r){const c=new AbortController,h=setTimeout(()=>c.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(h),f}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Vu(this,n,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>wv){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var c,h;const f=n.toLocaleLowerCase(),{close:g,error:p,leave:v,join:x}=fa;if(r&&[g,p,v,x].indexOf(f)>=0&&r!==this._joinRef())return;let N=this._onMessage(f,l,r);if(l&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(T=>{var k,E,$;return((k=T.filter)===null||k===void 0?void 0:k.event)==="*"||(($=(E=T.filter)===null||E===void 0?void 0:E.event)===null||$===void 0?void 0:$.toLocaleLowerCase())===f}).map(T=>T.callback(N,r)):(h=this.bindings[f])===null||h===void 0||h.filter(T=>{var k,E,$,G,K,H,Z,de;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const I=T.id,Q=(k=T.filter)===null||k===void 0?void 0:k.event;return I&&((E=l.ids)===null||E===void 0?void 0:E.includes(I))&&(Q==="*"||Q?.toLocaleLowerCase()===(($=l.data)===null||$===void 0?void 0:$.type.toLocaleLowerCase()))&&(!(!((G=T.filter)===null||G===void 0)&&G.table)||T.filter.table===((K=l.data)===null||K===void 0?void 0:K.table))}else{const I=(Z=(H=T?.filter)===null||H===void 0?void 0:H.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return I==="*"||I===((de=l?.event)===null||de===void 0?void 0:de.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof N=="object"&&"ids"in N){const k=N.data,{schema:E,table:$,commit_timestamp:G,type:K,errors:H}=k;N=Object.assign(Object.assign({},{schema:E,table:$,commit_timestamp:G,eventType:K,new:{},old:{},errors:H}),this._getPayloadRecords(k))}T.callback(N,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const c=n.toLocaleLowerCase(),h={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&Vs.isEqual(c.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}static isFilterValueEqual(n,l){return(n??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(fa.close,{},n)}_onError(n){this._on(fa.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=C0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=C0(n.columns,n.old_record)),l}}const Yu=()=>{},hr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cv=[1e3,2e3,5e3,1e4],Rv=1e4,kv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zv{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ec,this.transport=null,this.heartbeatIntervalMs=hr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yu,this.ref=0,this.reconnectTimer=null,this.vsn=O0,this.logger=Yu,this.conn=null,this.sendBuffer=[],this.serializer=new Sv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${tc.websocket}`,this.httpEndpoint=hm(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const l=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const n=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case pn.connecting:return Gn.Connecting;case pn.open:return Gn.Open;case pn.closing:return Gn.Closing;default:return Gn.Closed}}isConnected(){return this.connectionState()===Gn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(h=>h.topic===r);if(c)return c;{const h=new Vs(`realtime:${n}`,l,this);return this.channels.push(h),h}}push(n){const{topic:l,event:r,payload:c,ref:h}=n,f=()=>{this.encode(n,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${l} ${r} (${h})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(_v,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},hr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",v)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:h,ref:f}=l,g=f?`(${f})`:"",p=h.status||"";this.log("receive",`${p} ${r} ${c} ${g}`.trim(),h),this.channels.filter(v=>v._isMember(r)).forEach(v=>v._trigger(c,h,f)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===pn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===pn.open||this.conn.readyState===pn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(fa.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${n}${r}${c}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([kv],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(n=null){let l,r=!1;if(n)l=n,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const h={access_token:l,version:bv};l&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(fa.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new cm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var l,r,c,h,f,g,p,v,x,S,N,T;switch(this.transport=(l=n?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:ec,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:hr.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n?.heartbeatCallback)!==null&&g!==void 0?g:Yu,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:O0,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=n?.reconnectAfterMs)!==null&&v!==void 0?v:(k=>Cv[k-1]||Rv),this.vsn){case um:this.encode=(x=n?.encode)!==null&&x!==void 0?x:((k,E)=>E(JSON.stringify(k))),this.decode=(S=n?.decode)!==null&&S!==void 0?S:((k,E)=>E(JSON.parse(k)));break;case xv:this.encode=(N=n?.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(T=n?.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Kl=class extends Error{constructor(i,n){super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Dv(i,n,l){const r=new URL(n,i);if(l)for(const[c,h]of Object.entries(l))h!==void 0&&r.searchParams.set(c,h);return r.toString()}async function Uv(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Mv(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:h,headers:f}){const g=Dv(i.baseUrl,r,c),p=await Uv(i.auth),v=await n(g,{method:l,headers:{...h?{"Content-Type":"application/json"}:{},...p,...f},body:h?JSON.stringify(h):void 0}),x=await v.text(),S=(v.headers.get("content-type")||"").includes("application/json"),N=S&&x?JSON.parse(x):x;if(!v.ok){const T=S?N:void 0,k=T?.error;throw new Kl(k?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:k?.type,icebergCode:k?.code,details:T})}return{status:v.status,headers:v.headers,data:N}}}}function fr(i){return i.join("")}var Bv=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:fr(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,n){const l={namespace:i.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fr(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fr(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fr(i.namespace)}`}),!0}catch(n){if(n instanceof Kl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(l){if(l instanceof Kl&&l.status===409)return;throw l}}};function Ds(i){return i.join("")}var Lv=class{constructor(i,n="",l){this.client=i,this.prefix=n,this.accessDelegation=l}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables`,body:n,headers:l})).data.metadata}async updateTable(i,n){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ds(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(l){if(l instanceof Kl&&l.status===404)return!1;throw l}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(l){if(l instanceof Kl&&l.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw l}}},qv=class{constructor(i){let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const l=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Mv({baseUrl:l,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Bv(this.client,n),this.tableOps=new Lv(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},wr=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Ze(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var $v=class extends wr{constructor(i,n,l){super(i),this.name="StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nc=class extends wr{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}};const fc=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Hv=()=>Response,sc=i=>{if(Array.isArray(i))return i.map(l=>sc(l));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[c]=sc(r)}),n},Gv=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Vv=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Xl(i){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xl(i)}function Yv(i,n){if(Xl(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Kv(i){var n=Yv(i,"string");return Xl(n)=="symbol"?n:n+""}function Xv(i,n,l){return(n=Kv(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function z0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),l.push.apply(l,r)}return l}function ce(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?z0(Object(l),!0).forEach(function(r){Xv(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):z0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const Ku=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},Qv=async(i,n,l)=>{i instanceof await Hv()&&!l?.noResolveJson?i.json().then(r=>{const c=i.status||500,h=r?.statusCode||c+"";n(new $v(Ku(r),c,h))}).catch(r=>{n(new nc(Ku(r),r))}):n(new nc(Ku(i),i))},Jv=(i,n,l,r)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"||!r?c:(Gv(r)?(c.headers=ce({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(r)):c.body=r,n?.duplex&&(c.duplex=n.duplex),ce(ce({},c),l))};async function Pl(i,n,l,r,c,h){return new Promise((f,g)=>{i(l,Jv(n,r,c,h)).then(p=>{if(!p.ok)throw p;return r?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>Qv(p,g,r))})}async function Ql(i,n,l,r){return Pl(i,"GET",n,l,r)}async function ha(i,n,l,r,c){return Pl(i,"POST",n,r,c,l)}async function lc(i,n,l,r,c){return Pl(i,"PUT",n,r,c,l)}async function Zv(i,n,l,r){return Pl(i,"HEAD",n,ce(ce({},l),{},{noResolveJson:!0}),r)}async function mc(i,n,l,r,c){return Pl(i,"DELETE",n,r,c,l)}var Iv=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}};let fm;fm=Symbol.toStringTag;var Pv=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[fm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Iv(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}}};const Fv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},D0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Wv=class{constructor(i,n={},l,r){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.bucketId=l,this.fetch=fc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,n,l,r){var c=this;try{let h;const f=ce(ce({},D0),r);let g=ce(ce({},c.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),p&&h.append("metadata",c.encodeMetadata(p)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),p&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(p))):(h=l,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,p&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),r?.headers&&(g=ce(ce({},g),r.headers));const v=c._removeEmptyFolders(n),x=c._getFinalPath(v),S=await(i=="PUT"?lc:ha)(c.fetch,`${c.url}/object/${x}`,h,ce({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:S.Id,fullPath:S.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if(Ze(h))return{data:null,error:h};throw h}}async upload(i,n,l){return this.uploadOrUpdate("POST",i,n,l)}async uploadToSignedUrl(i,n,l,r){var c=this;const h=c._removeEmptyFolders(i),f=c._getFinalPath(h),g=new URL(c.url+`/object/upload/sign/${f}`);g.searchParams.set("token",n);try{let p;const v=ce({upsert:D0.upsert},r),x=ce(ce({},c.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",v.cacheControl)):(p=l,x["cache-control"]=`max-age=${v.cacheControl}`,x["content-type"]=v.contentType),{data:{path:h,fullPath:(await lc(c.fetch,g.toString(),p,{headers:x})).Key},error:null}}catch(p){if(c.shouldThrowOnError)throw p;if(Ze(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(i,n){var l=this;try{let r=l._getFinalPath(i);const c=ce({},l.headers);n?.upsert&&(c["x-upsert"]="true");const h=await ha(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),f=new URL(l.url+h.url),g=f.searchParams.get("token");if(!g)throw new wr("No token returned by API");return{data:{signedUrl:f.toString(),path:i,token:g},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}}async update(i,n,l){return this.uploadOrUpdate("PUT",i,n,l)}async move(i,n,l){var r=this;try{return{data:await ha(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers}),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}}async copy(i,n,l){var r=this;try{return{data:{path:(await ha(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}}async createSignedUrl(i,n,l){var r=this;try{let c=r._getFinalPath(i),h=await ha(r.fetch,`${r.url}/object/sign/${c}`,ce({expiresIn:n},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return h={signedUrl:encodeURI(`${r.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}}async createSignedUrls(i,n,l){var r=this;try{const c=await ha(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:i},{headers:r.headers}),h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(f=>ce(ce({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${h}`):null})),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}}download(i,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),c=r?`?${r}`:"",h=this._getFinalPath(i),f=()=>Ql(this.fetch,`${this.url}/${l}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new Pv(f,this.shouldThrowOnError)}async info(i){var n=this;const l=n._getFinalPath(i);try{return{data:sc(await Ql(n.fetch,`${n.url}/object/info/${l}`,{headers:n.headers})),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}}async exists(i){var n=this;const l=n._getFinalPath(i);try{return await Zv(n.fetch,`${n.url}/object/${l}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ze(r)&&r instanceof nc){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(i,n){const l=this._getFinalPath(i),r=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&r.push(c);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&r.push(f);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${l}${g}`)}}}async remove(i){var n=this;try{return{data:await mc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async list(i,n,l){var r=this;try{const c=ce(ce(ce({},Fv),n),{},{prefix:i||""});return{data:await ha(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l),error:null}}catch(c){if(r.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}}async listV2(i,n){var l=this;try{const r=ce({},i);return{data:await ha(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},n),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const mm="2.90.1",pm={"X-Client-Info":`storage-js/${mm}`};var eb=class{constructor(i,n={},l,r){this.shouldThrowOnError=!1;const c=new URL(i);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ce(ce({},pm),n),this.fetch=fc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var n=this;try{const l=n.listBucketOptionsToQueryString(i);return{data:await Ql(n.fetch,`${n.url}/bucket${l}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async getBucket(i){var n=this;try{return{data:await Ql(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async createBucket(i,n={public:!1}){var l=this;try{return{data:await ha(l.fetch,`${l.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}}async updateBucket(i,n){var l=this;try{return{data:await lc(l.fetch,`${l.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}}async emptyBucket(i){var n=this;try{return{data:await ha(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async deleteBucket(i){var n=this;try{return{data:await mc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},tb=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},pm),n),this.fetch=fc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await ha(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async listBuckets(i){var n=this;try{const l=new URLSearchParams;i?.limit!==void 0&&l.set("limit",i.limit.toString()),i?.offset!==void 0&&l.set("offset",i.offset.toString()),i?.sortColumn&&l.set("sortColumn",i.sortColumn),i?.sortOrder&&l.set("sortOrder",i.sortOrder),i?.search&&l.set("search",i.search);const r=l.toString(),c=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return{data:await Ql(n.fetch,c,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async deleteBucket(i){var n=this;try{return{data:await mc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}from(i){var n=this;if(!Vv(i))throw new wr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new qv({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,h){const f=c[h];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(c,g),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}};const pc={"X-Client-Info":`storage-js/${mm}`,"Content-Type":"application/json"};var gm=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Kt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var Xu=class extends gm{constructor(i,n,l){super(i),this.name="StorageVectorsApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ab=class extends gm{constructor(i,n){super(i),this.name="StorageVectorsUnknownError",this.originalError=n}};const gc=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),nb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},U0=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),sb=async(i,n,l)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!l?.noResolveJson){const r=i.status||500,c=i;if(typeof c.json=="function")c.json().then(h=>{const f=h?.statusCode||h?.code||r+"";n(new Xu(U0(h),r,f))}).catch(()=>{const h=r+"";n(new Xu(c.statusText||`HTTP ${r} error`,r,h))});else{const h=r+"";n(new Xu(c.statusText||`HTTP ${r} error`,r,h))}}else n(new ab(U0(i),i))},lb=(i,n,l,r)=>{const c={method:i,headers:n?.headers||{}};return r?(nb(r)?(c.headers=ce({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(r)):c.body=r,ce(ce({},c),l)):c};async function ib(i,n,l,r,c,h){return new Promise((f,g)=>{i(l,lb(n,r,c,h)).then(p=>{if(!p.ok)throw p;if(r?.noResolveJson)return p;const v=p.headers.get("content-type");return!v||!v.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>sb(p,g,r))})}async function Xt(i,n,l,r,c){return ib(i,"POST",n,r,c,l)}var rb=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},pc),n),this.fetch=gc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async getIndex(i,n){var l=this;try{return{data:await Xt(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers}),error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}}async listIndexes(i){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async deleteIndex(i,n){var l=this;try{return{data:await Xt(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers})||{},error:null}}catch(r){if(l.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}}},ob=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},pc),n),this.fetch=gc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var n=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Xt(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async getVectors(i){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async listVectors(i){var n=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await Xt(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async queryVectors(i){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async deleteVectors(i){var n=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Xt(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}},ub=class{constructor(i,n={},l){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ce(ce({},pc),n),this.fetch=gc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async getBucket(i){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async listBuckets(i={}){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}async deleteBucket(i){var n=this;try{return{data:await Xt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Kt(l))return{data:null,error:l};throw l}}},cb=class extends ub{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new db(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,l=this;return n().call(l,i)}async getBucket(i){var n=()=>super.getBucket,l=this;return n().call(l,i)}async listBuckets(i={}){var n=()=>super.listBuckets,l=this;return n().call(l,i)}async deleteBucket(i){var n=()=>super.deleteBucket,l=this;return n().call(l,i)}},db=class extends rb{constructor(i,n,l,r){super(i,n,r),this.vectorBucketName=l}async createIndex(i){var n=()=>super.createIndex,l=this;return n().call(l,ce(ce({},i),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,l=this;return n().call(l,ce(ce({},i),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,l=this;return n().call(l,l.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,l=this;return n().call(l,l.vectorBucketName,i)}index(i){return new hb(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},hb=class extends ob{constructor(i,n,l,r,c){super(i,n,c),this.vectorBucketName=l,this.indexName=r}async putVectors(i){var n=()=>super.putVectors,l=this;return n().call(l,ce(ce({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(i){var n=()=>super.getVectors,l=this;return n().call(l,ce(ce({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,l=this;return n().call(l,ce(ce({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,l=this;return n().call(l,ce(ce({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,l=this;return n().call(l,ce(ce({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},fb=class extends eb{constructor(i,n={},l,r){super(i,n,l,r)}from(i){return new Wv(this.url,this.headers,i,this.fetch)}get vectors(){return new cb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tb(this.url+"/iceberg",this.headers,this.fetch)}};const ym="2.90.1",Hs=30*1e3,ic=3,Qu=ic*Hs,mb="http://localhost:9999",pb="supabase.auth.token",gb={"X-Client-Info":`gotrue-js/${ym}`},rc="X-Supabase-Api-Version",vm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vb=600*1e3;class Jl extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function ae(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class bb extends Jl{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function xb(i){return ae(i)&&i.name==="AuthApiError"}class Vn extends Jl{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class Ha extends Jl{constructor(n,l,r,c){super(n,r,c),this.name=l,this.status=r}}class Yt extends Ha{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _b(i){return ae(i)&&i.name==="AuthSessionMissingError"}class Us extends Ha{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mr extends Ha{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class pr extends Ha{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wb(i){return ae(i)&&i.name==="AuthImplicitGrantRedirectError"}class M0 extends Ha{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sb extends Ha{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class oc extends Ha{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function Ju(i){return ae(i)&&i.name==="AuthRetryableFetchError"}class B0 extends Ha{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class uc extends Ha{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),L0=` 	
\r=`.split(""),jb=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<L0.length;n+=1)i[L0[n].charCodeAt(0)]=-2;for(let n=0;n<yr.length;n+=1)i[yr[n].charCodeAt(0)]=n;return i})();function q0(i,n,l){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(yr[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(yr[r]),n.queuedBits-=6}}function bm(i,n,l){const r=jb[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function $0(i){const n=[],l=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=f=>{Nb(f,r,l)};for(let f=0;f<i.length;f+=1)bm(i.charCodeAt(f),c,h);return n.join("")}function Eb(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Tb(i,n){for(let l=0;l<i.length;l+=1){let r=i.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(i.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}Eb(r,n)}}function Nb(i,n,l){if(n.utf8seq===0){if(i<=127){l(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function Ys(i){const n=[],l={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<i.length;c+=1)bm(i.charCodeAt(c),l,r);return new Uint8Array(n)}function Ab(i){const n=[];return Tb(i,l=>n.push(l)),new Uint8Array(n)}function Yn(i){const n=[],l={queue:0,queuedBits:0},r=c=>{n.push(c)};return i.forEach(c=>q0(c,l,r)),q0(null,l,r),n.join("")}function Ob(i){return Math.round(Date.now()/1e3)+i}function Cb(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",qn={tested:!1,writable:!1},xm=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qn.tested)return qn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),qn.tested=!0,qn.writable=!0}catch{qn.tested=!0,qn.writable=!1}return qn.writable};function Rb(i){const n={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,h)=>{n[h]=c})}catch{}return l.searchParams.forEach((r,c)=>{n[c]=r}),n}const _m=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),kb=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Gs=async(i,n,l)=>{await i.setItem(n,JSON.stringify(l))},$n=async(i,n)=>{const l=await i.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch{return l}},_t=async(i,n)=>{await i.removeItem(n)};class Sr{constructor(){this.promise=new Sr.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}Sr.promiseConstructor=Promise;function Zu(i){const n=i.split(".");if(n.length!==3)throw new uc("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!yb.test(n[r]))throw new uc("JWT not in base64url format");return{header:JSON.parse($0(n[0])),payload:JSON.parse($0(n[1])),signature:Ys(n[2]),raw:{header:n[0],payload:n[1]}}}async function zb(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function Db(i,n){return new Promise((r,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!n(h,null,f)){r(f);return}}catch(f){if(!n(h,f)){c(f);return}}})()})}function Ub(i){return("0"+i.toString(16)).substr(-2)}function Mb(){const n=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let h=0;h<56;h++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,Ub).join("")}async function Bb(i){const l=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function Lb(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return i;const l=await Bb(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ms(i,n,l=!1){const r=Mb();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await Gs(i,`${n}-code-verifier`,c);const h=await Lb(r);return[h,r===h?"plain":"s256"]}const qb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $b(i){const n=i.headers.get(rc);if(!n||!n.match(qb))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Hb(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function Gb(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bs(i){if(!Vb.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Iu(){const i={};return new Proxy(i,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yb(i,n){return new Proxy(i,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!n.value&&typeof r=="string"&&(n.value=!0),Reflect.get(l,r,c)}})}function H0(i){return JSON.parse(JSON.stringify(i))}const Hn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Kb=[502,503,504];async function G0(i){var n;if(!kb(i))throw new oc(Hn(i),0);if(Kb.includes(i.status))throw new oc(Hn(i),i.status);let l;try{l=await i.json()}catch(h){throw new Vn(Hn(h),h)}let r;const c=$b(i);if(c&&c.getTime()>=vm["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new B0(Hn(l),i.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Yt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new B0(Hn(l),i.status,l.weak_password.reasons);throw new bb(Hn(l),i.status||500,r)}const Xb=(i,n,l,r)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function ue(i,n,l,r){var c;const h=Object.assign({},r?.headers);h[rc]||(h[rc]=vm["2024-01-01"].name),r?.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const f=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await Qb(i,n,l+g,{headers:h,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function Qb(i,n,l,r,c,h){const f=Xb(n,r,c,h);let g;try{g=await i(l,Object.assign({},f))}catch(p){throw new oc(Hn(p),0)}if(g.ok||await G0(g),r?.noResolveJson)return g;try{return await g.json()}catch(p){await G0(p)}}function da(i){var n;let l=null;Ib(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=Ob(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:l,user:r},error:null}}function V0(i){const n=da(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function gn(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function Jb(i){return{data:i,error:null}}function Zb(i){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:c,verification_type:h}=i,f=_r(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:l,hashed_token:r,redirect_to:c,verification_type:h},p=Object.assign({},f);return{data:{properties:g,user:p},error:null}}function Y0(i){return i}function Ib(i){return i.access_token&&i.refresh_token&&i.expires_in}const Pu=["global","local","others"];class Pb{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=_m(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,l=Pu[0]){if(Pu.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pu.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,l={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:gn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:l}=n,r=_r(n,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Zb,redirectTo:l?.redirectTo})}catch(l){if(ae(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:gn})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async listUsers(n){var l,r,c,h,f,g,p;try{const v={nextPage:null,lastPage:0,total:0},x=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Y0});if(x.error)throw x.error;const S=await x.json(),N=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(p=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(k=>{const E=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(k.split(";")[1].split("=")[1]);v[`${$}Page`]=E}),v.total=parseInt(N)),{data:Object.assign(Object.assign({},S),v),error:null}}catch(v){if(ae(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){Bs(n);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:gn})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async updateUserById(n,l){Bs(n);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:gn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,l=!1){Bs(n);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:gn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Bs(n.userId);try{const{data:l,error:r}=await ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _deleteFactor(n){Bs(n.userId),Bs(n.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _listOAuthClients(n){var l,r,c,h,f,g,p;try{const v={nextPage:null,lastPage:0,total:0},x=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Y0});if(x.error)throw x.error;const S=await x.json(),N=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(p=(g=x.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return T.length>0&&(T.forEach(k=>{const E=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(k.split(";")[1].split("=")[1]);v[`${$}Page`]=E}),v.total=parseInt(N)),{data:Object.assign(Object.assign({},S),v),error:null}}catch(v){if(ae(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _getOAuthClient(n){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _updateOAuthClient(n,l){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ae(l))return{data:null,error:l};throw l}}}function K0(i={}){return{getItem:n=>i[n]||null,setItem:(n,l)=>{i[n]=l},removeItem:n=>{delete i[n]}}}const Ls={debug:!!(globalThis&&xm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Fb extends wm{}async function Wb(i,n,l){Ls.debug;const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Ls.debug},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){Ls.debug;try{return await l()}finally{Ls.debug}}else{if(n===0)throw Ls.debug,new Fb(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ls.debug)try{const h=await globalThis.navigator.locks.query()}catch{}return await l()}}))}function ex(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Sm(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function tx(i){return parseInt(i,16)}function ax(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function nx(i){var n;const{chainId:l,domain:r,expirationTime:c,issuedAt:h=new Date,nonce:f,notBefore:g,requestId:p,resources:v,scheme:x,uri:S,version:N}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const T=Sm(i.address),k=x?`${x}://${r}`:r,E=i.statement?`${i.statement}
`:"",$=`${k} wants you to sign in with your Ethereum account:
${T}

${E}`;let G=`URI: ${S}
Version: ${N}
Chain ID: ${l}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(c&&(G+=`
Expiration Time: ${c.toISOString()}`),g&&(G+=`
Not Before: ${g.toISOString()}`),p&&(G+=`
Request ID: ${p}`),v){let K=`
Resources:`;for(const H of v){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);K+=`
- ${H}`}G+=K}return`${$}
${G}`}class ot extends Error{constructor({message:n,code:l,cause:r,name:c}){var h;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=c??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=l}}class vr extends ot{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function sx({error:i,options:n}){var l,r,c;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=h.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new ot({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(jm(f)){if(h.rp.id!==f)return new ot({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function lx({error:i,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new ot({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(jm(r)){if(l.rpId!==r)return new ot({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class ix{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const rx=new ix;function ox(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:l,excludeCredentials:r}=i,c=_r(i,["challenge","user","excludeCredentials"]),h=Ys(n).buffer,f=Object.assign(Object.assign({},l),{id:Ys(l.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:h,user:f});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const v=r[p];g.excludeCredentials[p]=Object.assign(Object.assign({},v),{id:Ys(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return g}function ux(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:l}=i,r=_r(i,["challenge","allowCredentials"]),c=Ys(n).buffer,h=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){h.allowCredentials=new Array(l.length);for(let f=0;f<l.length;f++){const g=l[f];h.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Ys(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function cx(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:Yn(new Uint8Array(i.response.attestationObject)),clientDataJSON:Yn(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function dx(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,r=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Yn(new Uint8Array(c.authenticatorData)),clientDataJSON:Yn(new Uint8Array(c.clientDataJSON)),signature:Yn(new Uint8Array(c.signature)),userHandle:c.userHandle?Yn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function jm(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function X0(){var i,n;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function hx(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new vr("Browser returned unexpected credential type",n)}:{data:null,error:new vr("Empty credential response",n)}}catch(n){return{data:null,error:sx({error:n,options:i})}}}async function fx(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new vr("Browser returned unexpected credential type",n)}:{data:null,error:new vr("Empty credential response",n)}}catch(n){return{data:null,error:lx({error:n,options:i})}}}const mx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},px={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function br(...i){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of i)if(c)for(const h in c){const f=c[h];if(f!==void 0)if(Array.isArray(f))r[h]=f;else if(l(f))r[h]=f;else if(n(f)){const g=r[h];n(g)?r[h]=br(g,f):r[h]=br(f)}else r[h]=f}return r}function gx(i,n){return br(mx,i,n||{})}function yx(i,n){return br(px,i,n||{})}class vx{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:l,friendlyName:r,signal:c},h){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:l});if(!f)return{data:null,error:g};const p=c??rx.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:v}=f.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${r}`),v.displayName||(v.displayName=v.name)}switch(f.webauthn.type){case"create":{const v=gx(f.webauthn.credential_options.publicKey,h?.create),{data:x,error:S}=await hx({publicKey:v,signal:p});return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:S}}case"request":{const v=yx(f.webauthn.credential_options.publicKey,h?.request),{data:x,error:S}=await fx(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:v,signal:p}));return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:S}}}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new Vn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!l)return{data:null,error:new Jl("rpId is required for WebAuthn authentication")};try{if(!X0())return{data:null,error:new Vn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:h});if(!f)return{data:null,error:g};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:l,rpOrigins:r,credential_response:p.credential_response}})}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new Vn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!l)return{data:null,error:new Jl("rpId is required for WebAuthn registration")};try{if(!X0())return{data:null,error:new Vn("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(x=>{var S;return(S=x.data)===null||S===void 0?void 0:S.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===n&&N.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:g};const{data:p,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:h});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:l,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:v}}catch(f){return ae(f)?{data:null,error:f}:{data:null,error:new Vn("Unexpected error in register",f)}}}}ex();const bx={url:mb,storageKey:pb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Q0(i,n,l){return await l()}const qs={};class Zl{get jwks(){var n,l;return(l=(n=qs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=qs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},bx),n);if(this.storageKey=h.storageKey,this.instanceID=(l=Zl.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Zl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&wt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;this.logDebugMessages}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new Pb({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=_m(h.fetch),this.lock=h.lock||Q0,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&wt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Wb:this.lock=Q0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:xm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K0(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=K0(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch{}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ym}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let l={},r="none";if(wt()&&(l=Rb(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),wt()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:h}=await this._getSessionFromURL(l,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),wb(h)){const p=(n=h.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return ae(l)?this._returnResult({error:l}):this._returnResult({error:new Vn("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var l,r,c;try{const h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:da}),{data:f,error:g}=h;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const p=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(h){if(ae(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var l,r,c;try{let h;if("email"in n){const{email:x,password:S,options:N}=n;let T=null,k=null;this.flowType==="pkce"&&([T,k]=await Ms(this.storage,this.storageKey)),h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N?.emailRedirectTo,body:{email:x,password:S,data:(l=N?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:N?.captchaToken},code_challenge:T,code_challenge_method:k},xform:da})}else if("phone"in n){const{phone:x,password:S,options:N}=n;h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:S,data:(r=N?.data)!==null&&r!==void 0?r:{},channel:(c=N?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:N?.captchaToken}},xform:da})}else throw new mr("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return await _t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const p=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(h){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let l;if("email"in n){const{email:h,password:f,options:g}=n;l=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:V0})}else if("phone"in n){const{phone:h,password:f,options:g}=n;l=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:V0})}else throw new mr("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const h=new Us;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(n){var l,r,c,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:l}=n;switch(l){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(n){var l,r,c,h,f,g,p,v,x,S,N;let T,k;if("message"in n)T=n.message,k=n.signature;else{const{chain:E,wallet:$,statement:G,options:K}=n;let H;if(wt())if(typeof $=="object")H=$;else{const xe=window;if("ethereum"in xe&&typeof xe.ethereum=="object"&&"request"in xe.ethereum&&typeof xe.ethereum.request=="function")H=xe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!K?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=$}const Z=new URL((l=K?.url)!==null&&l!==void 0?l:window.location.href),de=await H.request({method:"eth_requestAccounts"}).then(xe=>xe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!de||de.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=Sm(de[0]);let Q=(r=K?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Q){const xe=await H.request({method:"eth_chainId"});Q=tx(xe)}const we={domain:Z.host,address:I,statement:G,uri:Z.href,version:"1",chainId:Q,nonce:(c=K?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(h=K?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=K?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=K?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(v=K?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(x=K?.signInWithEthereum)===null||x===void 0?void 0:x.resources};T=nx(we),k=await H.request({method:"personal_sign",params:[ax(T),I]})}try{const{data:E,error:$}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:k},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:da});if($)throw $;if(!E||!E.session||!E.user){const G=new Us;return this._returnResult({data:{user:null,session:null},error:G})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:$})}catch(E){if(ae(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(n){var l,r,c,h,f,g,p,v,x,S,N,T;let k,E;if("message"in n)k=n.message,E=n.signature;else{const{chain:$,wallet:G,statement:K,options:H}=n;let Z;if(wt())if(typeof G=="object")Z=G;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))Z=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=G}const de=new URL((l=H?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in Z&&Z.signIn){const I=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:de.host,uri:de.href}),K?{statement:K}:null));let Q;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")Q=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)Q=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)k=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),E=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${de.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${de.href}`,`Issued At: ${(c=(r=H?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=H?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((g=H?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((p=H?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((v=H?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((S=(x=H?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||S===void 0)&&S.length?["Resources",...H.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const I=await Z.signMessage(new TextEncoder().encode(k),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=I}}try{const{data:$,error:G}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Yn(E)},!((N=n.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:da});if(G)throw G;if(!$||!$.session||!$.user){const K=new Us;return this._returnResult({data:{user:null,session:null},error:K})}return $.session&&(await this._saveSession($.session),await this._notifyAllSubscribers("SIGNED_IN",$.session)),this._returnResult({data:Object.assign({},$),error:G})}catch($){if(ae($))return this._returnResult({data:{user:null,session:null},error:$});throw $}}async _exchangeCodeForSession(n){const l=await $n(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Sb;const{data:h,error:f}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:da});if(await _t(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const g=new Us;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:f})}catch(h){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:l,provider:r,token:c,access_token:h,nonce:f}=n,g=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:da}),{data:p,error:v}=g;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!p||!p.session||!p.user){const x=new Us;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:v})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(n){var l,r,c,h,f;try{if("email"in n){const{email:g,options:p}=n;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Ms(this.storage,this.storageKey));const{error:S}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:v,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:g,options:p}=n,{data:v,error:x}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(h=p?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:x})}throw new mr("You must provide either an email or phone number.")}catch(g){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ae(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var l,r;try{let c,h;"options"in n&&(c=(l=n.options)===null||l===void 0?void 0:l.redirectTo,h=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:g}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:da});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,v=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var l,r,c,h,f;try{let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Ms(this.storage,this.storageKey));const v=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:p}),headers:this.headers,xform:Jb});return!((h=v.data)===null||h===void 0)&&h.url&&wt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(g){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ae(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new Yt;const{error:c}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:h}=n,{error:f}=await ue(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:c,options:h}=n,{data:f,error:g}=await ue(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new mr("You must provide either an email or phone number and a type")}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(n,l){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await n(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=await $n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Qu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await $n(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Iu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Yb(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(n){try{return n?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:gn}):await this._useSession(async l=>{var r,c,h;const{data:f,error:g}=l;if(g)throw g;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:gn})})}catch(l){if(ae(l))return _b(l)&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(n,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,l))}async _updateUser(n,l={}){try{return await this._useSession(async r=>{const{data:c,error:h}=r;if(h)throw h;if(!c.session)throw new Yt;const f=c.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=await Ms(this.storage,this.storageKey));const{data:v,error:x}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:f.access_token,xform:gn});if(x)throw x;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Yt;const l=Date.now()/1e3;let r=l,c=!0,h=null;const{payload:f}=Zu(n.access_token);if(f.exp&&(r=f.exp,c=r<=l),c){const{data:g,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:p}=await this._getUser(n.access_token);if(p)throw p;h={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(l){if(ae(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async l=>{var r;if(!n){const{data:f,error:g}=l;if(g)throw g;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new Yt;const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(n,l){try{if(!wt())throw new pr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new pr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new M0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pr("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new M0("No code detected.");const{data:K,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:h,refresh_token:f,expires_in:g,expires_at:p,token_type:v}=n;if(!h||!g||!f||!v)throw new pr("No session defined in URL");const x=Math.round(Date.now()/1e3),S=parseInt(g);let N=x+S;p&&(N=parseInt(p)),(N-x)*1e3<=Hs;const k=N-S;x-k>=120||x-k<0;const{data:E,error:$}=await this._getUser(h);if($)throw $;const G={provider_token:r,provider_refresh_token:c,access_token:h,expires_in:S,expires_at:N,refresh_token:f,token_type:v,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:G,redirectType:n.type},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const l=await $n(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({error:h});const f=(r=c.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(xb(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const l=Cb(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async l=>{var r,c;try{const{data:{session:h},error:f}=l;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h)}})}async resetPasswordForEmail(n,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await Ms(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(h){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ae(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var l;try{const{data:r,error:c}=await this._useSession(async h=>{var f,g,p,v,x;const{data:S,error:N}=h;if(N)throw N;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",T,{headers:this.headers,jwt:(x=(v=S.session)===null||v===void 0?void 0:v.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return wt()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(ae(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:h}}=l;if(c)throw c;const{options:f,provider:g,token:p,access_token:v,nonce:x}=n,S=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:p,access_token:v,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:da}),{data:N,error:T}=S;return T?this._returnResult({data:{user:null,session:null},error:T}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new Us}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:T}))}catch(c){if(await _t(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async l=>{var r,c;const{data:h,error:f}=l;if(f)throw f;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(n){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await Db(async c=>(c>0&&await zb(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:da})),(c,h)=>{const f=200*Math.pow(2,c);return h&&Ju(h)&&Date.now()+f-r<Hs})}catch(r){if(this._debug(l,"error",r),ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),wt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await $n(this.storage,this.storageKey);if(c&&this.userStorage){let f=await $n(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Gs(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f?.user)!==null&&n!==void 0?n:Iu()}else if(c&&!c.user&&!c.user){const f=await $n(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await _t(this.storage,this.storageKey+"-user"),await Gs(this.storage,this.storageKey,c)):c.user=Iu()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const h=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Qu;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${Qu}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(Ju(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(c.access_token);!g&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var l,r;if(!n)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Sr;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Yt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(c,"error",h),ae(h)){const f={data:null,error:h};return Ju(h)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,l,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,l)}catch(p){h.push(p)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await _t(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await Gs(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const h=H0(c);await Gs(this.storage,this.storageKey,h)}else{const c=H0(l);await Gs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _t(this.storage,this.storageKey),await _t(this.storage,this.storageKey+"-code-verifier"),await _t(this.storage,this.storageKey+"-user"),this.userStorage&&await _t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&wt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch{}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Hs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/Hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Hs}ms, refresh threshold is ${ic} ticks`),c<=ic&&await this._callRefreshToken(r.refresh_token)})}catch{}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof wm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch{}}async _onVisibilityChanged(n){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,f]=await Ms(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(g.toString())}if(r?.queryParams){const h=new URLSearchParams(r.queryParams);c.push(h.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;return h?this._returnResult({data:null,error:h}):await ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(n){try{return await this._useSession(async l=>{var r,c;const{data:h,error:f}=l;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:v}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=h?.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(n.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?cx(n.webauthn.credential_response):dx(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:p}=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:p}))})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const f=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:ox(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:ux(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(n){const{data:l,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})}async _listFactors(){var n;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=l?.factors)!==null&&n!==void 0?n:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,l;const{data:{session:r},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Zu(r.access_token);let f=null;h.aal&&(f=h.aal);let g=f;((l=(n=r.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const v=h.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Yt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&wt()&&!l?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Yt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&wt()&&!l?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yt})})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(n,l={keys:[]}){let r=l.keys.find(g=>g.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===n),r&&this.jwks_cached_at+vb>c)return r;const{data:h,error:f}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,r=h.keys.find(g=>g.kid===n),!r)?null:r}async getClaims(n,l={}){try{let r=n;if(!r){const{data:T,error:k}=await this.getSession();if(k||!T.session)return this._returnResult({data:null,error:k});r=T.session.access_token}const{header:c,payload:h,signature:f,raw:{header:g,payload:p}}=Zu(r);l?.allowExpired||Hb(h.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!v){const{error:T}=await this.getUser(r);if(T)throw T;return{data:{claims:h,header:c,signature:f},error:null}}const x=Gb(c.alg),S=await crypto.subtle.importKey("jwk",v,x,!0,["verify"]);if(!await crypto.subtle.verify(x,S,f,Ab(`${g}.${p}`)))throw new uc("Invalid JWT signature");return{data:{claims:h,header:c,signature:f},error:null}}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}}Zl.nextInstanceID={};const xx=Zl,_x="2.90.1";let Hl="";typeof Deno<"u"?Hl="deno":typeof document<"u"?Hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hl="react-native":Hl="node";const wx={"X-Client-Info":`supabase-js-${Hl}/${_x}`},Sx={headers:wx},jx={schema:"public"},Ex={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tx={};function Il(i){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Il(i)}function Nx(i,n){if(Il(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Ax(i){var n=Nx(i,"string");return Il(n)=="symbol"?n:n+""}function Ox(i,n,l){return(n=Ax(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function J0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),l.push.apply(l,r)}return l}function Fe(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?J0(Object(l),!0).forEach(function(r){Ox(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):J0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const Cx=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Rx=()=>Headers,kx=(i,n,l)=>{const r=Cx(l),c=Rx();return async(h,f)=>{var g;const p=(g=await n())!==null&&g!==void 0?g:i;let v=new c(f?.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),r(h,Fe(Fe({},f),{},{headers:v}))}};function zx(i){return i.endsWith("/")?i:i+"/"}function Dx(i,n){var l,r;const{db:c,auth:h,realtime:f,global:g}=i,{db:p,auth:v,realtime:x,global:S}=n,N={db:Fe(Fe({},p),c),auth:Fe(Fe({},v),h),realtime:Fe(Fe({},x),f),storage:{},global:Fe(Fe(Fe({},S),g),{},{headers:Fe(Fe({},(l=S?.headers)!==null&&l!==void 0?l:{}),(r=g?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return i.accessToken?N.accessToken=i.accessToken:delete N.accessToken,N}function Ux(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zx(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Mx=class extends xx{constructor(i){super(i)}},Bx=class{constructor(i,n,l){var r,c;this.supabaseUrl=i,this.supabaseKey=n;const h=Ux(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:jx,realtime:Tx,auth:Fe(Fe({},Ex),{},{storageKey:f}),global:Sx},p=Dx(l??{},g);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=p.auth)!==null&&v!==void 0?v:{},this.headers,p.global.fetch)}this.fetch=kx(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>{}),this.rest=new gv(new URL("rest/v1",h).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new fb(this.storageUrl.href,this.headers,this.fetch,l?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new dv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,l)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,l;if(i.accessToken)return await i.accessToken();const{data:r}=await i.auth.getSession();return(n=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:h,flowType:f,lock:g,debug:p,throwOnError:v},x,S){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mx({url:this.authUrl.href,headers:Fe(Fe({},N),x),storageKey:h,autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:c,flowType:f,lock:g,debug:p,throwOnError:v,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new zv(this.realtimeUrl.href,Fe(Fe({},i),{},{params:Fe(Fe({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n?.access_token)})}_handleTokenChanged(i,n,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Lx=(i,n,l)=>new Bx(i,n,l);function qx(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const n=i.version;if(n==null)return!1;const l=n.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}qx();const $x="https://mlghdhrizyuqtkixedtx.supabase.co",Hx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1sZ2hkaHJpenl1cXRraXhlZHR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyNDAwNDEsImV4cCI6MjA4MzgxNjA0MX0.4CPmOgE5cEnqX8XGRV52dVyTOpc_J3Zb4F2xmB1b-O0",rt=Lx($x,Hx);function Fl(){const[i,n]=J.useState([]),[l,r]=J.useState([]),[c,h]=J.useState([]),[f,g]=J.useState([]),[p,v]=J.useState([]),[x,S]=J.useState(!0),[N,T]=J.useState(null),[k,E]=J.useState([]),[$,G]=J.useState([]),[K,H]=J.useState([]),Z=async()=>{S(!0);try{const{data:fe}=await rt.from("items").select("*").order("name"),{data:oe}=await rt.from("lists").select("*").order("name"),{data:P}=await rt.from("products").select("*"),{data:C}=await rt.from("categories").select("*").order("sort_order"),{data:D}=await rt.from("supplies").select("*").order("name");D&&E(D);const{data:V}=await rt.from("recipes").select("*").order("name");V&&G(V);const{data:ne}=await rt.from("sales_channels").select("*").order("id");ne&&H(ne);const{data:{session:me}}=await rt.auth.getSession();if(me){const{data:_}=await rt.from("customers").select("*").order("last_order_date",{ascending:!1});_&&v(_)}fe&&n(fe),oe&&r(oe),P&&h(P),C&&g(C)}catch{}finally{S(!1)}};J.useEffect(()=>{rt.auth.getSession().then(({data:{session:oe}})=>{T(oe?.user??null),Z()});const{data:{subscription:fe}}=rt.auth.onAuthStateChange((oe,P)=>{T(P?.user??null),P&&Z()});return()=>fe.unsubscribe()},[]);const de=async(fe,oe)=>{const{error:P}=await rt.auth.signInWithPassword({email:fe,password:oe});if(P)throw P},I=async()=>{await rt.auth.signOut()},Q=async fe=>new Promise(oe=>{const P=new FileReader;P.readAsDataURL(fe),P.onload=C=>{const D=new Image;D.src=C.target.result,D.onload=()=>{const V=document.createElement("canvas"),ne=500,me=ne/D.width;V.width=ne,V.height=D.height*me,V.getContext("2d").drawImage(D,0,0,V.width,V.height),V.toBlob(M=>oe(M),"image/jpeg",.7)}}});return{items:i,lists:l,products:c,categories:f,customers:p,supplies:k,recipes:$,channels:K,user:N,loading:x,saveData:async(fe,oe)=>{if(oe.id){const{error:P}=await rt.from(fe).update(oe).eq("id",oe.id);if(P)return alert("Erro ao atualizar item."),!1}else{const P={...oe};delete P.id;const{error:C}=await rt.from(fe).insert(P);if(C)return alert("Erro ao criar novo item."),!1}return await Z(),!0},deleteData:async(fe,oe)=>{const{error:P}=await rt.from(fe).delete().eq("id",oe);P||await Z()},uploadImage:async fe=>{try{const oe=await Q(fe),P=`${Date.now()}.jpg`,{error:C}=await rt.storage.from("menu-images").upload(P,oe);if(C)throw C;const{data:D}=rt.storage.from("menu-images").getPublicUrl(P);return D.publicUrl}catch(oe){return alert("Erro upload: "+oe.message),null}},saveCustomer:async fe=>{const oe=fe.phone.replace(/\D/g,""),P={name:fe.name,phone:oe,address_cep:fe.address_cep,address_number:fe.address_number,address_full:fe.address_full,last_order_date:new Date},{data:C,error:D}=await rt.from("customers").upsert(P,{onConflict:"phone"}).select()},findCustomerByPhone:async fe=>{const oe=fe.replace(/\D/g,""),{data:P,error:C}=await rt.rpc("get_customer_by_phone",{phone_input:oe});return C?null:P&&P.length>0?P[0]:null},login:de,logout:I,refreshData:Z}}const Gx="/cardapio-online-acai/assets/ifood-D23NOtek.png",Vx="/cardapio-online-acai/assets/keeta-B3zEta7Z.png",Yx="/cardapio-online-acai/assets/99-BtGdTYvm.png",Z0={lat:-23.49102257465869,lon:-46.49390912179673,address:"Vila Cisper, So Paulo"},Kx=3,Xx=["guarulhos"],Qx="03828";function Jx({onGoToAdmin:i}){const{items:n,lists:l,products:r,categories:c,saveCustomer:h,findCustomerByPhone:f,loading:g}=Fl(),[p,v]=J.useState([]),[x,S]=J.useState(!1),[N,T]=J.useState(!1),[k,E]=J.useState(!1),[$,G]=J.useState(null),[K,H]=J.useState([]),[Z,de]=J.useState(""),[I,Q]=J.useState(""),[we,xe]=J.useState(!1),[at,Ke]=J.useState(""),[$e,fe]=J.useState(""),[oe,P]=J.useState(null),[C,D]=J.useState(!1),[V,ne]=J.useState(0),[me,_]=J.useState(!1),[M,X]=J.useState(""),[F,ie]=J.useState(""),[he,Ne]=J.useState(!0),ut=Y=>{let ee=Y.target.value.replace(/\D/g,"");ee=(Number(ee)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),ie(ee)},He=Y=>{let ee=Y.target.value.replace(/\D/g,"");ee.length>11&&(ee=ee.slice(0,11)),ee=ee.replace(/^(\d{2})(\d)/g,"($1) $2"),ee=ee.replace(/(\d)(\d{4})$/,"$1-$2"),Q(ee)},ba=Y=>{Y.available&&v([...p,{id:Date.now(),name:Y.name,price:Y.price,details:""}])},St=Y=>{Y.available&&v([...p,{id:Date.now(),name:Y.name,price:Y.price,details:"Adicional Avulso"}])},Ga=Y=>{const ee=p.filter(_e=>_e.id!==Y);v(ee),ee.length||(T(!1),E(!1))},Qn=Y=>{Y.available&&(G(Y),H([]),S(!0))},la=(Y,ee)=>{const _e=K.find(pe=>pe.listId===Y&&pe.item.id===ee.id);H(_e?K.filter(pe=>pe!==_e):[...K,{listId:Y,item:ee}])},xa=()=>{let Y=$.price,ee=[];$.list_ids&&$.list_ids.forEach(_e=>{const pe=l.find(Me=>Me.id===_e);if(!pe)return;const We=K.filter(Me=>Me.listId===_e).map(Me=>Me.item);let ze=0;We.forEach(Me=>{let pt=Me.price,Ot=Me.name;Me.free?ze<pe.max_free?(pt=0,ze++):Ot+=` (+R$${Me.price.toFixed(2)})`:Ot+=` (+R$${Me.price.toFixed(2)})`,Y+=pt,ee.push(Ot)})}),v([...p,{id:Date.now(),name:$.name,price:Y,details:ee.join(", ")}]),S(!1)},yn=async()=>{const Y=I.replace(/\D/g,"");if(Y.length>=10){xe(!0);const ee=await f(Y);if(xe(!1),ee&&(ee.name&&de(ee.name),ee.address_number&&fe(ee.address_number),ee.address_cep)){const _e=ee.address_cep.replace(/^(\d{5})(\d)/,"$1-$2");Ke(_e),vn({target:{value:ee.address_cep}})}}},Xs=(Y,ee,_e,pe)=>{const ze=(_e-Y)*Math.PI/180,Me=(pe-ee)*Math.PI/180,pt=Math.sin(ze/2)*Math.sin(ze/2)+Math.cos(Y*Math.PI/180)*Math.cos(_e*Math.PI/180)*Math.sin(Me/2)*Math.sin(Me/2);return 6371*2*Math.atan2(Math.sqrt(pt),Math.sqrt(1-pt))*1.35},vn=async Y=>{const ee=Y.target.value.replace(/\D/g,"");let _e=ee;if(ee.length>5&&(_e=ee.replace(/^(\d{5})(\d)/,"$1-$2")),Ke(_e),_(!1),P(null),ne(0),ee.length===8){D(!0);try{const pe=await fetch(`https://cep.awesomeapi.com.br/json/${ee}`);if(pe.status!==200)throw new Error("CEP Invlido");const We=await pe.json();if(Xx.includes(We.city.toLowerCase())||ee.startsWith(Qx)){P({logradouro:We.address,bairro:We.district,localidade:We.city}),_(!0),D(!1);return}const ze=parseFloat(We.lat),Me=parseFloat(We.lng),pt=Xs(Z0.lat,Z0.lon,ze,Me);P({logradouro:We.address,bairro:We.district,localidade:We.city}),pt>Kx?_(!0):pt<=1?ne(3.99):pt<=2?ne(4.99):ne(5.99)}catch{}finally{D(!1)}}},bn=Y=>{Y.preventDefault(),alert(`TERMOS DE USO E PRIVACIDADE:

1. Coletamos Nome, Telefone e Endereo para entrega.
2. Seus dados facilitam pedidos futuros.
3. Podemos enviar promoes via WhatsApp.
4. Seus dados no so vendidos.
5. Voc pode pedir excluso a qualquer momento.`)},xn=async()=>{if(!Z||!I||!$e||!oe||!M||me)return alert("Preencha todos os campos!");he&&await h({name:Z,phone:I,address_cep:at.replace(/\D/g,""),address_number:$e,address_full:`${oe.logradouro}, ${oe.bairro}`});let Y=`*NOVO PEDIDO - AA DO LUCCA*
`;Y+=`Cliente: ${Z}
`,Y+=`Tel: ${I}
`,Y+=`End: ${oe.logradouro}, ${$e} - ${oe.bairro}

`;let ee=0;p.forEach((pe,We)=>{Y+=`${We+1}. *${pe.name}*
${pe.details?`Obs: ${pe.details}
`:""}R$ ${pe.price.toFixed(2)}

`,ee+=pe.price});const _e=ee+V;Y+=`----------------
Subtotal: R$ ${ee.toFixed(2)}
Entrega: R$ ${V.toFixed(2)}
*TOTAL: R$ ${_e.toFixed(2)}*
Pagamento: ${M}
${F?`Troco para: ${F}`:""}`,window.open(`https://wa.me/5511988170539?text=${encodeURIComponent(Y)}`,"_blank"),E(!1),T(!1),v([]),de(""),Q(""),Ke(""),fe(""),X(""),ie("")};if(g)return d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx(Ks,{className:"animate-spin text-purple-600",size:40})});const Va=p.reduce((Y,ee)=>Y+ee.price,0);return d.jsxs("div",{className:"bg-gray-50 text-gray-800 min-h-screen pb-32 font-sans",children:[d.jsxs("header",{className:"bg-gradient-to-br from-violet-900 to-violet-600 text-white py-14 px-4 text-center rounded-b-[3.5rem] shadow-xl",children:[d.jsx("h1",{className:"text-4xl font-extrabold uppercase mb-1 tracking-tighter",children:"Aa do Lucca"}),d.jsx("p",{className:"text-purple-100 opacity-90 font-medium",children:"O melhor aa da Vila Cisper"})]}),d.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-8 space-y-12",children:[c.map(Y=>{const ee=r.filter(pe=>pe.category===Y.name);if(!ee.length)return null;const _e=Y.name.toLowerCase().includes("favoritos");return d.jsxs("section",{children:[d.jsxs("div",{className:"flex items-center mb-6 text-purple-900",children:[_e?d.jsx(Zy,{className:"w-5 h-5 mr-2 fill-yellow-400 text-yellow-400"}):d.jsx(vy,{className:"w-5 h-5 mr-2 text-purple-600"}),d.jsx("h2",{className:"text-xl font-bold uppercase tracking-tight",children:Y.name})]}),d.jsx("div",{className:_e?"grid md:grid-cols-2 gap-4":"space-y-3 md:space-y-0 md:grid md:grid-cols-2 md:gap-4",children:ee.map(pe=>d.jsxs("div",{onClick:()=>pe.available?pe.list_ids?.length?Qn(pe):ba(pe):null,className:`bg-white p-4 rounded-[2rem] shadow-sm border border-gray-100 cursor-pointer transition-all active:scale-95 flex gap-4 ${pe.available?"":"opacity-60 grayscale"}`,children:[d.jsxs("div",{className:"relative w-20 h-20 shrink-0",children:[d.jsx("img",{src:pe.image||"https://placehold.co/400?text=Sem+Foto",className:"w-full h-full rounded-2xl object-cover bg-gray-100"}),!pe.available&&d.jsx("span",{className:"absolute inset-0 flex items-center justify-center bg-black/10 rounded-2xl text-[10px] font-bold text-white",children:"ESGOTADO"})]}),d.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[d.jsx("h3",{className:"font-bold text-gray-800 leading-tight",children:pe.name}),pe.description&&d.jsx("p",{className:"text-[10px] text-gray-400 leading-tight mt-1 line-clamp-2",children:pe.description}),d.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[d.jsxs("p",{className:"text-purple-700 font-bold",children:["R$ ",pe.price.toFixed(2)]}),d.jsx("button",{disabled:!pe.available,className:`px-3 py-1.5 rounded-xl text-[10px] font-bold ${pe.available?"bg-purple-600 text-white shadow-md":"bg-gray-100 text-gray-400"}`,children:pe.list_ids?.length?"Montar":"Adicionar"})]})]})]},pe.id))})]},Y.id)}),d.jsxs("section",{className:"pb-10",children:[d.jsx("h2",{className:"text-center text-gray-400 text-xs italic mb-4",children:"Adicionais Avulsos"}),d.jsx("div",{className:"bg-white rounded-[2rem] card-shadow overflow-hidden border border-gray-100 divide-y divide-gray-50",children:n.map(Y=>d.jsxs("div",{className:`p-4 flex justify-between items-center ${Y.available?"":"opacity-50 grayscale"}`,children:[d.jsxs("div",{className:"flex items-center gap-3 text-left",children:[d.jsx("img",{src:Y.image||"https://placehold.co/100?text=Item",className:"w-12 h-12 rounded-xl object-cover border border-gray-100"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm text-gray-700",children:Y.name}),d.jsx("p",{className:"text-[10px] text-gray-400",children:Y.available?`R$ ${Y.price.toFixed(2)}`:"Indisponvel"})]})]}),d.jsx("button",{disabled:!Y.available,onClick:()=>St(Y),className:"w-9 h-9 rounded-xl bg-green-50 text-green-600 flex items-center justify-center disabled:bg-gray-100 disabled:text-gray-400",children:d.jsx(xr,{size:16})})]},Y.id))})]})]}),d.jsxs("div",{className:"text-gray-700 text-[10px] flex items-center justify-center gap-1 w-full",children:[d.jsx(xy,{className:"text-purple-600",size:20})," Aa do Lucca   - Todos os Direitos Reservados - 2026"]}),d.jsx("footer",{className:"text-center py-6 mb-20",children:d.jsxs("button",{onClick:i,className:"text-gray-300 text-[10px] flex items-center justify-center gap-1 w-full",children:[d.jsx(sm,{size:10})," rea do Gerente"]})}),p.length>0&&!N&&!k&&!x&&d.jsxs("div",{onClick:()=>T(!0),className:"fixed bottom-6 left-4 right-4 bg-purple-900 text-white p-4 rounded-3xl shadow-2xl flex items-center justify-between z-50 cursor-pointer animate-in slide-in-from-bottom-4 duration-300",children:[d.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-1 mr-2",children:[d.jsx("div",{className:"bg-white/20 p-2.5 rounded-full shrink-0",children:d.jsx(Ky,{size:20,className:"text-white"})}),d.jsxs("div",{className:"flex flex-col overflow-hidden justify-center",children:[d.jsx("p",{className:"text-[10px] text-purple-200 truncate font-medium max-w-[150px] sm:max-w-xs leading-tight",children:p.map(Y=>Y.name).join(", ")}),d.jsxs("p",{className:"font-bold text-lg leading-none mt-0.5",children:["R$ ",Va.toFixed(2)]})]})]}),d.jsxs("div",{className:"bg-white text-purple-900 px-3 py-2 rounded-xl text-xs font-bold shrink-0 shadow-lg shadow-purple-900/50 flex items-center gap-1",children:["Ver Carrinho",d.jsx("span",{className:"bg-purple-600 text-white px-1.5 py-0.5 rounded-md text-[10px] ml-1",children:p.length})]})]}),x&&$&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",onClick:()=>S(!1),children:d.jsxs("div",{className:"bg-white w-full sm:max-w-md max-h-[90vh] overflow-y-auto rounded-t-[2.5rem] sm:rounded-[2rem] p-6 relative",onClick:Y=>Y.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-gray-100 pb-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-black uppercase text-gray-900",children:$.name}),d.jsxs("p",{className:"text-purple-600 font-bold",children:["Base: R$ ",$.price.toFixed(2)]})]}),d.jsx("button",{onClick:()=>S(!1),className:"bg-gray-100 p-2 rounded-full text-gray-500",children:d.jsx(Kn,{size:20})})]}),d.jsx("div",{className:"space-y-8 mb-24",children:$.list_ids?.map(Y=>{const ee=l.find(ze=>ze.id===Y);if(!ee)return null;const _e=n.filter(ze=>ee.item_ids?.includes(ze.id)&&ze.available),pe=K.filter(ze=>ze.listId===Y),We=pe.filter(ze=>ze.item.free).length;return d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("h4",{className:"font-bold uppercase text-sm text-gray-700",children:ee.name}),ee.max_free>0&&d.jsxs("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-1 rounded-md font-bold",children:["At ",ee.max_free," Grtis"]})]}),d.jsx("div",{className:"space-y-2",children:_e.map(ze=>{const Me=pe.some(Qs=>Qs.item.id===ze.id);let pt=`+ R$ ${ze.price.toFixed(2)}`,Ot="text-purple-600 font-bold";return ze.free&&(Me?(pt="Selecionado",Ot="text-green-700 font-bold"):We<ee.max_free&&(pt="Grtis",Ot="text-green-600")),d.jsxs("label",{className:`flex items-center p-3 rounded-2xl border cursor-pointer transition-all ${Me?"border-purple-600 bg-purple-50 ring-1 ring-purple-600":"border-gray-100 hover:bg-gray-50"}`,children:[d.jsx("input",{type:"checkbox",checked:Me,onChange:()=>la(ee.id,ze),className:"hidden"}),d.jsx("img",{src:ze.image||"https://placehold.co/100?text=Item",className:"w-10 h-10 rounded-lg mr-3 object-cover bg-gray-200"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-bold text-sm text-gray-800",children:ze.name}),d.jsx("p",{className:`text-[10px] uppercase tracking-widest ${Ot}`,children:pt})]}),Me&&d.jsx("div",{className:"bg-purple-600 text-white rounded-full p-1",children:d.jsx(Fu,{size:12})})]},ze.id)})})]},ee.id)})}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-100 z-20 sm:rounded-b-[2rem]",children:d.jsx("button",{onClick:xa,className:"w-full bg-purple-600 text-white py-4 rounded-2xl font-bold text-lg shadow-xl active:scale-95 transition-transform",children:"Confirmar"})})]})}),N&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",onClick:()=>T(!1),children:d.jsxs("div",{className:"bg-white w-full sm:max-w-md max-h-[90vh] overflow-y-auto rounded-t-[2.5rem] sm:rounded-[2rem] p-6 relative",onClick:Y=>Y.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Seu Pedido"}),d.jsx("button",{onClick:()=>T(!1),className:"bg-gray-100 p-2 rounded-full",children:d.jsx(Kn,{size:20})})]}),d.jsx("div",{className:"space-y-4 mb-8",children:p.length===0?d.jsx("p",{className:"text-center text-gray-400 py-10",children:"Carrinho vazio."}):p.map(Y=>d.jsxs("div",{className:"flex justify-between bg-gray-50 p-4 rounded-2xl border border-gray-100",children:[d.jsxs("div",{className:"flex-1 pr-2",children:[d.jsx("p",{className:"font-bold text-gray-900",children:Y.name}),d.jsx("p",{className:"text-[10px] text-gray-500 mt-1 leading-tight",children:Y.details}),d.jsxs("p",{className:"font-bold text-purple-700 mt-2",children:["R$ ",Y.price.toFixed(2)]})]}),d.jsx("button",{onClick:()=>Ga(Y.id),className:"text-red-400 self-start p-2",children:d.jsx(Xn,{size:18})})]},Y.id))}),p.length>0&&d.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("span",{className:"text-gray-500 font-bold",children:"Total"}),d.jsxs("span",{className:"text-2xl font-black text-purple-900",children:["R$ ",Va.toFixed(2)]})]}),d.jsx("button",{onClick:()=>{T(!1),E(!0)},className:"w-full bg-green-600 text-white py-4 rounded-2xl font-bold shadow-xl shadow-green-100 text-lg active:scale-95 transition-transform",children:"Finalizar Pedido"})]})]})}),k&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",onClick:()=>E(!1),children:d.jsxs("div",{className:"bg-white w-full sm:max-w-md max-h-[90vh] overflow-y-auto rounded-t-[2.5rem] sm:rounded-[2rem] p-6 relative",onClick:Y=>Y.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight",children:"Entrega"}),d.jsx("button",{onClick:()=>E(!1),className:"bg-gray-100 p-2 rounded-full",children:d.jsx(Kn,{size:20})})]}),d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{className:"w-full p-4 bg-gray-50 rounded-2xl outline-none focus:ring-2 ring-purple-100",placeholder:"(11) 99999-9999",type:"tel",maxLength:"15",value:I,onChange:He,onBlur:yn}),we&&d.jsx("div",{className:"absolute right-4 top-4 animate-spin",children:d.jsx(Ks,{className:"text-purple-600"})}),d.jsx("p",{className:"text-[10px] text-gray-400 ml-1 mt-1",children:"Se j comprou, preenchemos o resto para voc."})]}),d.jsx("div",{children:d.jsx("input",{className:"w-full p-4 bg-gray-50 rounded-2xl outline-none focus:ring-2 ring-purple-100",placeholder:"Seu Nome",value:Z,onChange:Y=>de(Y.target.value)})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"relative w-2/3",children:[d.jsx("input",{className:"w-full p-4 bg-gray-50 rounded-2xl outline-none focus:ring-2 ring-purple-100",placeholder:"00000-000",maxLength:"9",value:at,onChange:vn}),C&&d.jsx("div",{className:"absolute right-4 top-4 animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"})]}),d.jsx("input",{className:"w-1/3 p-4 bg-gray-50 rounded-2xl outline-none focus:ring-2 ring-purple-100",placeholder:"N",value:$e,onChange:Y=>fe(Y.target.value)})]}),me?d.jsxs("div",{className:"p-6 bg-red-50 rounded-[2rem] border border-red-100 text-center space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-black text-red-500 text-lg",children:"Fora da rea "}),d.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Pea pelos nossos parceiros:"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsx("a",{href:"https://www.ifood.com.br/delivery/sao-paulo-sp/acai-do-lucca-parque-cisper/1fd17658-98b4-4f9b-a154-20cf834d7ed3",className:"bg-white p-3 rounded-2xl shadow-sm border border-red-100 flex items-center justify-center",children:d.jsx("img",{src:Gx,className:"w-full h-8 object-contain"})}),d.jsx("a",{href:"https://url-eu.mykeeta.com/uCMXP3uz",className:"bg-white p-3 rounded-2xl shadow-sm border border-orange-100 flex items-center justify-center",children:d.jsx("img",{src:Vx,className:"w-full h-8 object-contain"})}),d.jsx("a",{href:"https://oia.99app.com/dlp9/TEjllm",className:"bg-white p-3 rounded-2xl shadow-sm border border-yellow-100 flex items-center justify-center",children:d.jsx("img",{src:Yx,className:"w-full h-8 object-contain"})})]})]}):oe&&d.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[d.jsxs("div",{className:"p-4 bg-purple-50 rounded-2xl border border-purple-100 flex items-start gap-3",children:[d.jsx(lm,{className:"text-purple-600 shrink-0 mt-1",size:18}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-bold text-sm text-purple-900",children:[oe.logradouro,", ",oe.bairro]}),d.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Frete: ",d.jsxs("strong",{children:["R$ ",V.toFixed(2)]})]})]})]}),d.jsx("h3",{className:"font-bold text-gray-400 text-xs uppercase ml-1",children:"Pagamento"}),d.jsx("div",{className:"grid grid-cols-3 gap-2",children:["PIX","Dinheiro","Carto"].map(Y=>d.jsx("button",{onClick:()=>X(Y),className:`p-3 rounded-xl font-bold text-sm border transition-all ${M===Y?"bg-purple-600 text-white border-purple-600 shadow-lg shadow-purple-200":"bg-white text-gray-500 border-gray-200 hover:bg-gray-50"}`,children:Y},Y))}),M==="Dinheiro"&&d.jsx("input",{className:"w-full p-4 bg-gray-50 rounded-2xl outline-none font-bold text-lg text-purple-900 placeholder-gray-300",placeholder:"Troco para R$...",value:F,onChange:ut,type:"text"}),d.jsx("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-100 mt-2",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("input",{type:"checkbox",checked:he,onChange:Y=>Ne(Y.target.checked),className:"mt-1 w-5 h-5 accent-purple-600 cursor-pointer shrink-0",id:"lgpd-check"}),d.jsxs("div",{className:"text-xs text-gray-500 leading-relaxed",children:[d.jsx("label",{htmlFor:"lgpd-check",className:"cursor-pointer select-none",children:"Autorizo o armazenamento dos meus dados para agilizar pedidos e receber ofertas."}),d.jsxs("button",{onClick:bn,className:"text-purple-600 font-bold underline ml-1 hover:text-purple-800 flex items-center gap-1 mt-1",children:[d.jsx(am,{size:12})," Ler termos"]})]})]})})]})]}),d.jsx("button",{onClick:xn,disabled:!oe||me||!M||!I,className:`w-full py-4 rounded-2xl font-bold text-lg shadow-xl transition-all active:scale-95 ${!oe||me||!M||!I?"bg-gray-200 text-gray-400 cursor-not-allowed shadow-none":"bg-green-600 text-white shadow-green-100"}`,children:me?"Indisponvel":"Enviar Pedido"})]})})]})}function Zx({onBack:i,onNavigate:n}){const{items:l,lists:r,products:c,categories:h,customers:f,saveData:g,deleteData:p,uploadImage:v,logout:x,loading:S}=Fl(),N=J.useRef(null);J.useEffect(()=>{N.current&&(N.current.scrollTop=0)},[]);const[T,k]=J.useState("products"),[E,$]=J.useState(""),[G,K]=J.useState(!1),[H,Z]=J.useState(null),[de,I]=J.useState(!1),Q=async()=>{await x(),i()},we=P=>E?P.filter(C=>C.name.toLowerCase().includes(E.toLowerCase())):P,xe=()=>{Z(null),K(!0)},at=P=>{Z(P),K(!0)},Ke=async P=>{window.confirm("Excluir permanentemente?")&&await p(T,P)},$e=async(P,C)=>{I(!0);let D={...P};if(C){const ne=await v(C);ne&&(D.image=ne)}H||delete D.id;const V=await g(T,D);I(!1),V&&K(!1)},fe=async(P,C)=>{const D=h.findIndex(me=>me.id===P.id);if(D<0)return;const V=[...h],ne=C==="up"?D-1:D+1;if(ne>=0&&ne<V.length){const me=V[D].sort_order;V[D].sort_order=V[ne].sort_order,V[ne].sort_order=me,await g("categories",V[D]),await g("categories",V[ne])}},oe=()=>{if(T==="customers"){const D=f.filter(V=>V.name?.toLowerCase().includes(E.toLowerCase())||V.phone?.includes(E));return d.jsxs("div",{className:"space-y-3 pb-4",children:[d.jsxs("div",{className:"bg-purple-100 p-4 rounded-xl border border-purple-200 mb-4",children:[d.jsxs("h3",{className:"font-bold text-purple-900 flex items-center gap-2",children:[d.jsx(E0,{size:18})," Base de Clientes (CRM)"]}),d.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Histrico de clientes que aceitaram salvar os dados."})]}),D.map(V=>d.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row justify-between md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:V.name}),d.jsxs("div",{className:"flex flex-col text-sm text-gray-500 mt-1 gap-1",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Dy,{size:14})," ",V.phone]}),d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(lm,{size:14})," ",V.address_full,", ",V.address_number," (",V.address_cep,")"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 block",children:"ltimo Pedido"}),d.jsx("span",{className:"text-sm font-bold text-purple-700",children:new Date(V.last_order_date).toLocaleDateString("pt-BR")})]})]},V.id)),D.length===0&&d.jsx("p",{className:"text-center text-gray-400 py-10",children:"Nenhum cliente encontrado."})]})}const C=we(T==="products"?c:T==="lists"?r:T==="items"?l:h);return T==="categories"?d.jsx("div",{className:"space-y-2 pb-4",children:C.map((D,V)=>d.jsxs("div",{className:"bg-white p-4 rounded-xl flex justify-between items-center shadow-sm border border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:"font-bold text-gray-400 w-6",children:[V+1,"."]}),d.jsx("span",{className:"font-bold text-gray-800",children:D.name})]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>fe(D,"up"),className:"p-2 hover:bg-gray-100 rounded text-gray-400 hover:text-purple-600",children:d.jsx(ny,{size:16})}),d.jsx("button",{onClick:()=>fe(D,"down"),className:"p-2 hover:bg-gray-100 rounded text-gray-400 hover:text-purple-600",children:d.jsx(ey,{size:16})}),d.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),d.jsx("button",{onClick:()=>at(D),className:"p-2 text-blue-500 hover:bg-blue-50 rounded",children:d.jsx(Yl,{size:16})}),d.jsx("button",{onClick:()=>Ke(D.id),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:d.jsx(Xn,{size:16})})]})]},D.id))}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 pb-4",children:C.map(D=>d.jsxs("div",{className:"bg-white p-3 rounded-xl flex gap-3 shadow-sm border border-gray-100 group hover:shadow-md transition-all",children:[T!=="lists"&&d.jsx("img",{src:D.image||"https://placehold.co/100?text=S/IMG",className:`w-16 h-16 rounded-lg object-cover bg-gray-100 ${D.available?"":"grayscale"}`}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-bold text-sm truncate",children:D.name}),d.jsxs("p",{className:"text-xs text-gray-400",children:[T==="products"&&`R$ ${D.price?.toFixed(2)}`,T==="items"&&(D.free?"Grtis":`R$ ${D.price?.toFixed(2)}`),T==="lists"&&d.jsxs("span",{className:"flex flex-col",children:[d.jsxs("span",{children:[D.item_ids?.length||0," itens"]}),d.jsxs("span",{className:"text-purple-600 font-bold text-[10px]",children:["At ",D.max_free," Grtis"]})]})]}),T==="products"&&d.jsx("span",{className:"inline-block mt-1 text-[10px] bg-gray-100 px-2 rounded-full text-gray-500",children:D.category})]}),d.jsxs("div",{className:"flex flex-col gap-1 justify-center opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>at(D),className:"p-1.5 bg-blue-50 text-blue-600 rounded",children:d.jsx(Yl,{size:14})}),d.jsx("button",{onClick:()=>Ke(D.id),className:"p-1.5 bg-red-50 text-red-500 rounded",children:d.jsx(Xn,{size:14})})]})]},D.id))})};return d.jsxs("div",{className:"fixed inset-0 h-dvh bg-gray-50 font-sans text-gray-800 overflow-hidden flex flex-col md:flex-row",children:[d.jsxs("aside",{className:"hidden md:flex w-64 bg-white border-r border-gray-200 flex-col shrink-0 z-20 h-full",children:[d.jsx("div",{className:"p-6 flex items-center justify-start gap-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"A"}),d.jsx("span",{className:"font-black text-xl tracking-tight block",children:"ADMIN"})]})}),d.jsxs("nav",{className:"flex-1 px-4 flex flex-col space-y-2 mt-4 overflow-y-auto",children:[d.jsx($l,{active:T==="products",onClick:()=>k("products"),icon:d.jsx(gr,{size:20}),label:"Produtos"}),d.jsx($l,{active:T==="categories",onClick:()=>k("categories"),icon:d.jsx(Sy,{size:20}),label:"Categorias"}),d.jsx($l,{active:T==="lists",onClick:()=>k("lists"),icon:d.jsx(nm,{size:20}),label:"Listas"}),d.jsx($l,{active:T==="items",onClick:()=>k("items"),icon:d.jsx(Ey,{size:20}),label:"Ingredientes"}),d.jsx("div",{className:"h-px bg-gray-100 my-2"}),d.jsxs("button",{onClick:()=>n("pricing"),className:"w-full flex items-center gap-3 p-3 rounded-xl transition-all text-gray-500 hover:bg-gray-100 hover:text-green-600",children:[d.jsx(tm,{size:20}),d.jsx("span",{className:"text-sm font-bold",children:"Calculadora"})]}),d.jsx($l,{active:T==="customers",onClick:()=>k("customers"),icon:d.jsx(E0,{size:20}),label:"Clientes CRM"})]}),d.jsx("div",{className:"p-4 mt-auto",children:d.jsxs("button",{onClick:Q,className:"flex items-center gap-3 text-red-500 hover:bg-red-50 transition-colors p-3 w-full rounded-xl font-bold",children:[d.jsx(j0,{size:20}),d.jsx("span",{children:"Sair do Painel"})]})})]}),d.jsxs("div",{className:"md:hidden bg-white border-b border-gray-200 shrink-0 z-20 flex flex-col",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"A"}),d.jsx("span",{className:"font-black text-xl tracking-tight",children:"ADMIN"})]}),d.jsxs("button",{onClick:Q,className:"flex items-center gap-2 bg-red-50 text-red-500 px-3 py-2 rounded-lg font-bold text-xs",children:[d.jsx(j0,{size:14})," Sair"]})]}),d.jsxs("div",{className:"flex overflow-x-auto p-2 gap-2 border-t border-gray-100 no-scrollbar",children:[["products","categories","lists","items","customers"].map(P=>d.jsx("button",{onClick:()=>k(P),className:`px-4 py-2 rounded-lg text-xs font-bold capitalize whitespace-nowrap ${T===P?"bg-purple-600 text-white":"bg-gray-100 text-gray-500"}`,children:P==="customers"?"Clientes":P},P)),d.jsx("button",{onClick:()=>n("pricing"),className:"px-4 py-2 rounded-lg text-xs font-bold capitalize whitespace-nowrap bg-green-100 text-green-700 border border-green-200",children:"Precificao"})]})]}),d.jsxs("main",{className:"flex-1 flex flex-col min-w-0 min-h-0 relative",children:[d.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 md:px-8 py-4 flex justify-between items-center shrink-0",children:[d.jsx("h1",{className:"text-xl md:text-2xl font-black uppercase text-gray-900",children:T==="customers"?"Clientes":T}),T!=="customers"&&d.jsxs("button",{onClick:xe,className:"bg-purple-600 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 shadow-lg hover:bg-purple-700 transition-colors",children:[d.jsx(xr,{size:20})," ",d.jsx("span",{className:"hidden sm:inline",children:"Novo"})]})]}),d.jsxs("div",{ref:N,className:"flex-1 overflow-y-auto p-4 md:p-6 pb-20",children:[d.jsxs("div",{className:"relative mb-6",children:[d.jsx(dc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:E,onChange:P=>$(P.target.value),className:"w-full pl-12 p-3 bg-white border border-gray-200 rounded-xl outline-none focus:ring-2 ring-purple-100"})]}),S?d.jsx("div",{className:"text-center py-20",children:d.jsx(Ks,{className:"animate-spin mx-auto text-purple-600"})}):oe()]})]}),G&&d.jsx(Ix,{type:T,data:H,close:()=>K(!1),save:$e,isSaving:de,context:{items:l,lists:r,categories:h}},H?H.id:"new")]})}function $l({active:i,icon:n,label:l,onClick:r}){return d.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${i?"bg-purple-600 text-white shadow-lg shadow-purple-200":"text-gray-500 hover:bg-gray-100"}`,children:[n,d.jsx("span",{className:"text-sm font-bold",children:l})]})}function Ix({type:i,data:n,close:l,save:r,isSaving:c,context:h}){const[f,g]=J.useState(n||{}),[p,v]=J.useState(null),[x,S]=J.useState(n?.image||null);J.useEffect(()=>{n||(i==="items"&&g({name:"",price:0,image:"",free:!1,available:!0}),i==="lists"&&g({name:"",max_free:0,item_ids:[]}),i==="products"&&g({name:"",price:0,category:h.categories[0]?.name||"",list_ids:[],available:!0}),i==="categories"&&g({name:"",sort_order:h.categories.length+1}))},[]);const N=E=>{const $=E.target.files[0];$&&(v($),S(URL.createObjectURL($)))},T=(E,$)=>{const G=f[E]||[];g({...f,[E]:G.includes($)?G.filter(K=>K!==$):[...G,$]})},k=(E,$)=>{const G=[...f.list_ids||[]];$==="up"&&E>0&&([G[E],G[E-1]]=[G[E-1],G[E]]),$==="down"&&E<G.length-1&&([G[E],G[E+1]]=[G[E+1],G[E]]),g({...f,list_ids:G})};return d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-lg max-h-[90vh] overflow-y-auto rounded-3xl p-6 shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h2",{className:"text-xl font-black uppercase",children:[n?"Editar":"Novo"," ",i==="categories"?"Categoria":i]}),d.jsx("button",{onClick:l,children:d.jsx(Kn,{})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Nome"}),d.jsx("input",{value:f.name||"",onChange:E=>g({...f,name:E.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border-gray-100 border outline-none font-bold"})]}),i!=="lists"&&i!=="categories"&&d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Imagem"}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsxs("div",{className:"relative w-20 h-20 bg-gray-100 rounded-xl overflow-hidden border border-dashed border-gray-300 flex items-center justify-center shrink-0",children:[x?d.jsx("img",{src:x,className:"w-full h-full object-cover"}):d.jsx(rm,{size:20,className:"text-gray-400"}),d.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),d.jsx("div",{className:"flex-1",children:d.jsx("input",{value:f.image||"",onChange:E=>{g({...f,image:E.target.value}),S(E.target.value)},className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 text-xs mb-1",placeholder:"Ou cole URL..."})})]})]}),i==="products"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Preo"}),d.jsx("input",{type:"number",value:f.price||"",onChange:E=>g({...f,price:parseFloat(E.target.value)}),className:"w-full p-3 bg-gray-50 rounded-xl border-gray-100 border"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Categoria"}),d.jsx("select",{value:f.category||"",onChange:E=>g({...f,category:E.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border-gray-100 border bg-white",children:h.categories.map(E=>d.jsx("option",{value:E.name,children:E.name},E.id))})]})]}),d.jsxs("div",{className:"bg-purple-50 p-3 rounded-xl",children:[d.jsx("label",{className:"text-xs font-bold text-purple-800 uppercase mb-2 block",children:"Listas Vinculadas"}),f.list_ids?.map((E,$)=>{const G=h.lists.find(K=>K.id===E);return G?d.jsxs("div",{className:"bg-white p-2 mb-1 rounded-lg flex justify-between items-center text-xs font-bold shadow-sm",children:[d.jsxs("span",{children:[$+1,". ",G.name]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:()=>k($,"up"),className:"hover:bg-gray-100 p-1 rounded",children:""}),d.jsx("button",{onClick:()=>k($,"down"),className:"hover:bg-gray-100 p-1 rounded",children:""}),d.jsx("button",{onClick:()=>T("list_ids",E),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:""})]})]},E):null}),d.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:h.lists.filter(E=>!f.list_ids?.includes(E.id)).map(E=>d.jsxs("button",{onClick:()=>T("list_ids",E.id),className:"bg-white border px-2 py-1 rounded text-xs hover:bg-purple-100",children:["+ ",E.name]},E.id))})]})]}),i==="lists"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Quantos itens Grtis?"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"number",min:"0",value:f.max_free||0,onChange:E=>g({...f,max_free:parseInt(E.target.value)}),className:"w-24 p-3 bg-gray-50 rounded-xl border-gray-100 border outline-none font-bold text-center"}),d.jsxs("span",{className:"text-xs text-gray-400 leading-tight",children:["Defina quantos itens o cliente ganha.",d.jsx("br",{}),'Ex: 2 = "Escolha 2 Frutas Grtis".']})]})]}),d.jsxs("div",{className:"border-t pt-4 mt-2",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Itens desta Lista"}),d.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:h.items.map(E=>d.jsxs("div",{onClick:()=>T("item_ids",E.id),className:`p-2 border rounded-lg cursor-pointer flex items-center gap-2 ${f.item_ids?.includes(E.id)?"bg-purple-50 border-purple-400 ring-1 ring-purple-400":"hover:bg-gray-50"}`,children:[d.jsx("img",{src:E.image,className:"w-8 h-8 rounded object-cover bg-gray-100"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-xs font-bold truncate text-gray-800",children:E.name}),d.jsxs("p",{className:"text-[10px] text-gray-400 font-medium",children:["R$ ",E.price.toFixed(2)]})]}),f.item_ids?.includes(E.id)&&d.jsx(Fu,{size:14,className:"text-purple-600"})]},E.id))})]})]}),i==="items"&&d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Preo"}),d.jsx("input",{type:"number",value:f.price||"",onChange:E=>g({...f,price:parseFloat(E.target.value)}),className:"w-full p-3 bg-gray-50 rounded-xl border-gray-100 border"})]}),d.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-4 rounded-xl border border-gray-100 cursor-pointer",onClick:()=>g({...f,free:!f.free}),children:[d.jsx("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${f.free?"bg-purple-600 border-purple-600":"bg-white"}`,children:f.free&&d.jsx(Fu,{size:10,className:"text-white"})}),d.jsx("span",{className:"text-xs font-bold",children:" Grtis?"})]})]})]}),d.jsxs("button",{onClick:()=>r(f,p),disabled:c,className:"w-full bg-purple-600 text-white py-4 rounded-2xl font-bold mt-6 shadow-lg flex justify-center items-center gap-2",children:[c&&d.jsx(Ks,{className:"animate-spin",size:20})," ",c?"Enviando...":"Salvar"]})]})})}function Px({onBack:i,onLoginSuccess:n}){const{login:l}=Fl(),[r,c]=J.useState(""),[h,f]=J.useState(""),[g,p]=J.useState(!1),[v,x]=J.useState(""),S=async N=>{N.preventDefault(),p(!0),x("");try{await l(r,h),n()}catch{x("E-mail ou senha incorretos.")}finally{p(!1)}};return d.jsx("div",{className:"min-h-screen bg-purple-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-8 shadow-2xl relative",children:[d.jsx("button",{onClick:i,className:"absolute top-4 left-4 text-gray-400 hover:text-gray-600",children:d.jsx(em,{})}),d.jsxs("div",{className:"text-center mb-8 mt-4",children:[d.jsx("div",{className:"w-16 h-16 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:d.jsx(sm,{size:32})}),d.jsx("h2",{className:"text-2xl font-black text-gray-800 uppercase",children:"Acesso Restrito"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"rea exclusiva para gerentes"})]}),d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1",children:"E-MAIL"}),d.jsx("input",{type:"email",value:r,onChange:N=>c(N.target.value),className:"w-full p-4 bg-gray-50 rounded-xl outline-none focus:ring-2 ring-purple-200 border border-transparent focus:border-purple-500 transition-all",placeholder:"admin@acaidolucca.com",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1",children:"SENHA"}),d.jsx("input",{type:"password",value:h,onChange:N=>f(N.target.value),className:"w-full p-4 bg-gray-50 rounded-xl outline-none focus:ring-2 ring-purple-200 border border-transparent focus:border-purple-500 transition-all",placeholder:"",required:!0})]}),v&&d.jsx("p",{className:"text-red-500 text-xs font-bold text-center bg-red-50 p-2 rounded-lg",children:v}),d.jsxs("button",{disabled:g,className:"w-full bg-purple-600 text-white py-4 rounded-xl font-bold shadow-lg shadow-purple-200 active:scale-95 transition-transform flex items-center justify-center gap-2",children:[g&&d.jsx(Ks,{className:"animate-spin",size:20}),"ENTRAR"]})]})]})})}const I0=(i,n)=>{const l=window.open("","_blank","width=800,height=600");if(!l){alert("Por favor, permita pop-ups para imprimir.");return}const r=new Date().toLocaleDateString("pt-BR"),c=i.ingredients.map(f=>`
        <tr style="border-bottom: 1px solid #ddd;">
            <td style="padding: 8px;">${f.name}</td>
            <td style="padding: 8px; text-align: right; font-weight: bold;">${f.usedAmount} ${f.unit}</td>
        </tr>
    `).join(""),h=`
        <html>
        <head>
            <title>Ficha Tcnica - ${i.name}</title>
            <style>
                body { font-family: 'Helvetica', 'Arial', sans-serif; padding: 40px; color: #333; }
                h1 { text-transform: uppercase; font-size: 24px; margin-bottom: 5px; border-bottom: 2px solid #000; padding-bottom: 10px; }
                .meta { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; font-size: 14px; }
                .box { border: 1px solid #ccc; padding: 10px; border-radius: 4px; background: #f9f9f9; }
                h3 { border-bottom: 1px solid #999; padding-bottom: 5px; margin-top: 30px; }
                table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 14px; }
                th { text-align: left; background: #eee; padding: 8px; }
                .instructions { white-space: pre-wrap; line-height: 1.6; font-size: 14px; }
                .footer { margin-top: 50px; text-align: center; font-size: 10px; color: #999; border-top: 1px solid #eee; padding-top: 10px; }
                @media print {
                    .no-print { display: none; }
                    body { -webkit-print-color-adjust: exact; }
                }
            </style>
        </head>
        <body>
            <h1>${i.name} ${i.is_reusable?'<span style="font-size:12px; background:#eee; padding:2px 6px; border-radius:4px; vertical-align:middle">PR-PREPARO</span>':""}</h1>
            
            <div class="meta">
                <div class="box"><strong>Rendimento:</strong> ${i.yield_amount?i.yield_amount+" "+i.yield_unit:"N/A"}</div>
                <div class="box"><strong>Custo Total (CMV):</strong> R$ ${parseFloat(n).toFixed(2)}</div>
            </div>

            <h3>Ingredientes</h3>
            <table>
                <thead>
                    <tr><th>Item</th><th style="text-align: right;">Qtd</th></tr>
                </thead>
                <tbody>
                    ${c}
                </tbody>
            </table>

            ${i.instructions?`
                <h3>Modo de Preparo</h3>
                <div class="instructions">${i.instructions}</div>
            `:""}

            <div class="footer">Gerado pelo Sistema Aa do Lucca em ${r}</div>

            <script>
                window.onload = function() { window.print(); window.close(); }
            <\/script>
        </body>
        </html>
    `;l.document.write(h),l.document.close()};function Fx({onBack:i}){const{supplies:n,recipes:l,channels:r,saveData:c,deleteData:h,refreshData:f}=Fl(),[g,p]=J.useState("supplies"),[v,x]=J.useState(!1),[S,N]=J.useState(!1),[T,k]=J.useState(!1),[E,$]=J.useState({isOpen:!1,type:"alert",title:"",message:"",onConfirm:null}),[G,K]=J.useState(null),[H,Z]=J.useState(""),[de,I]=J.useState(null),[Q,we]=J.useState([]),[xe,at]=J.useState(!1),[Ke,$e]=J.useState(""),[fe,oe]=J.useState("g"),[P,C]=J.useState(""),[D,V]=J.useState(!1),[ne,me]=J.useState(30),[_,M]=J.useState(20),[X,F]=J.useState(!0),[ie,he]=J.useState({}),[Ne,ut]=J.useState(""),[He,ba]=J.useState("Todos"),St=(L,se,Re,ia=null)=>{$({isOpen:!0,type:L,title:se,message:Re,onConfirm:ia})},Ga=()=>$({...E,isOpen:!1}),Qn=()=>{E.onConfirm&&E.onConfirm(),Ga()},la=()=>{let L=0;if(Q.forEach(Ge=>{const ct=Ge.price/Ge.amount;L+=ct*Ge.usedAmount}),!r||r.length===0)return{cmv:L,results:[]};let se=0,Re=0;if(X){const Ge=r.find(ct=>ct.name.toLowerCase().match(/balco|balcao|propria|prpria/))||r[0];if(Ge){const ct=parseFloat(Ge.commission_percent)+parseFloat(Ge.payment_fee_percent)+parseFloat(ne)+parseFloat(_),Qt=L+parseFloat(Ge.fixed_fee),Tt=Math.max(.01,1-Math.min(ct,95)/100);se=Qt/Tt,Re=se*(_/100)}}const ia=r.map(Ge=>{let ct=0;if(X)if(Ge.name.toLowerCase().match(/balco|balcao|propria|prpria/))ct=se;else{const _a=parseFloat(Ge.commission_percent)+parseFloat(Ge.payment_fee_percent)+parseFloat(ne),Js=L+parseFloat(Ge.fixed_fee)+Re,Wl=Math.max(.01,1-Math.min(_a,95)/100);ct=Js/Wl}else{const Zn=parseFloat(Ge.commission_percent)+parseFloat(Ge.payment_fee_percent)+parseFloat(ne)+parseFloat(_),_a=L+parseFloat(Ge.fixed_fee),Js=Math.max(.01,1-Math.min(Zn,95)/100);ct=_a/Js}const Qt=!X&&ie[Ge.id],Tt=Qt?parseFloat(ie[Ge.id]):ct,Jt=Tt*((Ge.commission_percent+Ge.payment_fee_percent)/100),ra=parseFloat(Ge.fixed_fee),ma=Tt*(ne/100),Nt=Tt-Jt-ra-ma-L,Jn=Tt>0?Nt/Tt*100:0;return{...Ge,suggestedPrice:Tt,isManual:Qt,calculatedMargin:Jn,breakdown:{profit:Nt,platformFee:Jt+ra,operational:ma,cmv:L}}});return{cmv:L,results:ia}},{cmv:xa,results:yn}=la(),Xs=()=>{Q.length>0?St("confirm","Limpar Simulao?","Deseja apagar tudo e comear do zero?",()=>{Z(""),I(null),we([]),he({}),at(!1),$e(""),C("")}):(Z(""),I(null),we([]),he({}),at(!1),$e(""),C(""))},vn=L=>{I(L.id),Z(L.name),we(L.ingredients||[]),M(L.profit_percent),me(L.operational_percent||30),at(L.is_reusable||!1),$e(L.yield_amount||""),oe(L.yield_unit||"g"),C(L.instructions||""),he({})},bn=L=>{vn(L),k(!1),p("recipe")},xn=()=>{I0({name:H,ingredients:Q,yield_amount:Ke,yield_unit:fe,instructions:P,is_reusable:xe},xa)},Va=L=>{let se=0;L.ingredients?.forEach(Re=>{se+=Re.price/Re.amount*Re.usedAmount}),I0(L,se)},Y=async()=>{if(!H)return St("alert","Ateno","D um nome para o produto!");if(Q.length===0)return St("alert","Ateno","Adicione ingredientes!");if(xe&&(!Ke||Ke<=0))return St("alert","Ateno","Se  reutilizvel, informe o RENDIMENTO total (ex: 2000g).");const L={name:H,ingredients:Q,profit_percent:_,operational_percent:ne,is_reusable:xe,yield_amount:parseFloat(Ke)||0,yield_unit:fe,instructions:P};de&&(L.id=de);const se=await c("recipes",L);let Re=!0;if(xe&&se){const ia={name:`[PREP] ${H}`,price:xa,amount:parseFloat(Ke),unit:fe,category:"Pr-preparo"};Re=await c("supplies",ia)}se&&Re&&(await f(),St("alert","Sucesso",xe?"Ficha salva E Insumo criado com sucesso!":"Ficha tcnica salva com sucesso!"))},ee=async()=>{if(Q.length===0&&!P)return St("alert","Vazio","Adicione ingredientes ou escreva um rascunho primeiro.");V(!0),await new Promise(Nt=>setTimeout(Nt,2e3));const L=Q.map(Nt=>`   [ ] ${Nt.usedAmount} ${Nt.unit} de ${Nt.name}`).join(`
`),se=P.toLowerCase(),Re=se.includes("forno")||se.includes("assar"),ia=se.includes("geladeira")||se.includes("resfriar"),Ge=se.includes("fogo")||se.includes("panela")||se.includes("ferver"),ct=se.match(/(\d+)\s*(min|minutos|horas|h)/),Qt=se.match(/(\d+)\s*(graus||c)/),Tt=ct?`${ct[1]} ${ct[2]}`:"(Definir Tempo)",Jt=Qt?`${Qt[1]}C`:Re?"180C":Ge?"Fogo Mdio":"N/A";let ra=P.split(/\.|\n/).filter(Nt=>Nt.trim().length>3).map((Nt,Jn)=>`   ${Jn+1}. ${Nt.trim()}${Nt.trim().endsWith(".")?"":"."}`).join(`
`);ra||(ra=`   1. Misturar todos os ingredientes conforme a ordem da receita.
   2. Finalizar e porcionar.`);const ma=`PADRONIZAO TCNICA: ${H.toUpperCase()||"PRODUTO"}

=========================================
1. MISE EN PLACE (SEPARAO E PESAGEM)
=========================================
${L}
   [ ] Utenslios higienizados e secos.

=========================================
2. MODO DE PREPARO (FLUXO)
=========================================
${ra}

=========================================
3. PONTOS CRTICOS DE CONTROLE (PCC)
=========================================
    TEMPERATURA: ${Jt}
    TEMPO ESTIMADO: ${Tt}
   ${ia?" RESFRIAMENTO: Baixar temperatura para 4C em at 2h.":""}
   ${Re||Ge?" COCO: Garantir temperatura interna acima de 70C.":""}

=========================================
4. ARMAZENAMENTO E VALIDADE
=========================================
   - Embalagem: Pote hermtico com etiqueta.
   - Validade Refrigerado (0C a 5C): 3 Dias.
   - Validade Congelado (-18C): 30 a 90 Dias.
   - Aps aberto: Consumir imediatamente.`;C(ma),V(!1)},_e=L=>{St("confirm","Excluir Ficha?","Essa ao apagar a ficha tcnica permanentemente.",async()=>{await h("recipes",L),await f()})},pe=async L=>{await c("supplies",L),N(!1),K(null)},We=L=>{St("confirm","Excluir Insumo?","Tem certeza?",async()=>{await h("supplies",L)})},ze=(L,se)=>{he(Re=>({...Re,[L]:se}))},Me=L=>{const se={...ie};delete se[L],he(se)},pt=n.filter(L=>{const se=L.name.toLowerCase().includes(Ne.toLowerCase()),Re=He==="Todos"||L.category===He;return se&&Re}),Ot=[...new Set(n.map(L=>L.category||"Geral"))],Qs=["Todos",...Ot],jr=L=>{we([...Q,{...L,usedAmount:0}])},_n=(L,se)=>{const Re=[...Q];Re[L].usedAmount=parseFloat(se)||0,we(Re)},Et=L=>{we(Q.filter((se,Re)=>Re!==L))};return d.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 text-gray-800 font-sans overflow-hidden fixed inset-0",children:[d.jsx("style",{children:`
            input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
            input[type=number] { -moz-appearance: textfield; }
        `}),d.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 md:px-6 py-3 flex justify-between items-center shrink-0 z-20",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:d.jsx(em,{size:20})}),d.jsx("div",{children:d.jsxs("h1",{className:"text-lg font-black uppercase tracking-tight flex items-center gap-2",children:[d.jsx(tm,{className:"text-purple-600",size:20})," ",d.jsx("span",{className:"hidden sm:inline",children:"Calculadora"}),d.jsx("span",{className:"sm:hidden",children:"Calc"})]})})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>x(!0),className:"px-3 py-2 bg-gray-900 text-white text-[10px] sm:text-xs font-bold rounded-lg hover:bg-black flex items-center gap-2",children:[d.jsx(Vy,{size:14})," Taxas"]}),d.jsxs("button",{onClick:()=>k(!0),className:"px-3 py-2 bg-purple-50 text-purple-700 text-[10px] sm:text-xs font-bold rounded-lg hover:bg-purple-100 flex items-center gap-2",children:[d.jsx(gr,{size:14})," Fichas"]})]})]}),d.jsxs("div",{className:"md:hidden flex bg-white border-b border-gray-200 shrink-0",children:[d.jsxs("button",{onClick:()=>p("supplies"),className:`flex-1 py-3 text-xs font-bold border-b-2 flex items-center justify-center gap-2 ${g==="supplies"?"border-purple-600 text-purple-600":"border-transparent text-gray-400"}`,children:[d.jsx(nm,{size:16})," Insumos"]}),d.jsxs("button",{onClick:()=>p("recipe"),className:`flex-1 py-3 text-xs font-bold border-b-2 flex items-center justify-center gap-2 relative ${g==="recipe"?"border-purple-600 text-purple-600":"border-transparent text-gray-400"}`,children:[d.jsx(gr,{size:16})," Montagem"]}),d.jsxs("button",{onClick:()=>p("results"),className:`flex-1 py-3 text-xs font-bold border-b-2 flex items-center justify-center gap-2 ${g==="results"?"border-green-600 text-green-600":"border-transparent text-gray-400"}`,children:[d.jsx(hy,{size:16})," Lucro"]})]}),d.jsxs("div",{className:"flex-1 flex flex-col md:flex-row overflow-hidden relative",children:[d.jsxs("div",{className:`w-full md:w-1/4 bg-white border-r border-gray-200 flex-col z-10 ${g==="supplies"?"flex h-full":"hidden md:flex h-full"}`,children:[d.jsxs("div",{className:"p-4 border-b border-gray-100 space-y-3 shrink-0",children:[d.jsxs("button",{onClick:()=>{K(null),N(!0)},className:"w-full bg-green-600 text-white py-2 rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-sm hover:bg-green-700",children:[d.jsx(xr,{size:16})," Novo Insumo"]}),d.jsxs("div",{className:"relative",children:[d.jsx(dc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),d.jsx("input",{value:Ne,onChange:L=>ut(L.target.value),placeholder:"Buscar...",className:"w-full pl-9 p-2 bg-gray-50 rounded-lg text-sm outline-none border border-transparent focus:border-purple-200 bg-gray-50"})]}),d.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1",children:Qs.map(L=>d.jsx("button",{onClick:()=>ba(L),className:`px-3 py-1 rounded-full text-[10px] font-bold whitespace-nowrap border ${He===L?"bg-purple-100 border-purple-200 text-purple-700":"bg-white border-gray-100 text-gray-500"}`,children:L},L))})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 pb-24 md:pb-2",children:pt.map(L=>d.jsxs("div",{onClick:()=>jr(L),className:"p-3 rounded-xl border border-gray-100 hover:border-purple-200 hover:bg-purple-50 cursor-pointer group relative active:scale-95 transition-transform",children:[d.jsx("div",{className:"flex justify-between items-start pr-8",children:d.jsx("h4",{className:"font-bold text-sm text-gray-700",children:L.name})}),d.jsxs("div",{className:"flex justify-between mt-1 text-[10px] text-gray-400 pr-8",children:[d.jsx("span",{children:L.category||"Geral"}),d.jsxs("span",{children:["R$ ",(L.price/L.amount).toFixed(4),"/",L.unit]})]}),d.jsxs("div",{className:"absolute right-2 top-2 flex flex-col gap-1 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:se=>{se.stopPropagation(),K(L),N(!0)},className:"p-1 bg-blue-100 text-blue-600 rounded",children:d.jsx(Yl,{size:12})}),d.jsx("button",{onClick:se=>{se.stopPropagation(),We(L.id)},className:"p-1 bg-red-100 text-red-600 rounded",children:d.jsx(Xn,{size:12})})]})]},L.id))})]}),d.jsx("div",{className:`flex-1 bg-gray-50 flex-col overflow-y-auto ${g==="recipe"?"flex h-full":"hidden md:flex h-full"}`,children:d.jsxs("div",{className:"p-4 md:p-6 max-w-2xl mx-auto w-full space-y-6 pb-24 md:pb-6",children:[d.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-200 relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase block",children:"Nome do Produto"}),d.jsxs("button",{onClick:Xs,className:"text-[10px] bg-gray-100 text-gray-500 px-2 py-1 rounded-lg font-bold flex items-center gap-1 hover:bg-gray-200 hover:text-red-500 transition-colors",children:[d.jsx(my,{size:12})," Limpar / Novo"]})]}),d.jsx("input",{value:H,onChange:L=>Z(L.target.value),placeholder:"Ex: Aa 500ml",className:"w-full text-lg font-black text-gray-800 outline-none placeholder-gray-300"}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>at(!xe),children:[d.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${xe?"bg-purple-600 border-purple-600":"bg-gray-100 border-gray-300"}`,children:xe&&d.jsx(S0,{size:14,className:"text-white"})}),d.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Este item  um Pr-preparo (Reutilizvel)?"})]}),xe&&d.jsxs("div",{className:"bg-purple-50 p-3 rounded-xl border border-purple-100 animate-in fade-in slide-in-from-top-2",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-[10px] font-bold text-purple-800 uppercase",children:"Rendimento Final"}),d.jsx("input",{type:"number",value:Ke,onChange:L=>$e(L.target.value),placeholder:"Ex: 2000",className:"w-full p-2 rounded-lg border border-purple-200 text-sm font-bold outline-none"})]}),d.jsxs("div",{className:"w-1/3",children:[d.jsx("label",{className:"text-[10px] font-bold text-purple-800 uppercase",children:"Unidade"}),d.jsxs("select",{value:fe,onChange:L=>oe(L.target.value),className:"w-full p-2 rounded-lg border border-purple-200 text-sm font-bold bg-white outline-none",children:[d.jsx("option",{value:"g",children:"g (Gramas)"}),d.jsx("option",{value:"ml",children:"ml (Lquido)"}),d.jsx("option",{value:"un",children:"un (Unidade)"})]})]})]}),d.jsxs("p",{className:"text-[10px] text-purple-600 mt-2 leading-tight",children:[d.jsx(am,{size:10,className:"inline mr-1"})," Ao salvar, um novo insumo ser criado automaticamente."]})]})]})]}),d.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-2xl shadow-sm border border-gray-200 min-h-[300px]",children:[d.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[d.jsx(gr,{size:16,className:"text-purple-600"})," Composio"]}),Q.length===0?d.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-gray-100 rounded-xl",children:[d.jsx("p",{className:"text-gray-400 text-sm",children:"Lista Vazia."}),d.jsx("button",{onClick:()=>p("supplies"),className:"md:hidden mt-2 text-purple-600 font-bold text-sm underline",children:"Ir para Insumos"})]}):d.jsx("div",{className:"space-y-2",children:Q.map((L,se)=>{const Re=L.price/L.amount*L.usedAmount;return d.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded-xl border border-gray-100",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-bold text-sm text-gray-700 truncate",children:L.name}),d.jsxs("p",{className:"text-[10px] text-gray-400",children:["R$ ",Re.toFixed(2)]})]}),d.jsxs("div",{className:"flex items-center bg-white rounded-lg border border-gray-200 overflow-hidden",children:[d.jsx("input",{type:"number",value:L.usedAmount||"",onChange:ia=>_n(se,ia.target.value),className:"w-14 p-1 text-center text-sm font-bold outline-none",placeholder:"0"}),d.jsx("div",{className:"bg-gray-50 px-2 py-1 text-[10px] font-bold text-gray-500 border-l border-gray-200",children:L.unit})]}),d.jsx("button",{onClick:()=>Et(se),className:"p-1 text-gray-300 hover:text-red-500",children:d.jsx(Xn,{size:16})})]},se)})}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between items-center",children:[d.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Total CMV"}),d.jsxs("span",{className:"text-xl font-black text-gray-800",children:["R$ ",xa.toFixed(2)]})]})]}),d.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-200",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("label",{className:"text-xs font-bold text-gray-400 uppercase flex items-center gap-2",children:[d.jsx(gy,{size:14})," Modo de Preparo"]}),d.jsx("button",{onClick:ee,disabled:D,className:`text-[10px] px-3 py-1.5 rounded-full font-bold flex items-center gap-1 transition-all ${D?"bg-gray-100 text-gray-400":"bg-purple-100 text-purple-700 hover:bg-purple-200"}`,children:D?d.jsxs(d.Fragment,{children:[d.jsx(Ks,{size:12,className:"animate-spin"})," Inteligncia Artificial..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Qy,{size:12})," Melhorar com IA"]})})]}),d.jsxs("div",{className:"mb-2 text-[10px] text-gray-400 flex gap-4",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(cy,{size:10})," Dica: Cite o tempo (10 min)"]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Py,{size:10})," Dica: Cite temperatura (180)"]})]}),d.jsx("textarea",{value:P,onChange:L=>C(L.target.value),placeholder:"Escreva o passo a passo resumido (ex: misturar tudo, ferver 10 min, resfriar na geladeira)...",className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 text-sm h-64 outline-none focus:border-purple-200 resize-none font-medium leading-relaxed font-mono"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:xn,className:"flex-1 bg-white border-2 border-gray-200 text-gray-600 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-50",children:[d.jsx(im,{size:18})," Imprimir"]}),d.jsx("button",{onClick:Y,className:`flex-[2] text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-xl transition-colors ${de?"bg-blue-600 hover:bg-blue-700":"bg-gray-900 hover:bg-black"}`,children:de?d.jsxs(d.Fragment,{children:[d.jsx(Yl,{size:18})," Atualizar"]}):d.jsxs(d.Fragment,{children:[d.jsx($y,{size:18})," Salvar"]})})]})]})}),d.jsxs("div",{className:`w-full md:w-[380px] bg-white border-l border-gray-200 flex-col overflow-y-auto ${g==="results"?"flex h-full":"hidden md:flex h-full"}`,children:[d.jsxs("div",{className:"p-6 bg-purple-900 text-white shrink-0",children:[d.jsxs("h2",{className:"font-bold flex items-center gap-2 mb-6",children:[d.jsx(iy,{size:18,className:"text-green-400"})," Configurao de Lucro"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"flex justify-between text-xs text-purple-200 mb-1 uppercase font-bold",children:"Custos Fixos/Operacionais"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:ne,onChange:L=>me(parseFloat(L.target.value)||0),className:"w-full bg-purple-800/50 border border-purple-700 rounded-lg p-2 text-white font-bold outline-none focus:border-green-400"}),d.jsx("span",{className:"absolute right-3 top-2 text-purple-300 font-bold",children:"%"})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex justify-between text-xs text-purple-200 mb-1 uppercase font-bold",children:"Margem de Lucro Lquida"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:_,onChange:L=>M(parseFloat(L.target.value)||0),className:"w-full bg-purple-800/50 border border-purple-700 rounded-lg p-2 text-white font-bold outline-none focus:border-green-400"}),d.jsx("span",{className:"absolute right-3 top-2 text-purple-300 font-bold",children:"%"})]})]}),d.jsx("div",{className:"pt-2 border-t border-purple-800/50",children:d.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>{F(!X),he({})},children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-bold text-green-400",children:X?"Modo Lucro Fixo (Padro)":"Modo Clculo Completo"}),d.jsx("p",{className:"text-[10px] text-purple-300",children:X?"Preo Automtico (No Editvel)":"Permite editar preo de venda"})]}),d.jsx("div",{className:"text-green-400",children:X?d.jsx(tv,{size:32}):d.jsx(Wy,{size:32,className:"text-purple-400"})})]})})]})]}),d.jsx("div",{className:"flex-1 p-4 space-y-4 pb-24 md:pb-4 overflow-y-auto",children:yn.map((L,se)=>d.jsxs("div",{className:`bg-white p-4 rounded-xl shadow-lg border relative overflow-hidden group ${L.name.includes("iFood")?"border-red-100":"border-gray-100"} ${L.isManual?"ring-2 ring-yellow-200":""}`,children:[d.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${L.color||"bg-gray-200"}`}),d.jsxs("div",{className:"pl-2",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("span",{className:"font-bold text-sm text-gray-700",children:L.name}),d.jsxs("span",{className:"text-[9px] bg-gray-100 px-1 rounded text-gray-500 font-bold",children:["Fee: ",L.commission_percent,"%"]})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-xs text-gray-400",children:"Venda:"}),X?d.jsxs("span",{className:"text-2xl font-black text-gray-800",children:["R$ ",L.suggestedPrice.toFixed(2)]}):d.jsxs("div",{className:"relative flex-1",children:[d.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500 font-bold text-sm",children:"R$"}),d.jsx("input",{type:"number",value:ie[L.id]!==void 0?ie[L.id]:L.suggestedPrice.toFixed(2),onChange:Re=>ze(L.id,Re.target.value),onFocus:Re=>Re.target.select(),className:`w-full pl-8 pr-2 py-1 rounded-lg border font-black text-lg outline-none transition-all ${L.isManual?"border-yellow-400 bg-yellow-50 text-yellow-900":"border-gray-200 text-gray-800 bg-transparent focus:border-purple-300"}`}),L.isManual&&d.jsx("button",{onClick:()=>Me(L.id),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-red-500",children:d.jsx(Ly,{size:14})})]})]}),d.jsxs("div",{className:"text-[10px] space-y-1 pt-2 border-t border-gray-50 text-gray-400",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Taxas (Plat + Fixa):"})," ",d.jsxs("span",{className:"text-red-400",children:["- R$ ",L.breakdown.platformFee.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:["Custos Fixos (",ne,"%):"]})," ",d.jsxs("span",{className:"text-orange-400",children:["- R$ ",L.breakdown.operational.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Ingredientes:"})," ",d.jsxs("span",{className:"text-gray-500",children:["- R$ ",L.breakdown.cmv.toFixed(2)]})]}),d.jsxs("div",{className:`flex justify-between font-bold px-1 rounded mt-1 ${L.breakdown.profit<0?"bg-red-100 text-red-600":"bg-green-50 text-green-600"}`,children:[d.jsxs("span",{children:["Lucro Real ",L.isManual?"(Manual)":X?"(Fixo)":`(${_}%)`,":"]})," ",d.jsxs("span",{children:["R$ ",L.breakdown.profit.toFixed(2)," (",L.calculatedMargin.toFixed(1),"%)"]})]})]})]})]},se))})]})]}),v&&d.jsx(t_,{channels:r,close:()=>x(!1),refresh:f,saveData:c,deleteData:h,confirmDialog:St}),S&&d.jsx(Wx,{data:G,categories:Ot,close:()=>N(!1),save:pe}),T&&d.jsx(e_,{recipes:l,channels:r,close:()=>k(!1),onLoad:bn,onPrint:Va,onDelete:_e}),E.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black/70 z-[70] flex items-center justify-center p-6 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsx("div",{className:"bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl scale-100 animate-in zoom-in-95",children:d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center mb-4 ${E.type==="confirm"?"bg-red-50 text-red-500":"bg-green-50 text-green-500"}`,children:E.type==="confirm"?d.jsx(sv,{size:32}):d.jsx(S0,{size:32})}),d.jsx("h3",{className:"text-xl font-black text-gray-800 mb-2",children:E.title}),d.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:E.message}),d.jsxs("div",{className:"flex gap-3 w-full",children:[E.type==="confirm"&&d.jsx("button",{onClick:Ga,className:"flex-1 py-3 bg-gray-100 text-gray-600 font-bold rounded-xl hover:bg-gray-200",children:"Cancelar"}),d.jsx("button",{onClick:Qn,className:`flex-1 py-3 font-bold rounded-xl text-white shadow-lg ${E.type==="confirm"?"bg-red-500 hover:bg-red-600 shadow-red-200":"bg-green-600 hover:bg-green-700 shadow-green-200"}`,children:E.type==="confirm"?"Confirmar":"Entendido"})]})]})})})]})}function Wx({data:i,categories:n,close:l,save:r}){const[c,h]=J.useState(i||{name:"",price:"",amount:"",unit:"g",category:""});return d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h2",{className:"text-xl font-black uppercase",children:[i?"Editar":"Novo"," Insumo"]}),d.jsx("button",{onClick:l,className:"bg-gray-100 p-1 rounded-full",children:d.jsx(Kn,{size:20})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Nome"}),d.jsx("input",{value:c.name,onChange:f=>h({...c,name:f.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 font-bold outline-none focus:border-purple-300",placeholder:"Ex: Aa 5 Litros",autoFocus:!0})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Categoria"}),d.jsx("input",{list:"cat-options",value:c.category,onChange:f=>h({...c,category:f.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 font-bold outline-none focus:border-purple-300",placeholder:"Ex: Frutas"}),d.jsx("datalist",{id:"cat-options",children:n.map(f=>d.jsx("option",{value:f},f))})]}),d.jsxs("div",{className:"w-1/3",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Unid."}),d.jsxs("select",{value:c.unit,onChange:f=>h({...c,unit:f.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 font-bold bg-white outline-none",children:[d.jsx("option",{value:"g",children:"g"}),d.jsx("option",{value:"ml",children:"ml"}),d.jsx("option",{value:"un",children:"un"})]})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Preo (R$)"}),d.jsx("input",{type:"number",value:c.price,onChange:f=>h({...c,price:f.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 font-bold outline-none focus:border-purple-300"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Qtd Emb."}),d.jsx("input",{type:"number",value:c.amount,onChange:f=>h({...c,amount:f.target.value}),className:"w-full p-3 bg-gray-50 rounded-xl border border-gray-100 font-bold outline-none focus:border-purple-300"})]})]})]}),d.jsx("button",{onClick:()=>r({...c,price:parseFloat(c.price),amount:parseFloat(c.amount)}),className:"w-full bg-green-600 text-white py-4 rounded-2xl font-bold mt-6 shadow-lg shadow-green-200",children:"Salvar Insumo"})]})})}function e_({recipes:i,channels:n,close:l,onLoad:r,onDelete:c,onPrint:h}){const[f,g]=J.useState(""),p=i.filter(x=>x.name.toLowerCase().includes(f.toLowerCase())),v=x=>{let S=0;if(x.ingredients?.forEach(de=>{S+=de.price/de.amount*de.usedAmount}),!n||n.length===0)return{cmv:S,priceBalcao:0,priceIfood:0};const N=n.find(de=>de.name.toLowerCase().match(/balco|balcao|propria|prpria/))||n[0];if(!N)return{cmv:S,priceBalcao:0,priceIfood:0};const T=x.operational_percent||30,k=x.profit_percent||20,E=parseFloat(N.commission_percent)+parseFloat(N.payment_fee_percent)+parseFloat(T)+parseFloat(k),$=S+parseFloat(N.fixed_fee),G=Math.max(.01,1-Math.min(E,95)/100),K=$/G,H=K*(k/100),Z=de=>{const I=n.find(at=>at.name.toLowerCase().includes(de));if(!I)return 0;if(I.id===N.id)return K;const Q=parseFloat(I.commission_percent)+parseFloat(I.payment_fee_percent)+parseFloat(T),we=S+parseFloat(I.fixed_fee)+H,xe=Math.max(.01,1-Math.min(Q,95)/100);return we/xe};return{cmv:S,priceBalcao:Z("balco")||Z("balcao")||Z("propria"),priceIfood:Z("ifood")}};return d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl p-6 shadow-2xl h-[80vh] flex flex-col animate-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-xl font-black uppercase",children:"Fichas Tcnicas"}),d.jsx("button",{onClick:l,className:"bg-gray-100 p-2 rounded-full",children:d.jsx(Kn,{size:20})})]}),d.jsxs("div",{className:"mb-4 relative",children:[d.jsx(dc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),d.jsx("input",{value:f,onChange:x=>g(x.target.value),className:"w-full pl-10 p-3 bg-gray-50 rounded-xl border border-gray-100 outline-none focus:border-purple-200",placeholder:"Pesquisar ficha..."})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3",children:[p.map(x=>{const S=v(x);return d.jsxs("div",{className:"flex justify-between items-center bg-white p-4 border border-gray-100 rounded-2xl hover:border-purple-200 hover:shadow-sm transition-all",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-gray-800 text-lg flex items-center gap-2",children:[x.name," ",x.is_reusable&&d.jsx("span",{className:"text-[9px] bg-purple-100 text-purple-700 px-2 rounded-full font-bold",children:"PREP"})]}),d.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex flex-wrap gap-x-2",children:[d.jsxs("span",{children:[x.ingredients?.length||0," itens"]}),d.jsx("span",{children:""}),d.jsxs("span",{children:["Lucro: ",d.jsxs("span",{className:"text-green-600 font-bold",children:[x.profit_percent,"%"]})]}),d.jsx("span",{children:""}),d.jsxs("span",{children:["CMV: R$ ",S.cmv.toFixed(2)]}),S.priceBalcao>0&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["Balco: ",d.jsxs("strong",{className:"text-gray-600",children:["R$ ",S.priceBalcao.toFixed(2)]})]})]}),S.priceIfood>0&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["iFood: ",d.jsxs("strong",{className:"text-gray-600",children:["R$ ",S.priceIfood.toFixed(2)]})]})]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>h(x),className:"px-3 py-2 bg-gray-100 text-gray-600 rounded-xl hover:bg-gray-200",title:"Imprimir",children:d.jsx(im,{size:16})}),d.jsxs("button",{onClick:()=>r(x),className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-xl font-bold text-xs hover:bg-blue-100 flex items-center gap-2",children:[d.jsx(rm,{size:14})," Abrir"]}),d.jsx("button",{onClick:()=>c(x.id),className:"p-2 bg-red-50 text-red-500 rounded-xl hover:bg-red-100",children:d.jsx(Xn,{size:16})})]})]},x.id)}),p.length===0&&d.jsx("p",{className:"text-center text-gray-400 py-10",children:"Nenhuma ficha encontrada."})]})]})})}function t_({channels:i,close:n,refresh:l,saveData:r,deleteData:c,confirmDialog:h}){const[f,g]=J.useState(null),[p,v]=J.useState({}),x=k=>{g(k.id),v(k)},S=()=>{g("new"),v({name:"",commission_percent:0,payment_fee_percent:0,fixed_fee:0,color:"bg-gray-200"})},N=async()=>{const k={...p};f==="new"&&delete k.id,await r("sales_channels",k),await l(),g(null)},T=k=>{h&&h("confirm","Excluir Canal?","Tem certeza?",async()=>{await c("sales_channels",k),await l()})};return d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl p-6 shadow-2xl h-[80vh] flex flex-col animate-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black uppercase",children:"Taxas"}),d.jsx("p",{className:"text-xs text-gray-400",children:"Configure as taxas"})]}),d.jsx("button",{onClick:n,children:d.jsx(Kn,{})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3",children:[i.map(k=>d.jsx("div",{className:"border border-gray-100 rounded-xl p-4 bg-gray-50",children:f===k.id?d.jsx(P0,{form:p,setForm:v,onSave:N,onCancel:()=>g(null)}):d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-3 h-10 rounded-full ${k.color}`}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-gray-800",children:k.name}),d.jsxs("p",{className:"text-xs text-gray-500",children:["Comisso: ",d.jsxs("strong",{children:[k.commission_percent,"%"]})," | Pgto: ",d.jsxs("strong",{children:[k.payment_fee_percent,"%"]})," | Fixo: ",d.jsxs("strong",{children:["R$ ",k.fixed_fee]})]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>x(k),className:"p-2 bg-white border rounded-lg hover:bg-gray-100",children:d.jsx(Yl,{size:14})}),d.jsx("button",{onClick:()=>T(k.id),className:"p-2 bg-white border rounded-lg text-red-500 hover:bg-red-50",children:d.jsx(Xn,{size:14})})]})]})},k.id)),f==="new"&&d.jsx("div",{className:"border border-purple-200 bg-purple-50 rounded-xl p-4",children:d.jsx(P0,{form:p,setForm:v,onSave:N,onCancel:()=>g(null)})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:d.jsxs("button",{onClick:S,disabled:f!==null,className:"w-full bg-gray-900 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 disabled:opacity-50",children:[d.jsx(xr,{size:18})," Novo Canal"]})})]})})}function P0({form:i,setForm:n,onSave:l,onCancel:r}){return d.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Nome da Plataforma"}),d.jsx("input",{value:i.name,onChange:c=>n({...i,name:c.target.value}),className:"w-full p-2 rounded-lg border font-bold text-sm"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Comisso %"}),d.jsx("input",{type:"number",value:i.commission_percent,onChange:c=>n({...i,commission_percent:c.target.value}),className:"w-full p-2 rounded-lg border font-bold text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Pgto %"}),d.jsx("input",{type:"number",value:i.payment_fee_percent,onChange:c=>n({...i,payment_fee_percent:c.target.value}),className:"w-full p-2 rounded-lg border font-bold text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Fixo R$"}),d.jsx("input",{type:"number",value:i.fixed_fee,onChange:c=>n({...i,fixed_fee:c.target.value}),className:"w-full p-2 rounded-lg border font-bold text-sm"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-400",children:"Cor"}),d.jsx("input",{value:i.color,onChange:c=>n({...i,color:c.target.value}),className:"w-full p-2 rounded-lg border font-bold text-sm",placeholder:"bg-red-100"})]}),d.jsxs("div",{className:"flex gap-2 items-end",children:[d.jsx("button",{onClick:l,className:"flex-1 bg-green-600 text-white py-2 rounded-lg font-bold text-xs",children:"Salvar"}),d.jsx("button",{onClick:r,className:"bg-gray-200 text-gray-600 py-2 px-4 rounded-lg font-bold text-xs",children:"X"})]})]})]})}function a_(){const{user:i}=Fl(),n=J.useRef(!1),[l,r]=J.useState(()=>window.location.hash.replace("#","")||"menu");J.useEffect(()=>{const f=()=>{const g=window.location.hash.replace("#","");r(g||"menu"),n.current=!1};return window.addEventListener("hashchange",f),()=>window.removeEventListener("hashchange",f)},[]),J.useEffect(()=>{if(l==="menu"){window.history.state?.page!=="menu_trap"&&window.history.pushState({page:"menu_trap"},"","#menu");const f=g=>{if(n.current)return;window.confirm("Deseja sair do aplicativo?")?window.history.go(-1):window.history.pushState({page:"menu_trap"},"","#menu")};return window.addEventListener("popstate",f),()=>window.removeEventListener("popstate",f)}},[l]);const c=f=>{n.current=!0,window.location.hash=f},h=()=>{c(i?"admin":"login")};return J.useEffect(()=>{!i&&(l==="admin"||l==="pricing")&&c("menu")},[i]),d.jsxs("div",{children:[l==="menu"&&d.jsx(Jx,{onGoToAdmin:h}),l==="login"&&d.jsx(Px,{onBack:()=>c("menu"),onLoginSuccess:()=>c("admin")}),l==="admin"&&d.jsx(Zx,{onBack:()=>c("menu"),onNavigate:c}),l==="pricing"&&d.jsx(Fx,{onBack:()=>c("admin")})]})}Qg.createRoot(document.getElementById("root")).render(d.jsx(qg.StrictMode,{children:d.jsx(a_,{})}));
